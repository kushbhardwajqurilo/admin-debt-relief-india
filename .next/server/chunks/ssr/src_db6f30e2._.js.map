{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 5, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/deves/Desktop/deploye%20testing/aws_amplify_admin_dri/src/url/ApiRoute.js"],"sourcesContent":["export const ApiRute = {\r\n  admin: {\r\n    login: \"/admin/login\",\r\n    getadmindetail: \"/admin/get-details\",\r\n    updatePRofule: \"/admin/profile-update\",\r\n    adminbanner: \"/admin/admindashboardbanner\",\r\n    loginbanner: \"/banner/logindashboardbanner\",\r\n    updateAdmin: \"/admin/update-details\",\r\n    getadminBanner: \"/admin/getadminBanner\",\r\n    requestOtp: \"/admin/request-otp\",\r\n    verifyOtp: \"/admin/verify-otp\",\r\n    changepassword: \"/admin/change-password\",\r\n    outstanding: \"/outstanding/add-outstanding\",\r\n    adddialboxContent: \"/admin/add-content\",\r\n    getdialbox: \"/admin/get-content-admin\",\r\n    backup: \"/admin/backup\",\r\n    requestAdminOtp: \"/admin/get-otp\",\r\n    forgetPassword: \"/admin/forget-password\",\r\n  },\r\n  currentImage: {\r\n    upload: \"/banner/upload\",\r\n    getbanner: \"/banner\",\r\n    delete: \"/banner/delete\",\r\n    recentCard: \"/banner/all\",\r\n    addrecentCart: \"/banner/bannertext\",\r\n    update: \"/banner/update\",\r\n    addWithTitle: \"/banner/bannertext\",\r\n    deleteWithTitle: \"/banner/del-banner-title\",\r\n  },\r\n  advocate: {\r\n    add: \"/advocate/add\",\r\n    getAll: \"/advocate/all\",\r\n    single: \"/advocate/single\",\r\n    call_now: \"/admin/call-now-feature\",\r\n    timing: \"/advocate/set-timing\",\r\n    delete: \"/advocate/delete-advocate\",\r\n    update: \"/advocate/update\",\r\n  },\r\n  terms: {\r\n    add: \"/tnc/add\",\r\n    get: \"/tnc/all\",\r\n    delete: \"/tnc/delete\",\r\n    update: \"/tnc/update\",\r\n  },\r\n  policy: {\r\n    add: \"/privacy/\",\r\n    get: \"/privacy/\",\r\n    delete: \"/privacy/\",\r\n  },\r\n  upi: {\r\n    get: \"/upi\",\r\n    add: \"/upi\",\r\n    update: \"/upi/update\",\r\n  },\r\n  kyc: {\r\n    get: \"/kyc/get-kyc\",\r\n    approve: \"/kyc/approve-kyc\",\r\n  },\r\n  driwork: {\r\n    getAll: \"/driworks/all\",\r\n    update: \"/driworks/update-dri-works\",\r\n    add: \"/driworks/add-dri-works\",\r\n    delete: \"/driworks/delete-dri-works\",\r\n  },\r\n  driUser: {\r\n    getAll: \"/driuser\",\r\n    search: \"/driuser/search\",\r\n    singe: \"/driuser/single\",\r\n    addUser: \"/driuser\",\r\n    delete: \"/driuser/delete-user\",\r\n    update: \"/driuser/update-user\",\r\n    permanentDelete: \"/driuser/permanent-delete\",\r\n  },\r\n  adminProfileImage: \"/admin/adminProfileBanner\",\r\n  emi: {\r\n    upload: \"/emi/create-emi\",\r\n    mannual: \"/emi/manual\",\r\n    markaspaid: \"/emi/mark-as-paid\",\r\n    bulkinsert: \"/emi/bulk-insert\",\r\n    outstanding: \"/emi/outstand\",\r\n    getPaidService: \"/emi/get-paid-service\",\r\n    updateDueDate: \"/emi/update-date\",\r\n    addLoan: \"/emi/add-single-loan\",\r\n  },\r\n  userLoan: {\r\n    addloan: \"/loan/create\",\r\n  },\r\n  invoice: {\r\n    add: \"/invoice\",\r\n  },\r\n  whatsapp: {\r\n    add: \"/whatsapp/\",\r\n    update: \"/whatsapp/\",\r\n    get: \"/whatsapp/\",\r\n  },\r\n  loan: {\r\n    addLoan: \"/loan/create\",\r\n  },\r\n  bank: {\r\n    getbanks: \"/admin/get-banks\",\r\n    addbanks: \"/admin/add-banks\",\r\n  },\r\n  notifications: {\r\n    all: \"/notification/\",\r\n    custome: {\r\n      all: \"/notification/custom-notification\",\r\n      get: \"/notification/get-custom-notification\",\r\n    },\r\n    single: \"/notification/single-user-notification\",\r\n  },\r\n  service: {\r\n    addService: \"/service/\",\r\n  },\r\n  subscription: {\r\n    add: \"/subcription/add-subscription\",\r\n    getuser: \"/subcription/subscription-users\",\r\n    singerSubscription: \"/subcription/get-substouser\",\r\n    markaspaid: \"/subcription/markAsPaid\",\r\n    paidSubs: \"/subcription/getPaidSubscriptions\",\r\n    updateDueDate: \"/subcription/update-date\",\r\n  },\r\n  user: {\r\n    single: \"/user/get-user-saving\",\r\n  },\r\n};\r\n\r\n// \"use client\";\r\n// import { ApiRute } from \"@/url/ApiRoute\";\r\n// import { API_BASE_URL } from \"@/url/BaseURL\";\r\n// import { getStroage } from \"@/url/storage\";\r\n// import { useParams } from \"next/navigation\";\r\n// import React, { use, useEffect, useState } from \"react\";\r\n// import toast from \"react-hot-toast\";\r\n// import Header from \"../Header\";\r\n\r\n// // ✅ Safe date formatter\r\n// const formatDate = (dateStr) => {\r\n//   const d = new Date(dateStr);\r\n//   const day = d.getDate().toString().padStart(2, \"0\");\r\n//   const month = (d.getMonth() + 1).toString().padStart(2, \"0\");\r\n//   const year = d.getFullYear();\r\n//   return `${day}/${month}/${year}`;\r\n// };\r\n\r\n// export default function UserDashboard() {\r\n//   const { details } = useParams();\r\n//   const [usesrId, setUserId] = useState(\"\");\r\n//   const [phone, setPhone] = useState(0);\r\n//   // ✅ Independent tab states\r\n//   const [subscriptionTab, setSubscriptionTab] = useState(\"current\");\r\n//   const [serviceTab, setServiceTab] = useState(\"current\");\r\n\r\n//   // ✅ Separate states for subscriptions\r\n//   const [currentSubscriptions, setCurrentSubscriptions] = useState([]);\r\n//   const [paidSubscriptions, setPaidSubscriptions] = useState([]);\r\n\r\n//   // ✅ Separate states for services\r\n//   const [currentServices, setCurrentServices] = useState([]);\r\n//   const [paidServices, setPaidServices] = useState([]);\r\n\r\n//   const fetchUserId = async () => {\r\n//     try {\r\n//       const response = await fetch(`${API_BASE_URL}${ApiRute.user.single}`, {\r\n//         method: \"POST\",\r\n//         headers: {\r\n//           \"content-type\": \"application/json\",\r\n//           authorization: `Bearer ${getStroage().token}`,\r\n//         },\r\n//         body: JSON.stringify({ user_id: details }),\r\n//       });\r\n//       const result = await response.json();\r\n//       if (result?.success) {\r\n//         setPhone(result?.userData?.phone);\r\n//         setUserId(result?.userData);\r\n//         fetchCurrentServices(result?.userData?.phone);\r\n//         fetchPaidServices(result?.userData?.phone);\r\n//       }\r\n//     } catch (error) {\r\n//       console.error(error);\r\n//     }\r\n//   };\r\n//   const getStatusClass = (status) => {\r\n//     if (status === \"paid\") return \"bg-green-100 text-green-600\";\r\n//     if (status === \"pending\") return \"bg-yellow-100 text-yellow-600\";\r\n//     return \"bg-gray-200 text-gray-500\";\r\n//   };\r\n\r\n//   // ✅ Fetch unpaid/current subscriptions\r\n//   const fetchCurrentSubscriptions = async () => {\r\n//     try {\r\n//       const response = await fetch(\r\n//         `${API_BASE_URL}${ApiRute.subscription.singerSubscription}/${details}`,\r\n//         { method: \"GET\", headers: { \"content-type\": \"application/json\" } }\r\n//       );\r\n//       const result = await response.json();\r\n//       if (result.data && result.data.length > 0) {\r\n//         const unpaidSubs = result.data\r\n//           .filter((sub) => !sub.isPaid)\r\n//           .map((sub) => ({\r\n//             ...sub,\r\n//             paidForMonth: new Date(sub.dueDate).toLocaleString(\"default\", {\r\n//               month: \"long\",\r\n//               year: \"numeric\",\r\n//             }),\r\n//             status: \"pending\",\r\n//           }));\r\n//         setCurrentSubscriptions(unpaidSubs);\r\n//       } else {\r\n//         setCurrentSubscriptions([]);\r\n//       }\r\n//     } catch (err) {\r\n//       console.error(err);\r\n//       console.error(\"Error fetching current subscriptions.\");\r\n//     }\r\n//   };\r\n\r\n//   // ✅ Fetch paid subscriptions\r\n//   const fetchPaidSubscriptions = async () => {\r\n//     try {\r\n//       const response = await fetch(\r\n//         `${API_BASE_URL}${ApiRute.subscription.paidSubs}?userId=${details}`,\r\n//         {\r\n//           method: \"GET\",\r\n//           headers: {\r\n//             \"content-type\": \"application/json\",\r\n//             authorization: `Bearer ${getStroage().token}`,\r\n//           },\r\n//         }\r\n//       );\r\n//       const result = await response.json();\r\n\r\n//       if (result.data && result.data.length > 0) {\r\n//         setPaidSubscriptions(\r\n//           result.data.map((sub) => ({\r\n//             ...sub,\r\n//             status: sub.status || \"paid\",\r\n//           }))\r\n//         );\r\n//       } else {\r\n//         setPaidSubscriptions([]);\r\n//       }\r\n//     } catch (err) {\r\n//       console.error(err);\r\n//       console.error(\"Error fetching paid subscriptions.\");\r\n//     }\r\n//   };\r\n\r\n//   // ✅ Fetch unpaid/current services\r\n//   const fetchCurrentServices = async (phone) => {\r\n//     try {\r\n//       const response = await fetch(\r\n//         `${API_BASE_URL}${ApiRute?.driUser?.singe}`,\r\n//         {\r\n//           method: \"POST\",\r\n//           headers: { \"content-type\": \"application/json\" },\r\n//           body: JSON.stringify({ phone }),\r\n//         }\r\n//       );\r\n\r\n//       const result = await response.json();\r\n//       if (result?.success) {\r\n//         const [day, month, year] = result?.data?.dueDate.split(\"-\").map(Number);\r\n//         const dateObj = new Date(year, month - 1, day);\r\n\r\n//         const payload = [\r\n//           {\r\n//             emiPay: result?.data?.emiPay,\r\n//             userId: result?.data?.id,\r\n//             dueDate: dateObj, // ✅ assign Date object\r\n//             paidForMonth: dateObj.toLocaleString(\"default\", {\r\n//               month: \"long\",\r\n//               year: \"numeric\",\r\n//             }),\r\n//             totalEMI: result?.data?.totalEmi,\r\n//             emiAmount: result?.data?.monthlyEmi,\r\n//             status: result?.data?.status || \"pending\", // fallback\r\n//             serviceType: !result?.data?.serviceFees\r\n//               ? \"service Advance\"\r\n//               : \"service\",\r\n//           },\r\n//         ];\r\n\r\n//         setCurrentServices(payload);\r\n//       } else {\r\n//         setCurrentServices([]);\r\n//       }\r\n//     } catch (err) {\r\n//       console.error(\"Error fetching current services:\", err);\r\n//     }\r\n//   };\r\n\r\n//   // ✅ Fetch paid services\r\n//   const fetchPaidServices = async () => {\r\n//     try {\r\n//       const response = await fetch(\r\n//         `${API_BASE_URL}${ApiRute?.emi.getPaidService}?user_id=${details}`,\r\n//         {\r\n//           method: \"GET\",\r\n//           headers: {\r\n//             \"content-type\": \"application/json\",\r\n//             authorization: `Bearer ${getStroage().token}`,\r\n//           },\r\n//         }\r\n//       );\r\n//       const result = await response.json();\r\n//       console.log(\"paid\", result);\r\n//       if (result.data && result.data.length > 0) {\r\n//         setPaidServices(result.data.map((svc) => ({ ...svc, status: \"paid\" })));\r\n//       } else {\r\n//         setPaidServices([]);\r\n//       }\r\n//     } catch (err) {\r\n//       console.error(err);\r\n//       console.error(\"Error fetching paid services.\");\r\n//     }\r\n//   };\r\n\r\n//   // ✅ Mark subscription as paid\r\n//   const subscriptionMarkAsPaid = async (subscription) => {\r\n//     try {\r\n//       const res = await fetch(\r\n//         `${API_BASE_URL}${ApiRute.subscription.markaspaid}`,\r\n//         {\r\n//           method: \"POST\",\r\n//           headers: {\r\n//             \"Content-Type\": \"application/json\",\r\n//             authorization: `Bearer ${getStroage().token}`,\r\n//           },\r\n//           body: JSON.stringify({\r\n//             subscriptionId: subscription?._id,\r\n//             paymentMode: \"UPI\",\r\n//           }),\r\n//         }\r\n//       );\r\n//       const data = await res.json();\r\n//       if (data.success) {\r\n//         toast.success(\"Subscription marked as paid!\");\r\n//         fetchCurrentSubscriptions();\r\n//         fetchPaidSubscriptions();\r\n//       } else {\r\n//         toast.error(data.message || \"Failed to mark as paid.\");\r\n//       }\r\n//     } catch (err) {\r\n//       console.error(err);\r\n//       toast.error(\"Error marking subscription as paid.\");\r\n//     }\r\n//   };\r\n\r\n//   // ✅ Mark service as paid\r\n//   const checkServicePayment = (svcIndex) => {\r\n//     const paidService = { ...currentServices[svcIndex], status: \"paid\" };\r\n//     setPaidServices((prev) => [...prev, paidService]);\r\n//     setCurrentServices((prev) => prev.filter((_, idx) => idx !== svcIndex));\r\n//     toast.success(`Service for ${paidService.paidForMonth} marked as PAID.`);\r\n//   };\r\n\r\n//   // ✅ Decide which subscriptions/services to show based on tab\r\n//   const subscriptionsToShow =\r\n//     subscriptionTab === \"paid\" ? paidSubscriptions : currentSubscriptions;\r\n//   const servicesToShow = serviceTab === \"paid\" ? paidServices : currentServices;\r\n\r\n//   const markAsPaid = async () => {\r\n//     try {\r\n//       alert(\"hello\");\r\n//       const res = await fetch(`${API_BASE_URL}${ApiRute.emi.markaspaid}`, {\r\n//         method: \"PUT\",\r\n//         headers: {\r\n//           \"content-type\": \"application/json\",\r\n//           authorization: `Bearer ${getStroage().token}`,\r\n//         },\r\n//         body: JSON.stringify({\r\n//           phone: phone,\r\n//           user_id: details,\r\n//         }),\r\n//       });\r\n//       const result = await res.json();\r\n//       fetchCurrentSubscriptions();\r\n//       fetchPaidSubscriptions();\r\n//       fetchUserId();\r\n//       result?.success\r\n//         ? toast.success(result?.message)\r\n//         : toast.error(result?.message);\r\n//     } catch (err) {\r\n//       console.error(err);\r\n//     }\r\n//   };\r\n\r\n//   // ✅ Initial fetch\r\n//   useEffect(() => {\r\n//     fetchCurrentSubscriptions();\r\n//     fetchPaidSubscriptions();\r\n//     fetchUserId();\r\n//   }, [details]);\r\n\r\n//   return (\r\n//     <>\r\n//       <Header />\r\n//       <div className=\"min-h-screen flex justify-center items-start bg-gray-100 p-6\">\r\n//         <div className=\"max-w-6xl w-full flex flex-col space-y-8 justify-center rounded-xl bg-white p-5\">\r\n//           <div className=\"flex flex-col md:flex-row gap-6\">\r\n//             {/* Left: Subscriptions */}\r\n//             <div className=\"flex-1 flex flex-col\">\r\n//               <h3 className=\"text-xl font-semibold text-gray-800 mb-3\">\r\n//                 Monthly Subscriptions\r\n//               </h3>\r\n//               <ul className=\"flex border-b mb-3\">\r\n//                 <li\r\n//                   className={`cursor-pointer px-4 py-2 ${\r\n//                     subscriptionTab === \"current\"\r\n//                       ? \"border-b-2 border-blue-600 font-semibold text-blue-600\"\r\n//                       : \"text-gray-500 hover:text-blue-600\"\r\n//                   }`}\r\n//                   onClick={() => setSubscriptionTab(\"current\")}\r\n//                 >\r\n//                   Current\r\n//                 </li>\r\n//                 <li\r\n//                   className={`cursor-pointer px-4 py-2 relative ${\r\n//                     subscriptionTab === \"paid\"\r\n//                       ? \"border-b-2 border-blue-600 font-semibold text-blue-600\"\r\n//                       : \"text-gray-500 hover:text-blue-600\"\r\n//                   }`}\r\n//                   onClick={() => setSubscriptionTab(\"paid\")}\r\n//                 >\r\n//                   Paid{\" \"}\r\n//                   {/* <span className=\"absolute top-0.5 right-0.3 bg-red-400 w-[15px] h-[15px] text-center align-middle rounded-xl text-[13px] text-white\">\r\n//                     {paidSubscriptions.length}\r\n//                   </span> */}\r\n//                 </li>\r\n//               </ul>\r\n\r\n//               {subscriptionTab === \"current\" ? (\r\n//                 <div className=\"max-h-[250px] overflow-y-auto space-y-3 border border-gray-200 rounded-xl p-4 bg-gray-50\">\r\n//                   {subscriptionsToShow.length === 0 ? (\r\n//                     <p className=\"text-gray-500 text-sm\">\r\n//                       No subscriptions found.\r\n//                     </p>\r\n//                   ) : (\r\n//                     currentSubscriptions.map((sub, index) => (\r\n//                       <div\r\n//                         key={index}\r\n//                         className=\"p-4 border rounded-xl bg-white hover:bg-gray-100 transition flex flex-col relative\"\r\n//                       >\r\n//                         <span\r\n//                           className={`absolute top-4 right-4 text-sm font-medium px-3 py-1 rounded-full ${getStatusClass(\r\n//                             sub?.status\r\n//                           )}`}\r\n//                         >\r\n//                           {sub?.status.charAt(0).toUpperCase() +\r\n//                             sub?.status?.slice(1).toLowerCase()}\r\n//                         </span>\r\n\r\n//                         <div>\r\n//                           <p className=\"font-semibold text-gray-800\">\r\n//                             {sub.paidForMonth}\r\n//                           </p>\r\n//                           <p className=\"text-sm text-red-500 \">\r\n//                             Due Date:{\" \"}\r\n//                             {formatDate(sub?.paidForDueDate || sub?.dueDate)}\r\n//                           </p>\r\n//                         </div>\r\n\r\n//                         <div className=\"mt-2 grid grid-cols-2 md:grid-cols-3 gap-2 text-sm text-gray-700\">\r\n//                           <p>Amount: ₹{sub?.subscription || sub?.amount}</p>\r\n//                           <p>GST: {sub?.gst}%</p>\r\n//                           <p>Total: ₹{sub?.totalAmount || sub?.amount}</p>\r\n//                         </div>\r\n\r\n//                         {sub?.status === \"pending\" && (\r\n//                           <div className=\"mt-4 flex justify-start\">\r\n//                             <button\r\n//                               onClick={() => subscriptionMarkAsPaid(sub)}\r\n//                               className=\"px-3 py-1 bg-blue-600 text-white rounded hover:bg-green-700 transition text-sm\"\r\n//                             >\r\n//                               Mark as Paid\r\n//                             </button>\r\n//                           </div>\r\n//                         )}\r\n//                       </div>\r\n//                     ))\r\n//                   )}\r\n//                 </div>\r\n//               ) : (\r\n//                 <div className=\"max-h-[250px] overflow-y-auto space-y-3 border border-gray-200 rounded-xl p-4 bg-gray-50\">\r\n//                   {subscriptionsToShow.length === 0 ? (\r\n//                     <p className=\"text-gray-500 text-sm\">\r\n//                       No paid subscriptions found.\r\n//                     </p>\r\n//                   ) : (\r\n//                     paidSubscriptions.map((sub, index) => (\r\n//                       <div\r\n//                         key={index}\r\n//                         className=\"p-4 border rounded-xl bg-white hover:bg-gray-100 transition flex flex-col relative\"\r\n//                       >\r\n//                         <span\r\n//                           className={`absolute top-4 right-4 text-sm font-medium px-3 py-1 rounded-full ${getStatusClass(\r\n//                             sub?.status\r\n//                           )}`}\r\n//                         >\r\n//                           {sub?.status.charAt(0).toUpperCase() +\r\n//                             sub?.status?.slice(1).toLowerCase()}\r\n//                         </span>\r\n\r\n//                         <div>\r\n//                           <p className=\"font-semibold text-gray-800\">\r\n//                             {sub.paidForMonth}\r\n//                           </p>\r\n//                           <p className=\"text-sm text-green-500\">\r\n//                             Date:{\" \"}\r\n//                             {formatDate(sub?.paidForDueDate || sub?.dueDate)}\r\n//                           </p>\r\n//                         </div>\r\n\r\n//                         <div className=\"mt-2 grid grid-cols-2 md:grid-cols-3 gap-2 text-sm text-gray-700\">\r\n//                           <p>Amount: ₹{sub?.subscriptionId?.subscription}</p>\r\n//                           <p>GST: {sub?.gst}%</p>\r\n//                           <p>Total: ₹{sub?.subscriptionId?.amount}</p>\r\n//                         </div>\r\n\r\n//                         {sub?.status === \"pending\" && (\r\n//                           <div className=\"mt-4 flex justify-start\">\r\n//                             <button\r\n//                               onClick={() => subscriptionMarkAsPaid(sub)}\r\n//                               className=\"px-3 py-1 bg-blue-600 text-white rounded hover:bg-green-700 transition text-sm\"\r\n//                             >\r\n//                               Mark as Paid\r\n//                             </button>\r\n//                           </div>\r\n//                         )}\r\n//                       </div>\r\n//                     ))\r\n//                   )}\r\n//                 </div>\r\n//               )}\r\n//             </div>\r\n\r\n//             {/* Right: Services */}\r\n//             {/* Right: Services */}\r\n//             <div className=\"flex-1 flex flex-col\">\r\n//               <h3 className=\"text-xl font-semibold mb-3 text-gray-800 capitalize\">\r\n//                 {currentServices[0]?.serviceType}\r\n//               </h3>\r\n//               <ul className=\"flex border-b mb-3\">\r\n//                 <li\r\n//                   className={`cursor-pointer px-4 py-2 ${\r\n//                     serviceTab === \"current\"\r\n//                       ? \"border-b-2 border-blue-600 font-semibold text-blue-600\"\r\n//                       : \"text-gray-500 hover:text-blue-600\"\r\n//                   }`}\r\n//                   onClick={() => setServiceTab(\"current\")}\r\n//                 >\r\n//                   Current\r\n//                 </li>\r\n//                 <li\r\n//                   className={`cursor-pointer px-4 py-2 ${\r\n//                     serviceTab === \"paid\"\r\n//                       ? \"border-b-2 border-blue-600 font-semibold text-blue-600\"\r\n//                       : \"text-gray-500 hover:text-blue-600\"\r\n//                   }`}\r\n//                   onClick={() => setServiceTab(\"paid\")}\r\n//                 >\r\n//                   Paid\r\n//                 </li>\r\n//               </ul>\r\n\r\n//               <div className=\"max-h-[250px] overflow-y-auto space-y-3 border border-gray-200 rounded-xl p-4 bg-gray-50\">\r\n//                 {servicesToShow.length === 0 ? (\r\n//                   <p className=\"text-gray-500 text-sm\">No Paid Services</p>\r\n//                 ) : (\r\n//                   servicesToShow.map((service, index) => (\r\n//                     <div\r\n//                       key={index}\r\n//                       className=\"p-4 border rounded-xl bg-white hover:bg-gray-100 transition relative\"\r\n//                     >\r\n//                       <span\r\n//                         className={`absolute top-4 right-4 text-sm font-medium px-3 py-1 rounded-full ${getStatusClass(\r\n//                           service?.status\r\n//                         )}`}\r\n//                       >\r\n//                         {(service?.status || \"pending\")\r\n//                           .toString()\r\n//                           .charAt(0)\r\n//                           .toUpperCase() +\r\n//                           (service?.status || \"pending\")\r\n//                             .toString()\r\n//                             .slice(1)\r\n//                             .toLowerCase()}\r\n//                       </span>\r\n\r\n//                       <div>\r\n//                         <p className=\"font-semibold text-gray-800\">\r\n//                           {service?.paidForMonth}\r\n//                         </p>\r\n//                         <p className=\"text-sm text-red-500 \">\r\n//                           {\" \"}\r\n//                           Due Date: {formatDate(service?.dueDate)}\r\n//                         </p>\r\n//                       </div>\r\n\r\n//                       <div className=\"mt-2  flex text-sm text-gray-700  justify-between items-start\">\r\n//                         <p>Total EMI: {service?.totalEMI || \"N/A\"}</p>\r\n//                         <p>EMI: {service?.emiPay || \"N/A\"}</p>\r\n//                         <p>EMI Amount: ₹ {service?.emiAmount || \"N/A\"}</p>\r\n//                       </div>\r\n//                       {/* <button\r\n//                         onClick={() => checkServicePayment(index)}\r\n//                         className=\"absolute bottom-4 right-4 px-3 py-1 bg-green-600 text-white rounded hover:bg-green-700 transition text-sm\"\r\n//                       >\r\n//                         Mark as Paid\r\n//                       </button> */}\r\n//                       <div className=\"mt-4 flex justify-start\">\r\n//                         <button\r\n//                           onClick={markAsPaid}\r\n//                           className=\"px-3 py-1 bg-blue-600 text-white rounded hover:bg-green-700 transition text-sm\"\r\n//                         >\r\n//                           Mark as Paid\r\n//                         </button>\r\n//                       </div>\r\n//                     </div>\r\n//                   ))\r\n//                 )}\r\n//               </div>\r\n//             </div>\r\n//           </div>\r\n//         </div>\r\n//       </div>\r\n//     </>\r\n//   );\r\n// }\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 609, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/deves/Desktop/deploye%20testing/aws_amplify_admin_dri/src/url/BaseURL.js"],"sourcesContent":["// export const API_BASE_URL = \"https://dri-vercel.vercel.app/api/v1\";\r\nexport const API_BASE_URL =\r\n  process.env.NODE_ENV === \"production\"\r\n    ? \"https://api.debtreliefindia.com/api/v1\"\r\n    : \"http://localhost:5000/api/v1\";\r\n"],"names":[],"mappings":"AAAA,sEAAsE;;;;AAC/D,MAAM,eACX,sCACI,0BACA","debugId":null}},
    {"offset": {"line": 618, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/deves/Desktop/deploye%20testing/aws_amplify_admin_dri/src/url/storage.js"],"sourcesContent":["const key = \"token\";\r\nconst forget = \"forget\";\r\nexport const setStorage = (data) => {\r\n  localStorage.setItem(key, JSON.stringify(data));\r\n};\r\n\r\nexport const getStroage = () => {\r\n  if (localStorage.getItem(key)) {\r\n    return JSON.parse(localStorage.getItem(key));\r\n  } else {\r\n    return false;\r\n  }\r\n};\r\nexport const setFogetStorage = (data) => {\r\n  localStorage.setItem(forget, JSON.stringify(data));\r\n};\r\n\r\nexport const getForgetStorage = () => {\r\n  if (localStorage.getItem(forget)) {\r\n    return JSON.parse(localStorage.getItem(forget));\r\n  } else {\r\n    return false;\r\n  }\r\n};\r\n\r\nexport const clearStorage = () => {\r\n  if (localStorage.getItem(key)) {\r\n    localStorage.removeItem(key);\r\n  } else localStorage.removeItem(key);\r\n};\r\n"],"names":[],"mappings":";;;;;;;AAAA,MAAM,MAAM;AACZ,MAAM,SAAS;AACR,MAAM,aAAa,CAAC;IACzB,aAAa,OAAO,CAAC,KAAK,KAAK,SAAS,CAAC;AAC3C;AAEO,MAAM,aAAa;IACxB,IAAI,aAAa,OAAO,CAAC,MAAM;QAC7B,OAAO,KAAK,KAAK,CAAC,aAAa,OAAO,CAAC;IACzC,OAAO;QACL,OAAO;IACT;AACF;AACO,MAAM,kBAAkB,CAAC;IAC9B,aAAa,OAAO,CAAC,QAAQ,KAAK,SAAS,CAAC;AAC9C;AAEO,MAAM,mBAAmB;IAC9B,IAAI,aAAa,OAAO,CAAC,SAAS;QAChC,OAAO,KAAK,KAAK,CAAC,aAAa,OAAO,CAAC;IACzC,OAAO;QACL,OAAO;IACT;AACF;AAEO,MAAM,eAAe;IAC1B,IAAI,aAAa,OAAO,CAAC,MAAM;QAC7B,aAAa,UAAU,CAAC;IAC1B,OAAO,aAAa,UAAU,CAAC;AACjC","debugId":null}},
    {"offset": {"line": 656, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/deves/Desktop/deploye%20testing/aws_amplify_admin_dri/src/app/components/Header.js"],"sourcesContent":["// \"use client\";\n// import { ApiRute } from \"@/url/ApiRoute\";\n// import { API_BASE_URL } from \"@/url/BaseURL\";\n// import Image from \"next/image\";\n// import Link from \"next/link\";\n// import { usePathname, useRouter } from \"next/navigation\";\n// import { useEffect, useState } from \"react\";\n// import { FaPowerOff } from \"react-icons/fa\";\n// import { FiSettings } from \"react-icons/fi\";\n// import { PiBellDuotone } from \"react-icons/pi\";\n\n// export default function Header() {\n//   const pathname = usePathname();\n//   const [adminImage, setProfile] = useState(\"\");\n//   const router = useRouter();\n//   const navItems = [\n//     { name: \"Dashboard\", path: \"/admin/dashboard\" },\n//     { name: \"User Control\", path: \"/userController\" },\n//     { name: \"Services\", path: \"/advocateService\" },\n//     {\n//       name: \"Settings\",\n//       path: \"/Setting\",\n//       icon: <FiSettings className=\"text-xl\" />,\n//     },\n//   ];\n\n//   const handleAction = () => {\n//     localStorage.removeItem(\"token\");\n//     router.push(\"/\");\n//   };\n//   const [profileImage, setProfileImage] = useState({});\n//   // const profileDataFetch = async () => {\n//   //   const res = await fetch(`${API_BASE_URL}${ApiRute.adminProfileImage}`, {\n//   //     method: \"GET\",\n//   //     headers: {\n//   //       \"Content-Type\": \"application/json\",\n//   //     },\n//   //   });\n//   //   const contentType = res.headers.get(\"content-type\");\n//   //   let resData;\n//   //   if (contentType && contentType.includes(\"application/json\")) {\n//   //     resData = await res.json();\n//   //   } else {\n//   //     const text = await res.text();\n//   //     throw new Error(`Unexpected response: ${text}`);\n//   //   }\n//   //   if (res.ok && resData?.success) {\n//   //     setProfileImage(resData.data);\n//   //   } else {\n//   //   }\n//   // };\n//   useEffect(() => {\n//     // profileDataFetch();\n//     setProfile(window.location.origin);\n//   }, []);\n//   return (\n//     <header className=\"w-full flex items-center justify-between px-6 shadow bg-white\">\n//       {/* Logo Section */}\n//       <div className=\"flex items-center ms-20\">\n//         <Image src=\"/deptlogo.png\" alt=\"Logo\" height={200} width={250} />\n//       </div>\n\n//       {/* Navigation Tabs */}\n//       <div className=\"flex items-center space-x-4\">\n//         {navItems.map((item, idx) => {\n//           const isActive = pathname === item.path;\n\n//           return (\n//             <button\n//               key={idx}\n//               onClick={() => router.push(item.path)}\n//               className={`px-6 py-2 rounded-full border-2 border-[#ccc] flex flex-col items-center ${\n//                 isActive\n//                   ? \"bg-gradient-to-r from-blue-900 to-blue-600 text-white shadow-md\"\n//                   : \"bg-blue-100 text-black\"\n//               }`}\n//             >\n//               <div className=\"flex items-center space-x-2\">\n//                 {item?.icon && item?.icon}\n//                 <span>{item.name}</span>\n//               </div>\n//               {isActive && (\n//                 <div className=\"h-1 w-full bg-gradient-to-r from-purple-400 to-cyan-300 mt-1 rounded-full\"></div>\n//               )}\n//             </button>\n//           );\n//         })}\n//       </div>\n//       {/* Right Section */}\n//       <div className=\"flex items-center space-x-4\">\n//         <div className=\"relative\">\n//           <PiBellDuotone className=\"text-yellow-500 text-2xl bg-blue-100 rounded-full p-1\" />\n//           <span className=\"absolute top-0 right-0 h-3 w-3 bg-red-500 rounded-full\"></span>\n//         </div>\n//         <button\n//           onClick={handleAction}\n//           className=\"flex items-center justify-center h-10 w-10 bg-blue-100 rounded-full\"\n//         >\n//           <FaPowerOff className=\"text-red-600 text-xl bg-blue-100 rounded-full p-2 h-10 w-10 cursor-pointer\" />\n//         </button>\n//         <Link href=\"/profilePage\" className=\"relative block h-10 w-10\">\n//           <Image\n//             src=\"/favicon.ico\"\n//             alt=\"User\"\n//             className=\"rounded-full border-2 border-purple-500 object-cover\"\n//             fill\n//             sizes=\"(max-width: 768px) 100vw,\n//            (max-width: 1200px) 50vw,\n//            33vw\"\n//           />\n//         </Link>\n//       </div>\n//     </header>\n//   );\n// }\n\n\"use client\";\nimport { ApiRute } from \"@/url/ApiRoute\";\nimport { API_BASE_URL } from \"@/url/BaseURL\";\nimport Image from \"next/image\";\nimport Link from \"next/link\";\nimport { usePathname, useRouter } from \"next/navigation\";\nimport { useEffect, useState } from \"react\";\nimport { FaPowerOff } from \"react-icons/fa\";\nimport { FiSettings } from \"react-icons/fi\";\nimport { PiBellDuotone } from \"react-icons/pi\";\nimport { clearStorage, getStroage } from \"@/url/storage\";\nimport toast from \"react-hot-toast\";\n\nexport default function Header({ data }) {\n  const pathname = usePathname();\n  const router = useRouter();\n  const [profileImage, setProfileImage] = useState(\"\");\n  const [banner, setBanner] = useState(null);\n\n  const navItems = [\n    { name: \"Dashboard\", path: \"/admin/dashboard\" },\n    { name: \"User Control\", path: \"/userController\" },\n    { name: \"Services\", path: \"/advocateService\" },\n    {\n      name: \"Settings\",\n      path: \"/Setting\",\n      icon: <FiSettings className=\"text-xl\" />,\n    },\n  ];\n\n  // ✅ Logout\n  const handleAction = () => {\n    localStorage.removeItem(\"token\");\n    router.push(\"/\");\n  };\n\n  // ✅ Fetch admin details\n  async function getAdminDetails() {\n    try {\n      const response = await fetch(\n        `${API_BASE_URL}${ApiRute.admin.getadmindetail}`,\n        {\n          method: \"GET\",\n          headers: {\n            \"content-type\": \"application/json\",\n            authorization: `Bearer ${getStroage().token}`,\n          },\n        }\n      );\n\n      const bannerRes = await fetch(\n        `${API_BASE_URL}${ApiRute.admin.getadminBanner}`\n      );\n      const bannerData = await bannerRes.json();\n      if (bannerData.success) setBanner(bannerData.data);\n\n      const result = await response.json();\n      if (result?.success) {\n        setProfileImage(result?.data?.image || \"\");\n      } else {\n        console.log(\"err\", result);\n        if (result?.message == \"Token expired\") {\n          toast.error(\n            \"Your session has expired. Please log in again to continue.\"\n          );\n          clearStorage();\n        }\n        console.error(\"Admin detail fetch error:\", result);\n      }\n    } catch (err) {\n      console.error(\"getAdminDetails error:\", err);\n    }\n  }\n\n  useEffect(() => {\n    setProfileImage(data);\n    getAdminDetails();\n  }, [data]);\n\n  // ✅ Determine safe image source\n  const getSafeImage = (img, fallback) => {\n    if (typeof img === \"string\" && img.trim() !== \"\") return img;\n    if (img && typeof img === \"object\" && img.url) return img.url;\n    return fallback;\n  };\n\n  const mainProfileSrc = getSafeImage(profileImage, \"/login.png\");\n  const smallProfileSrc = getSafeImage(profileImage, \"/favicon.ico\");\n\n  return (\n    <header className=\"w-full flex items-center justify-between px-6 py-3 shadow bg-white\">\n      {/* Left: Logo/Profile */}\n      <div className=\"flex items-center ms-20\">\n        <div className=\"flex items-center ms-20\">\n          <Image src=\"/deptlogos.png\" alt=\"Logo\" height={200} width={250} />{\" \"}\n        </div>\n      </div>\n\n      {/* Center: Navigation Tabs */}\n      <div className=\"flex items-center space-x-4\">\n        {navItems.map((item, idx) => {\n          const isActive = pathname === item.path;\n          return (\n            <button\n              key={idx}\n              onClick={() => router.push(item.path)}\n              className={`px-6 py-2 rounded-full border-2 border-[#ccc] flex flex-col items-center transition-all ${\n                isActive\n                  ? \"bg-gradient-to-r from-blue-900 to-blue-600 text-white shadow-md\"\n                  : \"bg-blue-100 text-black hover:bg-blue-200\"\n              }`}\n            >\n              <div className=\"flex items-center space-x-2\">\n                {item?.icon && item.icon}\n                <span>{item.name}</span>\n              </div>\n              {isActive && (\n                <div className=\"h-1 w-full bg-gradient-to-r from-purple-400 to-cyan-300 mt-1 rounded-full\"></div>\n              )}\n            </button>\n          );\n        })}\n      </div>\n\n      {/* Right: Notification, Logout, Profile */}\n      <div className=\"flex items-center space-x-4\">\n        {/* Notification Bell */}\n        {/* <div className=\"relative\">\n          <PiBellDuotone className=\"text-yellow-500 text-2xl bg-blue-100 rounded-full p-1\" />\n          <span className=\"absolute top-0 right-0 h-3 w-3 bg-red-500 rounded-full\"></span>\n        </div> */}\n\n        {/* Logout Button */}\n        <button\n          onClick={handleAction}\n          className=\"flex items-center justify-center h-10 w-10 bg-blue-100 rounded-full hover:bg-blue-200\"\n        >\n          <FaPowerOff className=\"text-red-600 text-xl\" />\n        </button>\n\n        {/* Profile Page Link */}\n        <Link href=\"/profilePage\" className=\"relative block h-10 w-10\">\n          <div className=\"relative h-10 w-10 rounded-full overflow-hidden border-2 border-purple-500\">\n            <Image\n              src={smallProfileSrc}\n              alt=\"User\"\n              fill\n              sizes=\"(max-width:768px) 100vw, 40px\"\n              className=\"object-cover\"\n            />\n          </div>\n        </Link>\n      </div>\n    </header>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1006, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/deves/Desktop/deploye%20testing/aws_amplify_admin_dri/src/utlis/string.js"],"sourcesContent":["export const toTitleCase = (str) =>\r\n  str\r\n    ? str\r\n        .trim()\r\n        .split(/\\s+/)\r\n        .map(\r\n          (word) => word.charAt(0).toUpperCase() + word.slice(1).toLowerCase()\r\n        )\r\n        .join(\" \")\r\n    : \"\";\r\n"],"names":[],"mappings":";;;AAAO,MAAM,cAAc,CAAC,MAC1B,MACI,IACG,IAAI,GACJ,KAAK,CAAC,OACN,GAAG,CACF,CAAC,OAAS,KAAK,MAAM,CAAC,GAAG,WAAW,KAAK,KAAK,KAAK,CAAC,GAAG,WAAW,IAEnE,IAAI,CAAC,OACR","debugId":null}},
    {"offset": {"line": 1014, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/deves/Desktop/deploye%20testing/aws_amplify_admin_dri/src/app/components/uploadManualEmiModal.js"],"sourcesContent":["\"use client\";\r\nimport { Dialog } from \"@headlessui/react\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { API_BASE_URL } from \"@/url/BaseURL\";\r\nimport { ApiRute } from \"@/url/ApiRoute\";\r\nimport toast from \"react-hot-toast\";\r\nimport Image from \"next/image\";\r\nimport { getStroage } from \"@/url/storage\";\r\n\r\nexport default function LoanEMIForm({ show, handleClose, phone, id }) {\r\n  const [loading, setLoading] = useState(false);\r\n  const [banks, setBanks] = useState([]);\r\n  const [selectedBank, setSelectedBank] = useState(\"\");\r\n\r\n  // ✅ keep all input fields in formData\r\n  const [formData, setFormData] = useState({\r\n    loanType: \"\",\r\n    amount: \"\",\r\n    settlmentPercentage: \"\",\r\n    total: \"\",\r\n    bank: \"\",\r\n    phone: phone,\r\n  });\r\n\r\n  // ✅ handle input change for all inputs\r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setFormData((prev) => ({ ...prev, [name]: value }));\r\n  };\r\n\r\n  // ✅ handle bank selection\r\n  const handleBankSelect = (val) => {\r\n    setSelectedBank(val._id);\r\n    setFormData((prev) => ({ ...prev, bank: val.bankName }));\r\n  };\r\n\r\n  // ✅ fetch banks\r\n  const getBanks = async () => {\r\n    try {\r\n      const res = await fetch(`${API_BASE_URL}${ApiRute.bank.getbanks}`, {\r\n        method: \"GET\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n      });\r\n      const result = await res.json();\r\n      if (result?.success) setBanks(result.data);\r\n    } catch (error) {\r\n      console.error(error);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    getBanks();\r\n  }, []);\r\n\r\n  // ✅ handle form submit (API call)\r\n  const handleAdd = async () => {\r\n    if (!formData.bank || !formData.loanType) {\r\n      toast.error(\"Please fill all required fields\");\r\n      return;\r\n    }\r\n\r\n    try {\r\n      setLoading(true);\r\n      const res = await fetch(`${API_BASE_URL}${ApiRute.emi.addLoan}`, {\r\n        method: \"POST\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n          authorization: `Bearer ${getStroage().token}`,\r\n        },\r\n        body: JSON.stringify(formData),\r\n      });\r\n\r\n      const result = await res.json();\r\n      if (result?.success) {\r\n        toast.success(result.message || \"Loan added successfully!\");\r\n        setFormData({\r\n          loanType: \"\",\r\n          amount: \"\",\r\n          settlmentPercentage: \"\",\r\n          total: \"\",\r\n          bank: \"\",\r\n          phone: phone,\r\n        });\r\n        handleClose();\r\n      } else {\r\n        toast.error(result.message || \"Something went wrong\");\r\n      }\r\n    } catch (error) {\r\n      console.error(error);\r\n      toast.error(\"Server error\");\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Dialog open={show} onClose={handleClose} className=\"relative z-50\">\r\n      <div className=\"fixed inset-0 bg-black/50\" aria-hidden=\"true\" />\r\n      <div className=\"fixed inset-0 flex items-center justify-center p-4\">\r\n        <Dialog.Panel className=\"bg-white rounded-xl max-w-2xl w-full p-6\">\r\n          <Dialog.Title className=\"text-xl font-bold mb-4\">\r\n            Loan EMI Form\r\n          </Dialog.Title>\r\n\r\n          <div className=\"grid grid-cols-2 gap-4\">\r\n            {/* Left side form */}\r\n            <div className=\"space-y-3\">\r\n              <div>\r\n                <label>Loan Type</label>\r\n                <select\r\n                  name=\"loanType\"\r\n                  value={formData.loanType}\r\n                  onChange={handleChange}\r\n                  className=\"w-full border p-2 rounded\"\r\n                >\r\n                  <option value=\"\">Select Type</option>\r\n                  <option value=\"Personal_Loan\">Personal Loan</option>\r\n                  <option value=\"Credit_Loan\">Credit Loan</option>\r\n                </select>\r\n              </div>\r\n\r\n              <div>\r\n                <label>Amount</label>\r\n                <input\r\n                  autoComplete=\"off\"\r\n                  type=\"text\"\r\n                  name=\"amount\"\r\n                  value={formData.amount}\r\n                  onChange={handleChange}\r\n                  className=\"w-full border p-2 rounded\"\r\n                />\r\n              </div>\r\n\r\n              <div>\r\n                <label>CC/PL Settlement Percentage</label>\r\n                <input\r\n                  autoComplete=\"off\"\r\n                  type=\"number\"\r\n                  name=\"settlmentPercentage\"\r\n                  value={formData.settlmentPercentage}\r\n                  onChange={handleChange}\r\n                  className=\"w-full border p-2 rounded\"\r\n                />\r\n              </div>\r\n\r\n              <div>\r\n                <label>CC/PL Total</label>\r\n                <input\r\n                  autoComplete=\"off\"\r\n                  type=\"text\"\r\n                  name=\"total\"\r\n                  value={formData.total}\r\n                  onChange={handleChange}\r\n                  className=\"w-full border p-2 rounded\"\r\n                />\r\n              </div>\r\n            </div>\r\n\r\n            {/* Right side: Bank list */}\r\n            <div>\r\n              <h1 className=\"font-semibold mb-2\">Select Bank</h1>\r\n              <div className=\"h-[400px] overflow-y-auto border p-2 rounded space-y-1\">\r\n                {banks.length > 0 ? (\r\n                  banks.map((val) => (\r\n                    <div\r\n                      key={val._id}\r\n                      onClick={() => handleBankSelect(val)}\r\n                      className={`flex items-center gap-2 p-2 rounded-lg cursor-pointer border transition-all duration-200 ${\r\n                        selectedBank === val._id\r\n                          ? \"bg-blue-600 text-white border-blue-600 shadow-md scale-[1.02]\"\r\n                          : \"bg-gray-100 hover:bg-gray-200 border-gray-300\"\r\n                      }`}\r\n                    >\r\n                      <Image\r\n                        src={val?.icon || \"/bank-placeholder.png\"}\r\n                        alt={val?.bankName}\r\n                        className=\"object-contain rounded bg-white p-1\"\r\n                        height={24}\r\n                        width={24}\r\n                      />\r\n                      <span className=\"font-medium\">{val?.bankName}</span>\r\n                    </div>\r\n                  ))\r\n                ) : (\r\n                  <p className=\"text-gray-500 text-sm\">No banks found</p>\r\n                )}\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Footer buttons */}\r\n          <div className=\"flex justify-end gap-2 mt-4\">\r\n            <button\r\n              onClick={handleClose}\r\n              className=\"px-4 py-2 bg-gray-300 rounded\"\r\n            >\r\n              Cancel\r\n            </button>\r\n            <button\r\n              onClick={handleAdd}\r\n              disabled={loading}\r\n              className=\"px-4 py-2 bg-blue-600 text-white rounded\"\r\n            >\r\n              {loading ? \"Uploading...\" : \"Upload\"}\r\n            </button>\r\n          </div>\r\n        </Dialog.Panel>\r\n      </div>\r\n    </Dialog>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1404, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/deves/Desktop/deploye%20testing/aws_amplify_admin_dri/src/app/components/CloseEMI.js"],"sourcesContent":["\"use client\";\r\nimport { Dialog } from \"@headlessui/react\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { API_BASE_URL } from \"@/url/BaseURL\";\r\nimport { ApiRute } from \"@/url/ApiRoute\";\r\nimport toast from \"react-hot-toast\";\r\nimport { getStroage } from \"@/url/storage\";\r\n\r\nexport default function CloseEMI({ show, handleClose, phone, id }) {\r\n  const [loading, setLoading] = useState(false);\r\n  const [personalLoans, setPersonalLoans] = useState([]);\r\n  const [creditCards, setCreditCards] = useState([]);\r\n  const [selectedLoan, setSelectedLoan] = useState(null);\r\n  const [refresh, setRefresh] = useState(false);\r\n  const [formData, setFormData] = useState({\r\n    loanId: \"\",\r\n    finaloutamount: \"\",\r\n    finalsettelement: \"\",\r\n    finalpercentage: \"\",\r\n    finalsaving: \"\",\r\n    phone: phone,\r\n    user_id: id,\r\n  });\r\n  const handleLoanSelect = (loan) => {\r\n    setSelectedLoan(loan.id);\r\n    setFormData((prev) => ({ ...prev, loanId: loan.id }));\r\n  };\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setFormData((prev) => ({ ...prev, [name]: value }));\r\n  };\r\n\r\n  const handleAdd = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const res = await fetch(`${API_BASE_URL}${ApiRute.emi.outstanding}`, {\r\n        method: \"POST\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n          authorization: `Bearer ${getStroage().token}`,\r\n        },\r\n        body: JSON.stringify(formData),\r\n      });\r\n      const result = await res.json();\r\n      if (result?.success) {\r\n        setRefresh((prev) => !prev);\r\n        toast.success(result?.message);\r\n      } else toast.error(result?.message);\r\n    } catch (error) {\r\n      console.error(error);\r\n      toast.error(\"Something went wrong\");\r\n    } finally {\r\n      setLoading(false);\r\n      setFormData({\r\n        loanId: \"\",\r\n        finaloutamount: \"\",\r\n        finalsettelement: \"\",\r\n        finalpercentage: \"\",\r\n        finalsaving: \"\",\r\n        phone,\r\n        user_id: id,\r\n      });\r\n      setSelectedLoan(null);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      try {\r\n        const res = await fetch(`${API_BASE_URL}${ApiRute.driUser.singe}`, {\r\n          method: \"POST\",\r\n          headers: { \"content-type\": \"application/json\" },\r\n          body: JSON.stringify({ phone }),\r\n        });\r\n        const json = await res.json();\r\n        if (json.success && json.data) {\r\n          const data = json.data;\r\n\r\n          const normalize = (item, type) => ({\r\n            id: item?._id || null,\r\n            bank: item?.bank || \"\",\r\n            amount: Number(item?.amount) || 0,\r\n            total: Number(item?.total) || 0,\r\n            settlementPercent:\r\n              parseInt((item?.settlement || \"\").toString().replace(\"%\", \"\")) ||\r\n              0,\r\n            type,\r\n            finalOutstandingAmount: Number(item?.finalOutstandingAmount),\r\n            finalSettelement: Number(item?.finalSettelement),\r\n            finalPercentage: Number(item?.finalPercentage),\r\n            finalSavings: Number(item?.finalSavings),\r\n            isOutstanding: item?.isOutstanding,\r\n          });\r\n\r\n          setPersonalLoans(\r\n            (data.personal_Loans || []).map((pl) => normalize(pl, \"personal\"))\r\n          );\r\n          setCreditCards(\r\n            (data.credit_Cards || []).map((cc) => normalize(cc, \"credit\"))\r\n          );\r\n        }\r\n        setRefresh(false);\r\n      } catch (err) {\r\n        console.error(\"Error fetching data\", err);\r\n      }\r\n    };\r\n\r\n    fetchData();\r\n  }, [phone, refresh]);\r\n\r\n  return (\r\n    <Dialog open={show} onClose={handleClose} className=\"relative z-50\">\r\n      <div\r\n        className=\"fixed inset-0 bg-black/50 backdrop-blur-sm\"\r\n        aria-hidden=\"true\"\r\n      />\r\n\r\n      <div className=\"fixed inset-0 flex items-center justify-center p-4\">\r\n        <Dialog.Panel className=\"bg-white rounded-2xl shadow-xl w-full max-w-5xl max-h-screen overflow-auto p-6\">\r\n          <Dialog.Title className=\"text-2xl font-semibold mb-6 text-gray-800\">\r\n            Close EMI\r\n          </Dialog.Title>\r\n\r\n          <div className=\"grid grid-cols-2 gap-6\">\r\n            {/* LEFT: Loan Selection */}\r\n            <div className=\"space-y-6\">\r\n              <div>\r\n                <h3 className=\"text-lg  text-gray-700 mb-3 font-black\">\r\n                  Credit Cards\r\n                </h3>\r\n                <div className=\"space-y-2 max-h-60 overflow-y-auto pr-1\">\r\n                  {creditCards?.map((loan) => (\r\n                    <div\r\n                      key={loan.id}\r\n                      onClick={() => handleLoanSelect(loan)}\r\n                      className={`p-3 border rounded-lg cursor-pointer transition\r\n      ${\r\n        selectedLoan === loan.id\r\n          ? \"bg-blue-50 border-blue-400\"\r\n          : \"bg-gray-50 hover:bg-gray-100 border-gray-200\"\r\n      }\r\n      ${loan?.isOutstanding ? \"\" : \"border-red-500\"} \r\n    `}\r\n                    >\r\n                      <p className=\"font-medium\">{loan?.bank}</p>\r\n\r\n                      <div className=\"text-sm mt-1 text-red-400\">\r\n                        {loan?.isOutstanding ? (\r\n                          <div className=\"text-sm text-gray-600\">\r\n                            Amount: ₹{loan?.amount} | Settlement:{\" \"}\r\n                            {loan?.settlementPercent}% | Total:{\" \"}\r\n                            {(loan?.amount * loan?.settlementPercent) / 100}\r\n                          </div>\r\n                        ) : (\r\n                          <>\r\n                            <div className=\"text-sm text-gray-600\">\r\n                              <span>\r\n                                Final Outstanding Amount:{\" \"}\r\n                                {loan?.finalOutstandingAmount}&nbsp; |&nbsp;\r\n                              </span>\r\n                              <span>\r\n                                Final Settlement: {loan?.finalSettelement}{\" \"}\r\n                                &nbsp; &nbsp;\r\n                              </span>\r\n                              <br />{\" \"}\r\n                              <span>\r\n                                Final Percentage: {loan?.finalPercentage}&nbsp;\r\n                                |&nbsp;\r\n                              </span>\r\n                              <span>Final Saving: {loan?.finalSavings}</span>\r\n                            </div>\r\n                            <span className=\"mt-2\">Settlement Close</span>\r\n                          </>\r\n                        )}\r\n                      </div>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n\r\n              <div>\r\n                <h3 className=\"text-lg font-bold text-gray-700 mb-3\">\r\n                  Personal Loans\r\n                </h3>\r\n                <div className=\"space-y-2 max-h-60 overflow-y-auto pr-1\">\r\n                  {personalLoans?.map((loan) => (\r\n                    <div\r\n                      key={loan.id}\r\n                      onClick={() => handleLoanSelect(loan)}\r\n                      className={`p-3 border rounded-lg cursor-pointer transition ${\r\n                        selectedLoan === loan.id\r\n                          ? \"bg-blue-50 border-blue-400\"\r\n                          : \"bg-gray-50 hover:bg-gray-100 border-gray-200\"\r\n                      } ${\r\n                        loan?.isOutstanding\r\n                          ? \"\"\r\n                          : \"border-red-500 cursor-not-allowed\"\r\n                      } `}\r\n                    >\r\n                      <p className=\"font-medium\">{loan.bank}</p>\r\n                      <p className=\"text-sm text-gray-600\">\r\n                        Amount: ₹{loan.amount} | Settlement:{\" \"}\r\n                        {loan.settlementPercent}% | Total:{\" \"}\r\n                        {(loan?.amount * loan?.settlementPercent) / 100}\r\n                      </p>\r\n                      <p className=\"text-sm  mt-1 text-red-400\">\r\n                        {loan?.isOutstanding ? null : \" Settlement Closed\"}\r\n                      </p>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            {/* RIGHT: Form */}\r\n            <div className=\"space-y-4\">\r\n              {[\r\n                { label: \"Final Outstanding Amount\", name: \"finaloutamount\" },\r\n                { label: \"Final Settlement\", name: \"finalsettelement\" },\r\n                { label: \"Final Percentage\", name: \"finalpercentage\" },\r\n                { label: \"Final Savings\", name: \"finalsaving\" },\r\n              ].map((field) => (\r\n                <div key={field.name}>\r\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                    {field.label}\r\n                  </label>\r\n                  <input\r\n                    autoComplete=\"off\"\r\n                    type=\"text\"\r\n                    name={field.name}\r\n                    value={formData[field.name]}\r\n                    onChange={handleChange}\r\n                    className=\"w-full border rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-400 focus:outline-none\"\r\n                  />\r\n                </div>\r\n              ))}\r\n            </div>\r\n          </div>\r\n\r\n          {/* Actions */}\r\n          <div className=\"flex justify-end gap-3 mt-8\">\r\n            <button\r\n              onClick={handleClose}\r\n              className=\"px-5 py-2 rounded-lg border border-gray-300 bg-gray-100 hover:bg-gray-200 transition\"\r\n            >\r\n              Cancel\r\n            </button>\r\n            <button\r\n              onClick={handleAdd}\r\n              disabled={loading || !selectedLoan}\r\n              className={`px-5 py-2 rounded-lg text-white transition ${\r\n                loading || !selectedLoan\r\n                  ? \"bg-blue-300 cursor-not-allowed\"\r\n                  : \"bg-blue-600 hover:bg-blue-700\"\r\n              }`}\r\n            >\r\n              {loading ? \"Uploading...\" : \"Upload\"}\r\n            </button>\r\n          </div>\r\n        </Dialog.Panel>\r\n      </div>\r\n    </Dialog>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1876, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/deves/Desktop/deploye%20testing/aws_amplify_admin_dri/src/app/components/UploadEMIModal.js"],"sourcesContent":["\"use client\";\n\nimport { Dialog } from \"@headlessui/react\";\nimport { FiUpload } from \"react-icons/fi\";\nimport Image from \"next/image\";\nimport { API_BASE_URL } from \"@/url/BaseURL\";\nimport { ApiRute } from \"@/url/ApiRoute\";\nimport { useEffect, useState, useRef } from \"react\";\nimport { getStroage } from \"@/url/storage\";\nimport { toTitleCase } from \"@/utlis/string\";\nimport toast from \"react-hot-toast\";\nimport LoanEMIForm from \"./uploadManualEmiModal\";\nimport { useRouter } from \"next/navigation\";\nimport CloseEMI from \"./CloseEMI\";\n\nexport default function UploadEMIModal({ isOpen, onClose, mode, refreshFun }) {\n  const isUploadMode = mode.view === \"upload\";\n  const [userData, setUserData] = useState();\n  const [loading, setLoading] = useState(false);\n  const [load, setLoad] = useState(false);\n  const [uploading, setUploading] = useState(false);\n  const [advocate, setAdvocate] = useState();\n  const [off, setOff] = useState(false);\n  const [file, setFile] = useState(null);\n  const [sendEmi, setSendEMi] = useState({ phone: \"\", file: null });\n  const [showLoanForm, setShowLoanForm] = useState({ status: false, id: \"\" });\n  const [closeUser, setCloseUser] = useState(false);\n  const [loadingPaid, setLoadingPaid] = useState(false);\n\n  const router = useRouter();\n  const handleFileChange = (e) => {\n    const file = e.target.files[0];\n    if (!file) return;\n    if (file.type !== \"text/csv\" && !file.name.endsWith(\".csv\")) {\n      alert(\"Please upload a valid CSV file.\");\n      e.target.value = \"\";\n      return;\n    }\n    setSendEMi({ phone: \"\", file });\n  };\n  // console.log(\"userdata\", userData);\n  const uploadEmi = async (phone) => {\n    if (!sendEmi.file) return toast.error(\"Please select CSV file!\");\n    const formData = new FormData();\n    formData.append(\"phone\", phone);\n    formData.append(\"file\", sendEmi.file);\n    try {\n      setUploading(true);\n      const res = await fetch(`${API_BASE_URL}${ApiRute.emi.upload}`, {\n        method: \"POST\",\n        body: formData,\n      });\n      const result = await res.json();\n      result?.success\n        ? toast.success(result?.message)\n        : toast.error(result?.message);\n    } catch (err) {\n      console.error(\"Upload failed:\", err);\n    } finally {\n      refreshFun();\n      setUploading(false);\n      setTimeout(() => {\n        onClose();\n      }, 2000);\n    }\n  };\n\n  const singleUser = async (phone) => {\n    setLoading(true);\n    try {\n      const res = await fetch(`${API_BASE_URL}${ApiRute.driUser.singe}`, {\n        method: \"POST\",\n        headers: { \"content-type\": \"application/json\" },\n        body: JSON.stringify({ phone }),\n      });\n      const result = await res.json();\n      setUserData(result?.data);\n    } catch (err) {\n      console.error(err);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const getAssignedAdvocate = async (id) => {\n    try {\n      const res = await fetch(\n        `${API_BASE_URL}${ApiRute.advocate.single}/${id}`\n      );\n      const result = await res.json();\n      console.log(\"advocate assign\", result);\n      if (result?.success) setAdvocate(result?.data);\n    } catch (err) {\n      console.error(err);\n    }\n  };\n\n  const handleInvoiceChange = (e) => {\n    const selectedFile = e.target.files[0];\n    if (selectedFile && selectedFile.type === \"application/pdf\") {\n      setFile(selectedFile);\n    } else {\n      alert(\"Please select a valid PDF file!\");\n    }\n  };\n\n  const handleUploadInvoice = async () => {\n    if (!file) return toast.error(\"Please select a PDF file first!\");\n    const formData = new FormData();\n    formData.append(\"pdf\", file);\n    formData.append(\"phone\", mode?.phone);\n    try {\n      setOff(true);\n      const res = await fetch(`${API_BASE_URL}${ApiRute.invoice.add}`, {\n        method: \"POST\",\n        headers: { authorization: `Bearer ${getStroage().token}` },\n        body: formData,\n      });\n      const result = await res.json();\n      result?.success\n        ? toast.success(result?.message)\n        : toast.error(result?.message);\n    } catch (err) {\n    } finally {\n      refreshFun();\n      setOff(false);\n      setFile(null);\n    }\n  };\n\n  const markAsPaid = async () => {\n    try {\n      setLoadingPaid(true);\n      const res = await fetch(`${API_BASE_URL}${ApiRute.emi.markaspaid}`, {\n        method: \"PUT\",\n        headers: {\n          \"content-type\": \"application/json\",\n          authorization: `Bearer ${getStroage().token}`,\n        },\n        body: JSON.stringify({\n          phone: mode.phone,\n          user_id: userData?.kyc?.user_id,\n        }),\n      });\n      const result = await res.json();\n      result?.success\n        ? toast.success(result?.message)\n        : toast.error(result?.message);\n    } catch (err) {\n      console.error(err);\n    } finally {\n      refreshFun();\n      setLoadingPaid(false);\n    }\n  };\n\n  useEffect(() => {\n    if (!isUploadMode && mode?.phone) singleUser(mode.phone);\n  }, [mode, isUploadMode]);\n\n  useEffect(() => {\n    if (userData?.kyc?.assign_advocate)\n      getAssignedAdvocate(userData.kyc.assign_advocate);\n  }, [userData]);\n\n  return (\n    <Dialog open={isOpen} onClose={onClose} className=\"relative z-50\">\n      <div\n        className=\"fixed inset-0 bg-black/50 backdrop-blur-sm\"\n        aria-hidden=\"true\"\n      />\n      <div className=\"fixed inset-0 flex items-center justify-center\">\n        {isUploadMode ? (\n          <Dialog.Panel className=\"mx-auto w-full max-w-3xl rounded-2xl bg-[#f1f6fe] p-6\">\n            <Dialog.Title className=\"text-4xl font-bold text-center mb-4\">\n              Upload Data Payment\n            </Dialog.Title>\n            <div className=\"flex flex-col items-center\">\n              <Image src=\"/csv.png\" alt=\"CSV Icon\" width={160} height={160} />\n              <label\n                htmlFor=\"fileUpload\"\n                className=\"mt-6 inline-flex items-center gap-2 text-white font-bold text-xl px-6 py-3 bg-gradient-to-r from-purple-600 to-cyan-400 rounded-lg cursor-pointer\"\n              >\n                <FiUpload className=\"text-2xl\" /> Upload File\n              </label>\n              <input\n                type=\"file\"\n                id=\"fileUpload\"\n                className=\"hidden\"\n                accept=\".csv\"\n                onChange={handleFileChange}\n              />\n              <p className=\"text-red-600 mt-2 text-sm font-semibold\">\n                *Upload only CSV files\n              </p>\n              <div className=\"flex\">\n                <button\n                  onClick={onClose}\n                  className=\"mt-6 px-6 py-2 bg-red-600 text-white rounded-lg\"\n                >\n                  Cancel\n                </button>\n                <button\n                  onClick={() => uploadEmi(mode?.phone)}\n                  disabled={uploading}\n                  className={`mt-6 ml-6 px-6 py-2 rounded-lg text-white ${\n                    uploading ? \"bg-gray-400 cursor-not-allowed\" : \"bg-red-600\"\n                  }`}\n                >\n                  {uploading ? \"Uploading...\" : \"Upload\"}\n                </button>\n              </div>\n            </div>\n          </Dialog.Panel>\n        ) : (\n          <Dialog.Panel className=\"mx-auto max-w-7xl rounded-2xl bg-[#f1f6fe] p-6 grid grid-cols-3 gap-4\">\n            {loading ? (\n              <div className=\"col-span-3 flex justify-center items-center h-80\">\n                <div className=\"animate-spin rounded-full h-16 w-16 border-b-4 border-blue-600\"></div>\n              </div>\n            ) : (\n              <>\n                {/* Profile */}\n                <div className=\"col-span-1 w-[280px] bg-white rounded-xl shadow-md p-4\">\n                  <div className=\"flex flex-col items-center\">\n                    <h2 className=\"text-l font-bold mt-2 bg-gradient-to-r from-blue-600 to-cyan-400 text-white w-full text-center rounded-t-xl py-2\">\n                      {`${toTitleCase(userData?.name)} ${toTitleCase(\n                        userData?.kyc?.lastname\n                      )}`}\n                    </h2>\n                  </div>\n                  <div className=\"mt-4 space-y-2 text-sm\">\n                    <p>\n                      <strong>User ID:</strong> {userData?.kyc?.id}\n                    </p>\n                    <p>\n                      <strong>Gender:</strong> {userData?.gender}\n                    </p>\n                    <p>\n                      <strong>Mob No.:</strong> {userData?.phone}\n                    </p>\n                    <p>\n                      <strong>E-mail ID:</strong> {userData?.kyc?.email}\n                    </p>\n                    <p\n                      className=\"underline text-blue-500 cursor-pointer\"\n                      onClick={() =>\n                        router.push(\n                          `./components/${\n                            userData?.userId || userData?.kyc?.user_id\n                          }`\n                        )\n                      }\n                    >\n                      <strong>View Details</strong>\n                    </p>\n                  </div>\n                </div>\n\n                {/* Advocate + Invoice */}\n                <div className=\"col-span-2 space-y-4\">\n                  <div className=\"w-full flex\">\n                    <div className=\"bg-white rounded-xl w-full shadow-md p-4 flex items-center gap-4\">\n                      <Image\n                        src={\n                          advocate?.advocateImage\n                            ? advocate.advocateImage\n                            : \"/default-avatar.png\"\n                        }\n                        alt=\"Advocate\"\n                        width={50}\n                        height={50}\n                        className=\"rounded-full\"\n                      />\n\n                      <div>\n                        <p className=\"font-semibold text-sm\">\n                          Assigned Advocate\n                        </p>\n                        <p className=\"text-md\">{advocate?.name}</p>\n                      </div>\n                    </div>\n                  </div>\n\n                  <div className=\"bg-white w-full rounded-xl shadow-md p-4 flex items-center gap-4\">\n                    <div>\n                      <label className=\"px-6 py-2 text-white font-semibold bg-gradient-to-r from-purple-600 to-cyan-400 rounded-lg flex items-center gap-2 cursor-pointer\">\n                        <FiUpload /> Select Invoice\n                        <input\n                          type=\"file\"\n                          accept=\"application/pdf\"\n                          onChange={handleInvoiceChange}\n                          className=\"hidden\"\n                        />\n                      </label>\n                      {file && (\n                        <p className=\"text-sm text-gray-700\">\n                          Selected File:{\" \"}\n                          <span className=\"font-semibold\">{file.name}</span>\n                        </p>\n                      )}\n                    </div>\n                    <button\n                      onClick={handleUploadInvoice}\n                      className=\"px-6 py-2 bg-[#1172da] text-white rounded-lg\"\n                      disabled={off}\n                    >\n                      {off ? \"Uploading...\" : \"Upload\"}\n                    </button>\n                  </div>\n\n                  {/* Action Buttons */}\n                  <div className=\"flex justify-end items-end gap-4\">\n                    <button\n                      className=\"bg-[#1172da] text-white px-6 py-2 rounded-lg font-bold cursor-pointer\"\n                      onClick={() =>\n                        setCloseUser({\n                          status: true,\n                          id: userData?.kyc?.user_id,\n                        })\n                      }\n                    >\n                      {load ? \"Closing...\" : \"Close EMI\"}\n                    </button>\n                    <button\n                      className=\"bg-[#1172da] text-white px-6 py-2 rounded-lg font-bold cursor-pointer\"\n                      onClick={markAsPaid}\n                    >\n                      {loadingPaid ? \"Marking...\" : \"Mark as Paid\"}\n                    </button>\n                    <button\n                      className=\"bg-[#1172da] text-white px-6 py-2 rounded-lg font-bold cursor-pointer\"\n                      onClick={() =>\n                        setShowLoanForm({\n                          status: true,\n                          id: userData?.kyc?.user_id,\n                        })\n                      }\n                    >\n                      Add Loan\n                    </button>\n                    <button\n                      className=\"bg-red-600 text-white px-6 py-2 rounded-lg font-bold cursor-pointer\"\n                      onClick={onClose}\n                    >\n                      Cancel\n                    </button>\n                  </div>\n                </div>\n              </>\n            )}\n          </Dialog.Panel>\n        )}\n      </div>\n\n      {showLoanForm && (\n        <LoanEMIForm\n          show={showLoanForm.status}\n          handleClose={() => setShowLoanForm({ status: false })}\n          phone={mode?.phone}\n          id={showLoanForm.id}\n        />\n      )}\n      {closeUser && (\n        <CloseEMI\n          show={closeUser.status}\n          handleClose={() => setCloseUser({ status: false })}\n          phone={mode?.phone}\n          id={closeUser.id}\n        />\n      )}\n    </Dialog>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 2534, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/deves/Desktop/deploye%20testing/aws_amplify_admin_dri/src/app/components/ReviewAssignModal.js"],"sourcesContent":["\"use client\";\n\nimport { useState, useEffect } from \"react\";\nimport Image from \"next/image\";\nimport { FaChevronDown } from \"react-icons/fa\";\nimport { API_BASE_URL } from \"@/url/BaseURL\";\nimport { ApiRute } from \"@/url/ApiRoute\";\nimport { getStroage } from \"@/url/storage\";\nimport toast from \"react-hot-toast\";\n\nexport default function ReviewAssignModal({\n  isOpen,\n  onClose,\n  userData,\n  onAssignSubmit,\n}) {\n  const [selectedAdvocate, setSelectedAdvocate] = useState(null);\n  const [advocte, setAdvocate] = useState([]);\n  const [assignedId, setAssignedId] = useState(\"\");\n  const [previewImage, setPreviewImage] = useState(null); // image preview state\n  const getAdvocates = async () => {\n    const res = await fetch(`${API_BASE_URL}${ApiRute.advocate.getAll}`, {\n      method: \"GET\",\n      headers: {\n        \"content-type\": \"application/json\",\n        authorization: `Bearer ${getStroage().token}`,\n      },\n    });\n    const result = await res.json();\n    if (!result.success) throw new Error(\"Failed to fetch advocates\");\n    setAdvocate(result?.data);\n  };\n\n  useEffect(() => {\n    if (userData?.assignedId) {\n      setAssignedId(userData.assignedId);\n    }\n    getAdvocates();\n  }, [userData?.assignedId]);\n\n  if (!isOpen || !userData) return null;\n\n  const handleApproveAssign = async () => {\n    const updatedUser = {\n      ...userData,\n      assignedId,\n      assignedAdvocate: selectedAdvocate,\n    };\n    const payload = {\n      kycId: updatedUser?._id,\n      advocate_id: updatedUser?.assignedAdvocate._id,\n      assign_id: assignedId,\n    };\n    const res = await fetch(`${API_BASE_URL}${ApiRute.kyc.approve}`, {\n      method: \"POST\",\n      headers: {\n        \"content-type\": \"application/json\",\n        authorization: `Bearer ${getStroage().token}`,\n      },\n      body: JSON.stringify(payload),\n    });\n\n    const result = await res.json();\n    if (result?.success) {\n      toast.success(result?.message);\n    } else {\n      toast.error(result?.message);\n    }\n    setTimeout(() => {\n      onClose();\n    }, 300);\n  };\n\n  return (\n    <>\n      {/* Main Modal */}\n      <div className=\"fixed inset-0 backdrop-blur-sm bg-white/30 z-50 flex items-center justify-center px-4\">\n        <div className=\"bg-white rounded-xl w-full max-w-5xl shadow-lg relative p-6\">\n          <button\n            className=\"absolute top-3 right-4 text-xl text-gray-500 hover:text-gray-800\"\n            onClick={onClose}\n          >\n            &times;\n          </button>\n\n          <div className=\"flex gap-6\">\n            {/* User Info */}\n            <div className=\"w-1/3 border p-4 rounded-lg shadow\">\n              <div className=\"flex flex-col items-center\">\n                <Image\n                  src={`${userData.profile || \"/user1.jpg\"}`}\n                  width={80}\n                  height={80}\n                  alt=\"User\"\n                  className=\"rounded-full\"\n                />\n                <h2 className=\"mt-3 text-xl font-bold text-[#00479C]\">\n                  {userData.name || \"User Name\"}\n                </h2>\n              </div>\n              <div className=\"mt-4 text-sm space-y-2\">\n                <div className=\"flex items-center gap-2\">\n                  <label className=\"font-medium whitespace-nowrap\">\n                    Assign ID:\n                  </label>\n                  <input\n                    type=\"text\"\n                    className=\"border border-gray-300 rounded px-3 py-1 w-[130px] text-sm focus:outline-none focus:ring-2 focus:ring-blue-400\"\n                    value={assignedId}\n                    onChange={(e) => setAssignedId(e.target.value)}\n                  />\n                </div>\n                <p>\n                  <strong>Gender:</strong> {userData.gender}\n                </p>\n                <p>\n                  <strong>Joining Date:</strong> {userData.date}\n                </p>\n                <p>\n                  <strong>Phone:</strong> {userData.user_id.phone}\n                </p>\n                <p>\n                  <strong>Email:</strong> {userData.email}\n                </p>\n                <div className=\"flex items-center\">\n                  <strong>PDF:</strong>\n                  {userData?.pdf?.map((pdf, idx) => (\n                    <span\n                      key={idx}\n                      className=\"w-[55px] text-center text-blue-700 font-bold underline bg-amber-100 p-1  ml-2\"\n                    >\n                      {\" \"}\n                      &nbsp;\n                      <a href={`${pdf}`} target=\"_blank\">{`PDF${idx + 1}`}</a>\n                    </span>\n                  ))}\n                </div>\n              </div>\n            </div>\n\n            {/* Aadhar / PAN */}\n            <div className=\"w-1/3 flex flex-col justify-around gap-4 max-h-[350px] overflow-auto\">\n              {userData?.image?.map((e, idx) => (\n                <div\n                  key={idx}\n                  className=\"border rounded-lg p-3 shadow cursor-pointer\"\n                  onClick={() => setPreviewImage(e)}\n                >\n                  <Image\n                    src={e}\n                    alt={`KYC-${idx}`}\n                    width={300}\n                    height={100}\n                    className=\"rounded-md\"\n                  />\n                  <p className=\"text-center text-xs mt-1\">{e?.label}</p>\n                </div>\n              ))}\n            </div>\n\n            {/* Advocate List */}\n            <div className=\"w-1/3 border rounded-lg shadow p-4\">\n              <div className=\"flex items-center justify-between mb-3\">\n                <h3 className=\"text-lg font-semibold\">Assign Advocate</h3>\n                <FaChevronDown />\n              </div>\n              <div className=\"space-y-3 max-h-60 overflow-y-auto pr-1\">\n                {advocte.map((adv, idx) => (\n                  <div\n                    key={idx}\n                    onClick={() => setSelectedAdvocate(adv)}\n                    className={`flex items-center gap-3 p-2 rounded cursor-pointer hover:bg-gray-100 transition ${\n                      selectedAdvocate?.name === adv?.name ? \"bg-blue-100\" : \"\"\n                    }`}\n                  >\n                    <Image\n                      src={`${adv?.advocateImage}`}\n                      width={40}\n                      height={40}\n                      alt={adv?.name}\n                      className=\"rounded-full\"\n                    />\n                    <div>\n                      <p className=\"font-medium\">{adv?.name}</p>\n                      <p className=\"text-xs text-gray-500\">\n                        {adv?.contactNumber} / {adv?.gender}\n                      </p>\n                    </div>\n                  </div>\n                ))}\n              </div>\n            </div>\n          </div>\n\n          {/* Approve Button */}\n          <div className=\"mt-6 text-center\">\n            <button\n              onClick={handleApproveAssign}\n              className=\"bg-gradient-to-r from-purple-500 to-cyan-500 text-white px-6 py-2 rounded-full font-semibold shadow hover:scale-105 transition\"\n            >\n              Approve & Assign\n            </button>\n          </div>\n        </div>\n      </div>\n\n      {/* Image Preview Modal */}\n      {previewImage && (\n        <div\n          className=\"fixed inset-0 bg-black/50 backdrop-blur-2xl bg-opacity-70 flex items-center justify-center z-[60]\"\n          onClick={() => setPreviewImage(null)}\n        >\n          <div\n            className=\"relative max-w-3xl max-h-[90vh] p-4\"\n            onClick={(e) => e.stopPropagation()}\n          >\n            {/* <button\n              className=\"absolute top-[-5] right-[-2] text-black text-4xl bg-white rounded-4xl w-[40px] h-[40px] text-center cursor-pointer\"\n              onClick={() => setPreviewImage(null)}\n            >\n              &times;\n            </button> */}\n            <Image\n              src={previewImage}\n              alt=\"Preview\"\n              width={800}\n              height={600}\n              className=\"rounded-lg max-h-[80vh] object-contain\"\n            />\n          </div>\n        </div>\n      )}\n    </>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 2995, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/deves/Desktop/deploye%20testing/aws_amplify_admin_dri/src/app/components/uploadUsersFromCSV.js"],"sourcesContent":["\"use client\";\r\nimport { useState } from \"react\";\r\nimport { API_BASE_URL } from \"@/url/BaseURL\";\r\nimport { ApiRute } from \"@/url/ApiRoute\";\r\nimport toast from \"react-hot-toast\";\r\n\r\nexport default function UploadCSVModal({ isOpen, onClose, types }) {\r\n  const [file, setFile] = useState(null);\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const handleFileChange = (e) => setFile(e.target.files[0]);\r\n\r\n  const handleUpload = async () => {\r\n    if (!file) return toast.error(\"Please select a CSV file\");\r\n    try {\r\n      setLoading(true);\r\n      const formData = new FormData();\r\n      formData.append(\"csv\", file);\r\n\r\n      if (types === \"user\") {\r\n        const res = await fetch(`${API_BASE_URL}${ApiRute.driUser.addUser}`, {\r\n          method: \"POST\",\r\n          body: formData,\r\n        });\r\n\r\n        const result = await res.json();\r\n        if (result?.success) {\r\n          toast.success(result?.message);\r\n          onClose();\r\n        } else {\r\n          toast.error(result?.message || \"Upload failed\");\r\n        }\r\n      }\r\n      if (types === \"emi\") {\r\n        const res = await fetch(`${API_BASE_URL}${ApiRute.emi.bulkinsert}`, {\r\n          method: \"POST\",\r\n          body: formData,\r\n        });\r\n\r\n        const result = await res.json();\r\n        if (result?.success) {\r\n          toast.success(result?.message);\r\n          onClose();\r\n        } else {\r\n          toast.error(result?.message || \"Upload failed\");\r\n        }\r\n      }\r\n    } catch (err) {\r\n      console.error(err);\r\n      toast.error(\"Something went wrong\");\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  if (!isOpen) return null;\r\n\r\n  return (\r\n    <div className=\"fixed inset-0 flex items-center justify-center bg-black/50 bg-opacity-50 z-50 backdrop-blur-sm\">\r\n      <div className=\"bg-white rounded-lg shadow-lg w-full max-w-md p-6\">\r\n        <h2 className=\"text-xl font-semibold mb-4\">Upload Users</h2>\r\n\r\n        <input\r\n          type=\"file\"\r\n          accept=\".csv\"\r\n          onChange={handleFileChange}\r\n          className=\"w-full border p-2 rounded mb-4\"\r\n        />\r\n        <small className=\"text-red-600\">Only CSV File.</small>\r\n        <div className=\"flex justify-end gap-3\">\r\n          <button\r\n            onClick={onClose}\r\n            className=\"px-4 py-2 rounded border bg-gray-100 hover:bg-gray-200\"\r\n          >\r\n            Cancel\r\n          </button>\r\n          <button\r\n            onClick={handleUpload}\r\n            disabled={loading}\r\n            className=\"px-4 py-2 rounded bg-blue-600 text-white hover:bg-blue-700 disabled:opacity-50\"\r\n          >\r\n            {loading ? \"Uploading...\" : \"Upload\"}\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;AACA;AACA;AACA;AACA;AAJA;;;;;;AAMe,SAAS,eAAe,EAAE,MAAM,EAAE,OAAO,EAAE,KAAK,EAAE;IAC/D,MAAM,CAAC,MAAM,QAAQ,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IACjC,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAEvC,MAAM,mBAAmB,CAAC,IAAM,QAAQ,EAAE,MAAM,CAAC,KAAK,CAAC,EAAE;IAEzD,MAAM,eAAe;QACnB,IAAI,CAAC,MAAM,OAAO,uJAAA,CAAA,UAAK,CAAC,KAAK,CAAC;QAC9B,IAAI;YACF,WAAW;YACX,MAAM,WAAW,IAAI;YACrB,SAAS,MAAM,CAAC,OAAO;YAEvB,IAAI,UAAU,QAAQ;gBACpB,MAAM,MAAM,MAAM,MAAM,GAAG,qHAAA,CAAA,eAAY,GAAG,sHAAA,CAAA,UAAO,CAAC,OAAO,CAAC,OAAO,EAAE,EAAE;oBACnE,QAAQ;oBACR,MAAM;gBACR;gBAEA,MAAM,SAAS,MAAM,IAAI,IAAI;gBAC7B,IAAI,QAAQ,SAAS;oBACnB,uJAAA,CAAA,UAAK,CAAC,OAAO,CAAC,QAAQ;oBACtB;gBACF,OAAO;oBACL,uJAAA,CAAA,UAAK,CAAC,KAAK,CAAC,QAAQ,WAAW;gBACjC;YACF;YACA,IAAI,UAAU,OAAO;gBACnB,MAAM,MAAM,MAAM,MAAM,GAAG,qHAAA,CAAA,eAAY,GAAG,sHAAA,CAAA,UAAO,CAAC,GAAG,CAAC,UAAU,EAAE,EAAE;oBAClE,QAAQ;oBACR,MAAM;gBACR;gBAEA,MAAM,SAAS,MAAM,IAAI,IAAI;gBAC7B,IAAI,QAAQ,SAAS;oBACnB,uJAAA,CAAA,UAAK,CAAC,OAAO,CAAC,QAAQ;oBACtB;gBACF,OAAO;oBACL,uJAAA,CAAA,UAAK,CAAC,KAAK,CAAC,QAAQ,WAAW;gBACjC;YACF;QACF,EAAE,OAAO,KAAK;YACZ,QAAQ,KAAK,CAAC;YACd,uJAAA,CAAA,UAAK,CAAC,KAAK,CAAC;QACd,SAAU;YACR,WAAW;QACb;IACF;IAEA,IAAI,CAAC,QAAQ,OAAO;IAEpB,qBACE,8OAAC;QAAI,WAAU;kBACb,cAAA,8OAAC;YAAI,WAAU;;8BACb,8OAAC;oBAAG,WAAU;8BAA6B;;;;;;8BAE3C,8OAAC;oBACC,MAAK;oBACL,QAAO;oBACP,UAAU;oBACV,WAAU;;;;;;8BAEZ,8OAAC;oBAAM,WAAU;8BAAe;;;;;;8BAChC,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BACC,SAAS;4BACT,WAAU;sCACX;;;;;;sCAGD,8OAAC;4BACC,SAAS;4BACT,UAAU;4BACV,WAAU;sCAET,UAAU,iBAAiB;;;;;;;;;;;;;;;;;;;;;;;AAMxC","debugId":null}}]
}