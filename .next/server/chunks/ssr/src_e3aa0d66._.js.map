{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 5, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/deves/Desktop/deploye%20testing/aws_amplify_admin_dri/src/url/BaseURL.js"],"sourcesContent":["// export const API_BASE_URL = \"https://dri-vercel.vercel.app/api/v1\";\r\nexport const API_BASE_URL =\r\n  process.env.NODE_ENV === \"production\"\r\n    ? \"https://api.debtreliefindia.com/api/v1\"\r\n    : \"https://4frnn03l-5000.inc1.devtunnels.ms/api/v1\";\r\n"],"names":[],"mappings":"AAAA,sEAAsE;;;;AAC/D,MAAM,eACX,sCACI,0BACA","debugId":null}},
    {"offset": {"line": 14, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/deves/Desktop/deploye%20testing/aws_amplify_admin_dri/src/url/ApiRoute.js"],"sourcesContent":["export const ApiRute = {\r\n  admin: {\r\n    login: \"/admin/login\",\r\n    getadmindetail: \"/admin/get-details\",\r\n    updatePRofule: \"/admin/profile-update\",\r\n    adminbanner: \"/admin/admindashboardbanner\",\r\n    loginbanner: \"/banner/logindashboardbanner\",\r\n    updateAdmin: \"/admin/update-details\",\r\n    getadminBanner: \"/admin/getadminBanner\",\r\n    requestOtp: \"/admin/request-otp\",\r\n    verifyOtp: \"/admin/verify-otp\",\r\n    changepassword: \"/admin/change-password\",\r\n    outstanding: \"/outstanding/add-outstanding\",\r\n    adddialboxContent: \"/admin/add-content\",\r\n    getdialbox: \"/admin/get-content-admin\",\r\n    backup: \"/admin/backup\",\r\n    requestAdminOtp: \"/admin/get-otp\",\r\n    forgetPassword: \"/admin/forget-password\",\r\n  },\r\n  currentImage: {\r\n    upload: \"/banner/upload\",\r\n    getbanner: \"/banner\",\r\n    delete: \"/banner/delete\",\r\n    recentCard: \"/banner/all\",\r\n    addrecentCart: \"/banner/bannertext\",\r\n    update: \"/banner/update\",\r\n    addWithTitle: \"/banner/bannertext\",\r\n    deleteWithTitle: \"/banner/del-banner-title\",\r\n  },\r\n  advocate: {\r\n    add: \"/advocate/add\",\r\n    getAll: \"/advocate/all\",\r\n    single: \"/advocate/single\",\r\n    call_now: \"/admin/call-now-feature\",\r\n    timing: \"/advocate/set-timing\",\r\n    delete: \"/advocate/delete-advocate\",\r\n    update: \"/advocate/update\",\r\n  },\r\n  terms: {\r\n    add: \"/tnc/add\",\r\n    get: \"/tnc/all\",\r\n    delete: \"/tnc/delete\",\r\n    update: \"/tnc/update\",\r\n  },\r\n  policy: {\r\n    add: \"/privacy/\",\r\n    get: \"/privacy/\",\r\n    delete: \"/privacy/\",\r\n  },\r\n  upi: {\r\n    get: \"/upi\",\r\n    add: \"/upi\",\r\n    update: \"/upi/update\",\r\n  },\r\n  kyc: {\r\n    get: \"/kyc/get-kyc\",\r\n    approve: \"/kyc/approve-kyc\",\r\n  },\r\n  driwork: {\r\n    getAll: \"/driworks/all\",\r\n    update: \"/driworks/update-dri-works\",\r\n    add: \"/driworks/add-dri-works\",\r\n    delete: \"/driworks/delete-dri-works\",\r\n  },\r\n  driUser: {\r\n    getAll: \"/driuser\",\r\n    search: \"/driuser/search\",\r\n    singe: \"/driuser/single\",\r\n    addUser: \"/driuser\",\r\n    delete: \"/driuser/delete-user\",\r\n    update: \"/driuser/update-user\",\r\n    permanentDelete: \"/driuser/permanent-delete\",\r\n  },\r\n  adminProfileImage: \"/admin/adminProfileBanner\",\r\n  emi: {\r\n    upload: \"/emi/create-emi\",\r\n    mannual: \"/emi/manual\",\r\n    markaspaid: \"/emi/mark-as-paid\",\r\n    bulkinsert: \"/emi/bulk-insert\",\r\n    outstanding: \"/emi/outstand\",\r\n    getPaidService: \"/emi/get-paid-service\",\r\n    updateDueDate: \"/emi/update-date\",\r\n    addLoan: \"/emi/add-single-loan\",\r\n  },\r\n  userLoan: {\r\n    addloan: \"/loan/create\",\r\n  },\r\n  invoice: {\r\n    add: \"/invoice\",\r\n  },\r\n  whatsapp: {\r\n    add: \"/whatsapp/\",\r\n    update: \"/whatsapp/\",\r\n    get: \"/whatsapp/\",\r\n  },\r\n  loan: {\r\n    addLoan: \"/loan/create\",\r\n  },\r\n  bank: {\r\n    getbanks: \"/admin/get-banks\",\r\n    addbanks: \"/admin/add-banks\",\r\n  },\r\n  notifications: {\r\n    all: \"/notification/\",\r\n    custome: {\r\n      all: \"/notification/custom-notification\",\r\n      get: \"/notification/get-custom-notification\",\r\n    },\r\n  },\r\n  service: {\r\n    addService: \"/service/\",\r\n  },\r\n  subscription: {\r\n    add: \"/subcription/add-subscription\",\r\n    getuser: \"/subcription/subscription-users\",\r\n    singerSubscription: \"/subcription/get-substouser\",\r\n    markaspaid: \"/subcription/markAsPaid\",\r\n    paidSubs: \"/subcription/getPaidSubscriptions\",\r\n    updateDueDate: \"/subcription/update-date\",\r\n  },\r\n  user: {\r\n    single: \"/user/get-user-saving\",\r\n  },\r\n};\r\n\r\n// \"use client\";\r\n// import { ApiRute } from \"@/url/ApiRoute\";\r\n// import { API_BASE_URL } from \"@/url/BaseURL\";\r\n// import { getStroage } from \"@/url/storage\";\r\n// import { useParams } from \"next/navigation\";\r\n// import React, { use, useEffect, useState } from \"react\";\r\n// import toast from \"react-hot-toast\";\r\n// import Header from \"../Header\";\r\n\r\n// // ✅ Safe date formatter\r\n// const formatDate = (dateStr) => {\r\n//   const d = new Date(dateStr);\r\n//   const day = d.getDate().toString().padStart(2, \"0\");\r\n//   const month = (d.getMonth() + 1).toString().padStart(2, \"0\");\r\n//   const year = d.getFullYear();\r\n//   return `${day}/${month}/${year}`;\r\n// };\r\n\r\n// export default function UserDashboard() {\r\n//   const { details } = useParams();\r\n//   const [usesrId, setUserId] = useState(\"\");\r\n//   const [phone, setPhone] = useState(0);\r\n//   // ✅ Independent tab states\r\n//   const [subscriptionTab, setSubscriptionTab] = useState(\"current\");\r\n//   const [serviceTab, setServiceTab] = useState(\"current\");\r\n\r\n//   // ✅ Separate states for subscriptions\r\n//   const [currentSubscriptions, setCurrentSubscriptions] = useState([]);\r\n//   const [paidSubscriptions, setPaidSubscriptions] = useState([]);\r\n\r\n//   // ✅ Separate states for services\r\n//   const [currentServices, setCurrentServices] = useState([]);\r\n//   const [paidServices, setPaidServices] = useState([]);\r\n\r\n//   const fetchUserId = async () => {\r\n//     try {\r\n//       const response = await fetch(`${API_BASE_URL}${ApiRute.user.single}`, {\r\n//         method: \"POST\",\r\n//         headers: {\r\n//           \"content-type\": \"application/json\",\r\n//           authorization: `Bearer ${getStroage().token}`,\r\n//         },\r\n//         body: JSON.stringify({ user_id: details }),\r\n//       });\r\n//       const result = await response.json();\r\n//       if (result?.success) {\r\n//         setPhone(result?.userData?.phone);\r\n//         setUserId(result?.userData);\r\n//         fetchCurrentServices(result?.userData?.phone);\r\n//         fetchPaidServices(result?.userData?.phone);\r\n//       }\r\n//     } catch (error) {\r\n//       console.error(error);\r\n//     }\r\n//   };\r\n//   const getStatusClass = (status) => {\r\n//     if (status === \"paid\") return \"bg-green-100 text-green-600\";\r\n//     if (status === \"pending\") return \"bg-yellow-100 text-yellow-600\";\r\n//     return \"bg-gray-200 text-gray-500\";\r\n//   };\r\n\r\n//   // ✅ Fetch unpaid/current subscriptions\r\n//   const fetchCurrentSubscriptions = async () => {\r\n//     try {\r\n//       const response = await fetch(\r\n//         `${API_BASE_URL}${ApiRute.subscription.singerSubscription}/${details}`,\r\n//         { method: \"GET\", headers: { \"content-type\": \"application/json\" } }\r\n//       );\r\n//       const result = await response.json();\r\n//       if (result.data && result.data.length > 0) {\r\n//         const unpaidSubs = result.data\r\n//           .filter((sub) => !sub.isPaid)\r\n//           .map((sub) => ({\r\n//             ...sub,\r\n//             paidForMonth: new Date(sub.dueDate).toLocaleString(\"default\", {\r\n//               month: \"long\",\r\n//               year: \"numeric\",\r\n//             }),\r\n//             status: \"pending\",\r\n//           }));\r\n//         setCurrentSubscriptions(unpaidSubs);\r\n//       } else {\r\n//         setCurrentSubscriptions([]);\r\n//       }\r\n//     } catch (err) {\r\n//       console.error(err);\r\n//       console.error(\"Error fetching current subscriptions.\");\r\n//     }\r\n//   };\r\n\r\n//   // ✅ Fetch paid subscriptions\r\n//   const fetchPaidSubscriptions = async () => {\r\n//     try {\r\n//       const response = await fetch(\r\n//         `${API_BASE_URL}${ApiRute.subscription.paidSubs}?userId=${details}`,\r\n//         {\r\n//           method: \"GET\",\r\n//           headers: {\r\n//             \"content-type\": \"application/json\",\r\n//             authorization: `Bearer ${getStroage().token}`,\r\n//           },\r\n//         }\r\n//       );\r\n//       const result = await response.json();\r\n\r\n//       if (result.data && result.data.length > 0) {\r\n//         setPaidSubscriptions(\r\n//           result.data.map((sub) => ({\r\n//             ...sub,\r\n//             status: sub.status || \"paid\",\r\n//           }))\r\n//         );\r\n//       } else {\r\n//         setPaidSubscriptions([]);\r\n//       }\r\n//     } catch (err) {\r\n//       console.error(err);\r\n//       console.error(\"Error fetching paid subscriptions.\");\r\n//     }\r\n//   };\r\n\r\n//   // ✅ Fetch unpaid/current services\r\n//   const fetchCurrentServices = async (phone) => {\r\n//     try {\r\n//       const response = await fetch(\r\n//         `${API_BASE_URL}${ApiRute?.driUser?.singe}`,\r\n//         {\r\n//           method: \"POST\",\r\n//           headers: { \"content-type\": \"application/json\" },\r\n//           body: JSON.stringify({ phone }),\r\n//         }\r\n//       );\r\n\r\n//       const result = await response.json();\r\n//       if (result?.success) {\r\n//         const [day, month, year] = result?.data?.dueDate.split(\"-\").map(Number);\r\n//         const dateObj = new Date(year, month - 1, day);\r\n\r\n//         const payload = [\r\n//           {\r\n//             emiPay: result?.data?.emiPay,\r\n//             userId: result?.data?.id,\r\n//             dueDate: dateObj, // ✅ assign Date object\r\n//             paidForMonth: dateObj.toLocaleString(\"default\", {\r\n//               month: \"long\",\r\n//               year: \"numeric\",\r\n//             }),\r\n//             totalEMI: result?.data?.totalEmi,\r\n//             emiAmount: result?.data?.monthlyEmi,\r\n//             status: result?.data?.status || \"pending\", // fallback\r\n//             serviceType: !result?.data?.serviceFees\r\n//               ? \"service Advance\"\r\n//               : \"service\",\r\n//           },\r\n//         ];\r\n\r\n//         setCurrentServices(payload);\r\n//       } else {\r\n//         setCurrentServices([]);\r\n//       }\r\n//     } catch (err) {\r\n//       console.error(\"Error fetching current services:\", err);\r\n//     }\r\n//   };\r\n\r\n//   // ✅ Fetch paid services\r\n//   const fetchPaidServices = async () => {\r\n//     try {\r\n//       const response = await fetch(\r\n//         `${API_BASE_URL}${ApiRute?.emi.getPaidService}?user_id=${details}`,\r\n//         {\r\n//           method: \"GET\",\r\n//           headers: {\r\n//             \"content-type\": \"application/json\",\r\n//             authorization: `Bearer ${getStroage().token}`,\r\n//           },\r\n//         }\r\n//       );\r\n//       const result = await response.json();\r\n//       console.log(\"paid\", result);\r\n//       if (result.data && result.data.length > 0) {\r\n//         setPaidServices(result.data.map((svc) => ({ ...svc, status: \"paid\" })));\r\n//       } else {\r\n//         setPaidServices([]);\r\n//       }\r\n//     } catch (err) {\r\n//       console.error(err);\r\n//       console.error(\"Error fetching paid services.\");\r\n//     }\r\n//   };\r\n\r\n//   // ✅ Mark subscription as paid\r\n//   const subscriptionMarkAsPaid = async (subscription) => {\r\n//     try {\r\n//       const res = await fetch(\r\n//         `${API_BASE_URL}${ApiRute.subscription.markaspaid}`,\r\n//         {\r\n//           method: \"POST\",\r\n//           headers: {\r\n//             \"Content-Type\": \"application/json\",\r\n//             authorization: `Bearer ${getStroage().token}`,\r\n//           },\r\n//           body: JSON.stringify({\r\n//             subscriptionId: subscription?._id,\r\n//             paymentMode: \"UPI\",\r\n//           }),\r\n//         }\r\n//       );\r\n//       const data = await res.json();\r\n//       if (data.success) {\r\n//         toast.success(\"Subscription marked as paid!\");\r\n//         fetchCurrentSubscriptions();\r\n//         fetchPaidSubscriptions();\r\n//       } else {\r\n//         toast.error(data.message || \"Failed to mark as paid.\");\r\n//       }\r\n//     } catch (err) {\r\n//       console.error(err);\r\n//       toast.error(\"Error marking subscription as paid.\");\r\n//     }\r\n//   };\r\n\r\n//   // ✅ Mark service as paid\r\n//   const checkServicePayment = (svcIndex) => {\r\n//     const paidService = { ...currentServices[svcIndex], status: \"paid\" };\r\n//     setPaidServices((prev) => [...prev, paidService]);\r\n//     setCurrentServices((prev) => prev.filter((_, idx) => idx !== svcIndex));\r\n//     toast.success(`Service for ${paidService.paidForMonth} marked as PAID.`);\r\n//   };\r\n\r\n//   // ✅ Decide which subscriptions/services to show based on tab\r\n//   const subscriptionsToShow =\r\n//     subscriptionTab === \"paid\" ? paidSubscriptions : currentSubscriptions;\r\n//   const servicesToShow = serviceTab === \"paid\" ? paidServices : currentServices;\r\n\r\n//   const markAsPaid = async () => {\r\n//     try {\r\n//       alert(\"hello\");\r\n//       const res = await fetch(`${API_BASE_URL}${ApiRute.emi.markaspaid}`, {\r\n//         method: \"PUT\",\r\n//         headers: {\r\n//           \"content-type\": \"application/json\",\r\n//           authorization: `Bearer ${getStroage().token}`,\r\n//         },\r\n//         body: JSON.stringify({\r\n//           phone: phone,\r\n//           user_id: details,\r\n//         }),\r\n//       });\r\n//       const result = await res.json();\r\n//       fetchCurrentSubscriptions();\r\n//       fetchPaidSubscriptions();\r\n//       fetchUserId();\r\n//       result?.success\r\n//         ? toast.success(result?.message)\r\n//         : toast.error(result?.message);\r\n//     } catch (err) {\r\n//       console.error(err);\r\n//     }\r\n//   };\r\n\r\n//   // ✅ Initial fetch\r\n//   useEffect(() => {\r\n//     fetchCurrentSubscriptions();\r\n//     fetchPaidSubscriptions();\r\n//     fetchUserId();\r\n//   }, [details]);\r\n\r\n//   return (\r\n//     <>\r\n//       <Header />\r\n//       <div className=\"min-h-screen flex justify-center items-start bg-gray-100 p-6\">\r\n//         <div className=\"max-w-6xl w-full flex flex-col space-y-8 justify-center rounded-xl bg-white p-5\">\r\n//           <div className=\"flex flex-col md:flex-row gap-6\">\r\n//             {/* Left: Subscriptions */}\r\n//             <div className=\"flex-1 flex flex-col\">\r\n//               <h3 className=\"text-xl font-semibold text-gray-800 mb-3\">\r\n//                 Monthly Subscriptions\r\n//               </h3>\r\n//               <ul className=\"flex border-b mb-3\">\r\n//                 <li\r\n//                   className={`cursor-pointer px-4 py-2 ${\r\n//                     subscriptionTab === \"current\"\r\n//                       ? \"border-b-2 border-blue-600 font-semibold text-blue-600\"\r\n//                       : \"text-gray-500 hover:text-blue-600\"\r\n//                   }`}\r\n//                   onClick={() => setSubscriptionTab(\"current\")}\r\n//                 >\r\n//                   Current\r\n//                 </li>\r\n//                 <li\r\n//                   className={`cursor-pointer px-4 py-2 relative ${\r\n//                     subscriptionTab === \"paid\"\r\n//                       ? \"border-b-2 border-blue-600 font-semibold text-blue-600\"\r\n//                       : \"text-gray-500 hover:text-blue-600\"\r\n//                   }`}\r\n//                   onClick={() => setSubscriptionTab(\"paid\")}\r\n//                 >\r\n//                   Paid{\" \"}\r\n//                   {/* <span className=\"absolute top-0.5 right-0.3 bg-red-400 w-[15px] h-[15px] text-center align-middle rounded-xl text-[13px] text-white\">\r\n//                     {paidSubscriptions.length}\r\n//                   </span> */}\r\n//                 </li>\r\n//               </ul>\r\n\r\n//               {subscriptionTab === \"current\" ? (\r\n//                 <div className=\"max-h-[250px] overflow-y-auto space-y-3 border border-gray-200 rounded-xl p-4 bg-gray-50\">\r\n//                   {subscriptionsToShow.length === 0 ? (\r\n//                     <p className=\"text-gray-500 text-sm\">\r\n//                       No subscriptions found.\r\n//                     </p>\r\n//                   ) : (\r\n//                     currentSubscriptions.map((sub, index) => (\r\n//                       <div\r\n//                         key={index}\r\n//                         className=\"p-4 border rounded-xl bg-white hover:bg-gray-100 transition flex flex-col relative\"\r\n//                       >\r\n//                         <span\r\n//                           className={`absolute top-4 right-4 text-sm font-medium px-3 py-1 rounded-full ${getStatusClass(\r\n//                             sub?.status\r\n//                           )}`}\r\n//                         >\r\n//                           {sub?.status.charAt(0).toUpperCase() +\r\n//                             sub?.status?.slice(1).toLowerCase()}\r\n//                         </span>\r\n\r\n//                         <div>\r\n//                           <p className=\"font-semibold text-gray-800\">\r\n//                             {sub.paidForMonth}\r\n//                           </p>\r\n//                           <p className=\"text-sm text-red-500 \">\r\n//                             Due Date:{\" \"}\r\n//                             {formatDate(sub?.paidForDueDate || sub?.dueDate)}\r\n//                           </p>\r\n//                         </div>\r\n\r\n//                         <div className=\"mt-2 grid grid-cols-2 md:grid-cols-3 gap-2 text-sm text-gray-700\">\r\n//                           <p>Amount: ₹{sub?.subscription || sub?.amount}</p>\r\n//                           <p>GST: {sub?.gst}%</p>\r\n//                           <p>Total: ₹{sub?.totalAmount || sub?.amount}</p>\r\n//                         </div>\r\n\r\n//                         {sub?.status === \"pending\" && (\r\n//                           <div className=\"mt-4 flex justify-start\">\r\n//                             <button\r\n//                               onClick={() => subscriptionMarkAsPaid(sub)}\r\n//                               className=\"px-3 py-1 bg-blue-600 text-white rounded hover:bg-green-700 transition text-sm\"\r\n//                             >\r\n//                               Mark as Paid\r\n//                             </button>\r\n//                           </div>\r\n//                         )}\r\n//                       </div>\r\n//                     ))\r\n//                   )}\r\n//                 </div>\r\n//               ) : (\r\n//                 <div className=\"max-h-[250px] overflow-y-auto space-y-3 border border-gray-200 rounded-xl p-4 bg-gray-50\">\r\n//                   {subscriptionsToShow.length === 0 ? (\r\n//                     <p className=\"text-gray-500 text-sm\">\r\n//                       No paid subscriptions found.\r\n//                     </p>\r\n//                   ) : (\r\n//                     paidSubscriptions.map((sub, index) => (\r\n//                       <div\r\n//                         key={index}\r\n//                         className=\"p-4 border rounded-xl bg-white hover:bg-gray-100 transition flex flex-col relative\"\r\n//                       >\r\n//                         <span\r\n//                           className={`absolute top-4 right-4 text-sm font-medium px-3 py-1 rounded-full ${getStatusClass(\r\n//                             sub?.status\r\n//                           )}`}\r\n//                         >\r\n//                           {sub?.status.charAt(0).toUpperCase() +\r\n//                             sub?.status?.slice(1).toLowerCase()}\r\n//                         </span>\r\n\r\n//                         <div>\r\n//                           <p className=\"font-semibold text-gray-800\">\r\n//                             {sub.paidForMonth}\r\n//                           </p>\r\n//                           <p className=\"text-sm text-green-500\">\r\n//                             Date:{\" \"}\r\n//                             {formatDate(sub?.paidForDueDate || sub?.dueDate)}\r\n//                           </p>\r\n//                         </div>\r\n\r\n//                         <div className=\"mt-2 grid grid-cols-2 md:grid-cols-3 gap-2 text-sm text-gray-700\">\r\n//                           <p>Amount: ₹{sub?.subscriptionId?.subscription}</p>\r\n//                           <p>GST: {sub?.gst}%</p>\r\n//                           <p>Total: ₹{sub?.subscriptionId?.amount}</p>\r\n//                         </div>\r\n\r\n//                         {sub?.status === \"pending\" && (\r\n//                           <div className=\"mt-4 flex justify-start\">\r\n//                             <button\r\n//                               onClick={() => subscriptionMarkAsPaid(sub)}\r\n//                               className=\"px-3 py-1 bg-blue-600 text-white rounded hover:bg-green-700 transition text-sm\"\r\n//                             >\r\n//                               Mark as Paid\r\n//                             </button>\r\n//                           </div>\r\n//                         )}\r\n//                       </div>\r\n//                     ))\r\n//                   )}\r\n//                 </div>\r\n//               )}\r\n//             </div>\r\n\r\n//             {/* Right: Services */}\r\n//             {/* Right: Services */}\r\n//             <div className=\"flex-1 flex flex-col\">\r\n//               <h3 className=\"text-xl font-semibold mb-3 text-gray-800 capitalize\">\r\n//                 {currentServices[0]?.serviceType}\r\n//               </h3>\r\n//               <ul className=\"flex border-b mb-3\">\r\n//                 <li\r\n//                   className={`cursor-pointer px-4 py-2 ${\r\n//                     serviceTab === \"current\"\r\n//                       ? \"border-b-2 border-blue-600 font-semibold text-blue-600\"\r\n//                       : \"text-gray-500 hover:text-blue-600\"\r\n//                   }`}\r\n//                   onClick={() => setServiceTab(\"current\")}\r\n//                 >\r\n//                   Current\r\n//                 </li>\r\n//                 <li\r\n//                   className={`cursor-pointer px-4 py-2 ${\r\n//                     serviceTab === \"paid\"\r\n//                       ? \"border-b-2 border-blue-600 font-semibold text-blue-600\"\r\n//                       : \"text-gray-500 hover:text-blue-600\"\r\n//                   }`}\r\n//                   onClick={() => setServiceTab(\"paid\")}\r\n//                 >\r\n//                   Paid\r\n//                 </li>\r\n//               </ul>\r\n\r\n//               <div className=\"max-h-[250px] overflow-y-auto space-y-3 border border-gray-200 rounded-xl p-4 bg-gray-50\">\r\n//                 {servicesToShow.length === 0 ? (\r\n//                   <p className=\"text-gray-500 text-sm\">No Paid Services</p>\r\n//                 ) : (\r\n//                   servicesToShow.map((service, index) => (\r\n//                     <div\r\n//                       key={index}\r\n//                       className=\"p-4 border rounded-xl bg-white hover:bg-gray-100 transition relative\"\r\n//                     >\r\n//                       <span\r\n//                         className={`absolute top-4 right-4 text-sm font-medium px-3 py-1 rounded-full ${getStatusClass(\r\n//                           service?.status\r\n//                         )}`}\r\n//                       >\r\n//                         {(service?.status || \"pending\")\r\n//                           .toString()\r\n//                           .charAt(0)\r\n//                           .toUpperCase() +\r\n//                           (service?.status || \"pending\")\r\n//                             .toString()\r\n//                             .slice(1)\r\n//                             .toLowerCase()}\r\n//                       </span>\r\n\r\n//                       <div>\r\n//                         <p className=\"font-semibold text-gray-800\">\r\n//                           {service?.paidForMonth}\r\n//                         </p>\r\n//                         <p className=\"text-sm text-red-500 \">\r\n//                           {\" \"}\r\n//                           Due Date: {formatDate(service?.dueDate)}\r\n//                         </p>\r\n//                       </div>\r\n\r\n//                       <div className=\"mt-2  flex text-sm text-gray-700  justify-between items-start\">\r\n//                         <p>Total EMI: {service?.totalEMI || \"N/A\"}</p>\r\n//                         <p>EMI: {service?.emiPay || \"N/A\"}</p>\r\n//                         <p>EMI Amount: ₹ {service?.emiAmount || \"N/A\"}</p>\r\n//                       </div>\r\n//                       {/* <button\r\n//                         onClick={() => checkServicePayment(index)}\r\n//                         className=\"absolute bottom-4 right-4 px-3 py-1 bg-green-600 text-white rounded hover:bg-green-700 transition text-sm\"\r\n//                       >\r\n//                         Mark as Paid\r\n//                       </button> */}\r\n//                       <div className=\"mt-4 flex justify-start\">\r\n//                         <button\r\n//                           onClick={markAsPaid}\r\n//                           className=\"px-3 py-1 bg-blue-600 text-white rounded hover:bg-green-700 transition text-sm\"\r\n//                         >\r\n//                           Mark as Paid\r\n//                         </button>\r\n//                       </div>\r\n//                     </div>\r\n//                   ))\r\n//                 )}\r\n//               </div>\r\n//             </div>\r\n//           </div>\r\n//         </div>\r\n//       </div>\r\n//     </>\r\n//   );\r\n// }\r\n"],"names":[],"mappings":";;;AAAO,MAAM,UAAU;IACrB,OAAO;QACL,OAAO;QACP,gBAAgB;QAChB,eAAe;QACf,aAAa;QACb,aAAa;QACb,aAAa;QACb,gBAAgB;QAChB,YAAY;QACZ,WAAW;QACX,gBAAgB;QAChB,aAAa;QACb,mBAAmB;QACnB,YAAY;QACZ,QAAQ;QACR,iBAAiB;QACjB,gBAAgB;IAClB;IACA,cAAc;QACZ,QAAQ;QACR,WAAW;QACX,QAAQ;QACR,YAAY;QACZ,eAAe;QACf,QAAQ;QACR,cAAc;QACd,iBAAiB;IACnB;IACA,UAAU;QACR,KAAK;QACL,QAAQ;QACR,QAAQ;QACR,UAAU;QACV,QAAQ;QACR,QAAQ;QACR,QAAQ;IACV;IACA,OAAO;QACL,KAAK;QACL,KAAK;QACL,QAAQ;QACR,QAAQ;IACV;IACA,QAAQ;QACN,KAAK;QACL,KAAK;QACL,QAAQ;IACV;IACA,KAAK;QACH,KAAK;QACL,KAAK;QACL,QAAQ;IACV;IACA,KAAK;QACH,KAAK;QACL,SAAS;IACX;IACA,SAAS;QACP,QAAQ;QACR,QAAQ;QACR,KAAK;QACL,QAAQ;IACV;IACA,SAAS;QACP,QAAQ;QACR,QAAQ;QACR,OAAO;QACP,SAAS;QACT,QAAQ;QACR,QAAQ;QACR,iBAAiB;IACnB;IACA,mBAAmB;IACnB,KAAK;QACH,QAAQ;QACR,SAAS;QACT,YAAY;QACZ,YAAY;QACZ,aAAa;QACb,gBAAgB;QAChB,eAAe;QACf,SAAS;IACX;IACA,UAAU;QACR,SAAS;IACX;IACA,SAAS;QACP,KAAK;IACP;IACA,UAAU;QACR,KAAK;QACL,QAAQ;QACR,KAAK;IACP;IACA,MAAM;QACJ,SAAS;IACX;IACA,MAAM;QACJ,UAAU;QACV,UAAU;IACZ;IACA,eAAe;QACb,KAAK;QACL,SAAS;YACP,KAAK;YACL,KAAK;QACP;IACF;IACA,SAAS;QACP,YAAY;IACd;IACA,cAAc;QACZ,KAAK;QACL,SAAS;QACT,oBAAoB;QACpB,YAAY;QACZ,UAAU;QACV,eAAe;IACjB;IACA,MAAM;QACJ,QAAQ;IACV;AACF,GAEA,gBAAgB;CAChB,4CAA4C;CAC5C,gDAAgD;CAChD,8CAA8C;CAC9C,+CAA+C;CAC/C,2DAA2D;CAC3D,uCAAuC;CACvC,kCAAkC;CAElC,2BAA2B;CAC3B,oCAAoC;CACpC,iCAAiC;CACjC,yDAAyD;CACzD,kEAAkE;CAClE,kCAAkC;CAClC,sCAAsC;CACtC,KAAK;CAEL,4CAA4C;CAC5C,qCAAqC;CACrC,+CAA+C;CAC/C,2CAA2C;CAC3C,gCAAgC;CAChC,uEAAuE;CACvE,6DAA6D;CAE7D,2CAA2C;CAC3C,0EAA0E;CAC1E,oEAAoE;CAEpE,sCAAsC;CACtC,gEAAgE;CAChE,0DAA0D;CAE1D,sCAAsC;CACtC,YAAY;CACZ,gFAAgF;CAChF,0BAA0B;CAC1B,qBAAqB;CACrB,gDAAgD;CAChD,2DAA2D;CAC3D,aAAa;CACb,sDAAsD;CACtD,YAAY;CACZ,8CAA8C;CAC9C,+BAA+B;CAC/B,6CAA6C;CAC7C,uCAAuC;CACvC,yDAAyD;CACzD,sDAAsD;CACtD,UAAU;CACV,wBAAwB;CACxB,8BAA8B;CAC9B,QAAQ;CACR,OAAO;CACP,yCAAyC;CACzC,mEAAmE;CACnE,wEAAwE;CACxE,0CAA0C;CAC1C,OAAO;CAEP,4CAA4C;CAC5C,oDAAoD;CACpD,YAAY;CACZ,sCAAsC;CACtC,kFAAkF;CAClF,6EAA6E;CAC7E,WAAW;CACX,8CAA8C;CAC9C,qDAAqD;CACrD,yCAAyC;CACzC,0CAA0C;CAC1C,6BAA6B;CAC7B,sBAAsB;CACtB,8EAA8E;CAC9E,+BAA+B;CAC/B,iCAAiC;CACjC,kBAAkB;CAClB,iCAAiC;CACjC,iBAAiB;CACjB,+CAA+C;CAC/C,iBAAiB;CACjB,uCAAuC;CACvC,UAAU;CACV,sBAAsB;CACtB,4BAA4B;CAC5B,gEAAgE;CAChE,QAAQ;CACR,OAAO;CAEP,kCAAkC;CAClC,iDAAiD;CACjD,YAAY;CACZ,sCAAsC;CACtC,+EAA+E;CAC/E,YAAY;CACZ,2BAA2B;CAC3B,uBAAuB;CACvB,kDAAkD;CAClD,6DAA6D;CAC7D,eAAe;CACf,YAAY;CACZ,WAAW;CACX,8CAA8C;CAE9C,qDAAqD;CACrD,gCAAgC;CAChC,wCAAwC;CACxC,sBAAsB;CACtB,4CAA4C;CAC5C,gBAAgB;CAChB,aAAa;CACb,iBAAiB;CACjB,oCAAoC;CACpC,UAAU;CACV,sBAAsB;CACtB,4BAA4B;CAC5B,6DAA6D;CAC7D,QAAQ;CACR,OAAO;CAEP,uCAAuC;CACvC,oDAAoD;CACpD,YAAY;CACZ,sCAAsC;CACtC,uDAAuD;CACvD,YAAY;CACZ,4BAA4B;CAC5B,6DAA6D;CAC7D,6CAA6C;CAC7C,YAAY;CACZ,WAAW;CAEX,8CAA8C;CAC9C,+BAA+B;CAC/B,mFAAmF;CACnF,0DAA0D;CAE1D,4BAA4B;CAC5B,cAAc;CACd,4CAA4C;CAC5C,wCAAwC;CACxC,wDAAwD;CACxD,gEAAgE;CAChE,+BAA+B;CAC/B,iCAAiC;CACjC,kBAAkB;CAClB,gDAAgD;CAChD,mDAAmD;CACnD,qEAAqE;CACrE,sDAAsD;CACtD,oCAAoC;CACpC,6BAA6B;CAC7B,eAAe;CACf,aAAa;CAEb,uCAAuC;CACvC,iBAAiB;CACjB,kCAAkC;CAClC,UAAU;CACV,sBAAsB;CACtB,gEAAgE;CAChE,QAAQ;CACR,OAAO;CAEP,6BAA6B;CAC7B,4CAA4C;CAC5C,YAAY;CACZ,sCAAsC;CACtC,8EAA8E;CAC9E,YAAY;CACZ,2BAA2B;CAC3B,uBAAuB;CACvB,kDAAkD;CAClD,6DAA6D;CAC7D,eAAe;CACf,YAAY;CACZ,WAAW;CACX,8CAA8C;CAC9C,qCAAqC;CACrC,qDAAqD;CACrD,mFAAmF;CACnF,iBAAiB;CACjB,+BAA+B;CAC/B,UAAU;CACV,sBAAsB;CACtB,4BAA4B;CAC5B,wDAAwD;CACxD,QAAQ;CACR,OAAO;CAEP,mCAAmC;CACnC,6DAA6D;CAC7D,YAAY;CACZ,iCAAiC;CACjC,+DAA+D;CAC/D,YAAY;CACZ,4BAA4B;CAC5B,uBAAuB;CACvB,kDAAkD;CAClD,6DAA6D;CAC7D,eAAe;CACf,mCAAmC;CACnC,iDAAiD;CACjD,kCAAkC;CAClC,gBAAgB;CAChB,YAAY;CACZ,WAAW;CACX,uCAAuC;CACvC,4BAA4B;CAC5B,yDAAyD;CACzD,uCAAuC;CACvC,oCAAoC;CACpC,iBAAiB;CACjB,kEAAkE;CAClE,UAAU;CACV,sBAAsB;CACtB,4BAA4B;CAC5B,4DAA4D;CAC5D,QAAQ;CACR,OAAO;CAEP,8BAA8B;CAC9B,gDAAgD;CAChD,4EAA4E;CAC5E,yDAAyD;CACzD,+EAA+E;CAC/E,gFAAgF;CAChF,OAAO;CAEP,kEAAkE;CAClE,gCAAgC;CAChC,6EAA6E;CAC7E,mFAAmF;CAEnF,qCAAqC;CACrC,YAAY;CACZ,wBAAwB;CACxB,8EAA8E;CAC9E,yBAAyB;CACzB,qBAAqB;CACrB,gDAAgD;CAChD,2DAA2D;CAC3D,aAAa;CACb,iCAAiC;CACjC,0BAA0B;CAC1B,8BAA8B;CAC9B,cAAc;CACd,YAAY;CACZ,yCAAyC;CACzC,qCAAqC;CACrC,kCAAkC;CAClC,uBAAuB;CACvB,wBAAwB;CACxB,2CAA2C;CAC3C,0CAA0C;CAC1C,sBAAsB;CACtB,4BAA4B;CAC5B,QAAQ;CACR,OAAO;CAEP,uBAAuB;CACvB,sBAAsB;CACtB,mCAAmC;CACnC,gCAAgC;CAChC,qBAAqB;CACrB,mBAAmB;CAEnB,aAAa;CACb,SAAS;CACT,mBAAmB;CACnB,uFAAuF;CACvF,4GAA4G;CAC5G,8DAA8D;CAC9D,0CAA0C;CAC1C,qDAAqD;CACrD,0EAA0E;CAC1E,wCAAwC;CACxC,sBAAsB;CACtB,oDAAoD;CACpD,sBAAsB;CACtB,4DAA4D;CAC5D,oDAAoD;CACpD,mFAAmF;CACnF,8DAA8D;CAC9D,wBAAwB;CACxB,kEAAkE;CAClE,oBAAoB;CACpB,4BAA4B;CAC5B,wBAAwB;CACxB,sBAAsB;CACtB,qEAAqE;CACrE,iDAAiD;CACjD,mFAAmF;CACnF,8DAA8D;CAC9D,wBAAwB;CACxB,+DAA+D;CAC/D,oBAAoB;CACpB,8BAA8B;CAC9B,8JAA8J;CAC9J,iDAAiD;CACjD,gCAAgC;CAChC,wBAAwB;CACxB,sBAAsB;CAEtB,mDAAmD;CACnD,6HAA6H;CAC7H,0DAA0D;CAC1D,4DAA4D;CAC5D,gDAAgD;CAChD,2BAA2B;CAC3B,0BAA0B;CAC1B,iEAAiE;CACjE,6BAA6B;CAC7B,sCAAsC;CACtC,yHAAyH;CACzH,0BAA0B;CAC1B,gCAAgC;CAChC,4HAA4H;CAC5H,0CAA0C;CAC1C,iCAAiC;CACjC,4BAA4B;CAC5B,mEAAmE;CACnE,mEAAmE;CACnE,kCAAkC;CAElC,gCAAgC;CAChC,wEAAwE;CACxE,iDAAiD;CACjD,iCAAiC;CACjC,kEAAkE;CAClE,6CAA6C;CAC7C,gFAAgF;CAChF,iCAAiC;CACjC,iCAAiC;CAEjC,6GAA6G;CAC7G,+EAA+E;CAC/E,oDAAoD;CACpD,6EAA6E;CAC7E,iCAAiC;CAEjC,0DAA0D;CAC1D,sEAAsE;CACtE,sCAAsC;CACtC,4EAA4E;CAC5E,2HAA2H;CAC3H,gCAAgC;CAChC,6CAA6C;CAC7C,wCAAwC;CACxC,mCAAmC;CACnC,6BAA6B;CAC7B,+BAA+B;CAC/B,yBAAyB;CACzB,uBAAuB;CACvB,yBAAyB;CACzB,sBAAsB;CACtB,6HAA6H;CAC7H,0DAA0D;CAC1D,4DAA4D;CAC5D,qDAAqD;CACrD,2BAA2B;CAC3B,0BAA0B;CAC1B,8DAA8D;CAC9D,6BAA6B;CAC7B,sCAAsC;CACtC,yHAAyH;CACzH,0BAA0B;CAC1B,gCAAgC;CAChC,4HAA4H;CAC5H,0CAA0C;CAC1C,iCAAiC;CACjC,4BAA4B;CAC5B,mEAAmE;CACnE,mEAAmE;CACnE,kCAAkC;CAElC,gCAAgC;CAChC,wEAAwE;CACxE,iDAAiD;CACjD,iCAAiC;CACjC,mEAAmE;CACnE,yCAAyC;CACzC,gFAAgF;CAChF,iCAAiC;CACjC,iCAAiC;CAEjC,6GAA6G;CAC7G,gFAAgF;CAChF,oDAAoD;CACpD,yEAAyE;CACzE,iCAAiC;CAEjC,0DAA0D;CAC1D,sEAAsE;CACtE,sCAAsC;CACtC,4EAA4E;CAC5E,2HAA2H;CAC3H,gCAAgC;CAChC,6CAA6C;CAC7C,wCAAwC;CACxC,mCAAmC;CACnC,6BAA6B;CAC7B,+BAA+B;CAC/B,yBAAyB;CACzB,uBAAuB;CACvB,yBAAyB;CACzB,mBAAmB;CACnB,qBAAqB;CAErB,sCAAsC;CACtC,sCAAsC;CACtC,qDAAqD;CACrD,qFAAqF;CACrF,oDAAoD;CACpD,sBAAsB;CACtB,oDAAoD;CACpD,sBAAsB;CACtB,4DAA4D;CAC5D,+CAA+C;CAC/C,mFAAmF;CACnF,8DAA8D;CAC9D,wBAAwB;CACxB,6DAA6D;CAC7D,oBAAoB;CACpB,4BAA4B;CAC5B,wBAAwB;CACxB,sBAAsB;CACtB,4DAA4D;CAC5D,4CAA4C;CAC5C,mFAAmF;CACnF,8DAA8D;CAC9D,wBAAwB;CACxB,0DAA0D;CAC1D,oBAAoB;CACpB,yBAAyB;CACzB,wBAAwB;CACxB,sBAAsB;CAEtB,2HAA2H;CAC3H,mDAAmD;CACnD,8EAA8E;CAC9E,wBAAwB;CACxB,6DAA6D;CAC7D,2BAA2B;CAC3B,oCAAoC;CACpC,yGAAyG;CACzG,wBAAwB;CACxB,8BAA8B;CAC9B,0HAA0H;CAC1H,4CAA4C;CAC5C,+BAA+B;CAC/B,0BAA0B;CAC1B,0DAA0D;CAC1D,wCAAwC;CACxC,uCAAuC;CACvC,6CAA6C;CAC7C,2DAA2D;CAC3D,0CAA0C;CAC1C,wCAAwC;CACxC,8CAA8C;CAC9C,gCAAgC;CAEhC,8BAA8B;CAC9B,sEAAsE;CACtE,oDAAoD;CACpD,+BAA+B;CAC/B,gEAAgE;CAChE,kCAAkC;CAClC,qEAAqE;CACrE,+BAA+B;CAC/B,+BAA+B;CAE/B,wGAAwG;CACxG,yEAAyE;CACzE,iEAAiE;CACjE,6EAA6E;CAC7E,+BAA+B;CAC/B,oCAAoC;CACpC,qEAAqE;CACrE,gJAAgJ;CAChJ,0BAA0B;CAC1B,uCAAuC;CACvC,sCAAsC;CACtC,kEAAkE;CAClE,kCAAkC;CAClC,iDAAiD;CACjD,uHAAuH;CACvH,4BAA4B;CAC5B,yCAAyC;CACzC,oCAAoC;CACpC,+BAA+B;CAC/B,6BAA6B;CAC7B,uBAAuB;CACvB,qBAAqB;CACrB,uBAAuB;CACvB,qBAAqB;CACrB,mBAAmB;CACnB,iBAAiB;CACjB,eAAe;CACf,UAAU;CACV,OAAO;CACP,IAAI","debugId":null}},
    {"offset": {"line": 617, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/deves/Desktop/deploye%20testing/aws_amplify_admin_dri/src/url/storage.js"],"sourcesContent":["const key = \"token\";\r\nconst forget = \"forget\";\r\nexport const setStorage = (data) => {\r\n  localStorage.setItem(key, JSON.stringify(data));\r\n};\r\n\r\nexport const getStroage = () => {\r\n  if (localStorage.getItem(key)) {\r\n    return JSON.parse(localStorage.getItem(key));\r\n  } else {\r\n    return false;\r\n  }\r\n};\r\nexport const setFogetStorage = (data) => {\r\n  localStorage.setItem(forget, JSON.stringify(data));\r\n};\r\n\r\nexport const getForgetStorage = () => {\r\n  if (localStorage.getItem(forget)) {\r\n    return JSON.parse(localStorage.getItem(forget));\r\n  } else {\r\n    return false;\r\n  }\r\n};\r\n\r\nexport const clearStorage = () => {\r\n  if (localStorage.getItem(key)) {\r\n    localStorage.removeItem(key);\r\n  } else localStorage.removeItem(key);\r\n};\r\n"],"names":[],"mappings":";;;;;;;AAAA,MAAM,MAAM;AACZ,MAAM,SAAS;AACR,MAAM,aAAa,CAAC;IACzB,aAAa,OAAO,CAAC,KAAK,KAAK,SAAS,CAAC;AAC3C;AAEO,MAAM,aAAa;IACxB,IAAI,aAAa,OAAO,CAAC,MAAM;QAC7B,OAAO,KAAK,KAAK,CAAC,aAAa,OAAO,CAAC;IACzC,OAAO;QACL,OAAO;IACT;AACF;AACO,MAAM,kBAAkB,CAAC;IAC9B,aAAa,OAAO,CAAC,QAAQ,KAAK,SAAS,CAAC;AAC9C;AAEO,MAAM,mBAAmB;IAC9B,IAAI,aAAa,OAAO,CAAC,SAAS;QAChC,OAAO,KAAK,KAAK,CAAC,aAAa,OAAO,CAAC;IACzC,OAAO;QACL,OAAO;IACT;AACF;AAEO,MAAM,eAAe;IAC1B,IAAI,aAAa,OAAO,CAAC,MAAM;QAC7B,aAAa,UAAU,CAAC;IAC1B,OAAO,aAAa,UAAU,CAAC;AACjC","debugId":null}},
    {"offset": {"line": 655, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/deves/Desktop/deploye%20testing/aws_amplify_admin_dri/src/app/components/CurrentImages.js"],"sourcesContent":["\"use client\";\n\nimport { Trash2, Plus, Loader2 } from \"lucide-react\";\nimport { useEffect, useRef, useState } from \"react\";\nimport { API_BASE_URL } from \"@/url/BaseURL\";\nimport { ApiRute } from \"@/url/ApiRoute\";\nimport { getStroage } from \"@/url/storage\";\nimport toast from \"react-hot-toast\";\nimport Image from \"next/image\";\n\nexport default function CurrentImages() {\n  const [images, setImage] = useState([]);\n  const [previewImage, setPreviewImage] = useState(null);\n  const [loading, setLoading] = useState(false); // Add More Loading\n  const [deleting, setDeleting] = useState(null); // track which id is deleting\n  const fileInputRef = useRef();\n\n  // Handle File Selection\n  const handleFileChange = async (e) => {\n    const file = e.target.files[0];\n\n    setPreviewImage(URL.createObjectURL(file));\n    setLoading(true);\n\n    const formData = new FormData();\n    formData.append(\"image\", file);\n\n    try {\n      const res = await fetch(`${API_BASE_URL}${ApiRute.currentImage.upload}`, {\n        method: \"POST\",\n        body: formData,\n        headers: {\n          authorization: `Bearer ${getStroage().token}`,\n        },\n      });\n\n      const result = await res.json();\n      if (result?.success) {\n        getBanner();\n        setPreviewImage(null);\n        toast.success(result?.message);\n      } else {\n        console.error(result);\n        toast.error(result?.message);\n      }\n    } catch (error) {\n      console.error(error);\n      toast.error(\"Error uploading image\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const triggerFileInput = () => {\n    fileInputRef.current.click();\n  };\n\n  // Fetch Banners\n  const getBanner = async () => {\n    try {\n      const res = await fetch(\n        `${API_BASE_URL}${ApiRute.currentImage.getbanner}`,\n        {\n          method: \"GET\",\n        }\n      );\n      const result = await res.json();\n      if (result?.success) {\n        setImage(result?.banner);\n      }\n    } catch (err) {\n      console.error(err);\n    }\n  };\n\n  // Delete Image\n  const deleteImage = async (public_id) => {\n    setDeleting(public_id);\n    try {\n      const res = await fetch(\n        `${API_BASE_URL}${ApiRute.currentImage.delete}?public_id=${public_id}`,\n        {\n          method: \"DELETE\",\n          headers: {\n            \"content-type\": \"application/json\",\n            authorization: `Bearer ${getStroage().token}`,\n          },\n        }\n      );\n\n      const result = await res.json();\n      if (result?.success) {\n        toast.success(result.message);\n        getBanner();\n      } else {\n        toast.error(result.message);\n      }\n    } catch (err) {\n      console.error(\"Error deleting image:\", err);\n      toast.error(err.message);\n    } finally {\n      setDeleting(null);\n    }\n  };\n\n  useEffect(() => {\n    getBanner();\n  }, []);\n\n  return (\n    <div className=\"bg-white p-4 rounded-xl shadow\">\n      <h2 className=\"text-xl font-semibold mb-4\">Current Images</h2>\n\n      <div className=\"flex flex-wrap gap-4\">\n        {images.map((src, index) => (\n          <div\n            key={index}\n            className=\"relative w-56 h-36 border rounded-xl overflow-hidden\"\n          >\n            <a\n              href={src?.hyperLink}\n              target=\"_blank\"\n              rel=\"noopener noreferrer\"\n              className=\"relative block w-full h-[150px]\"\n            >\n              <Image\n                src={src?.bannerImage}\n                alt={`Image ${index}`}\n                className=\"object-cover\"\n                fill\n                sizes=\"(max-width: 768px) 100vw,\n           (max-width: 1200px) 50vw,\n           33vw\"\n                priority\n              />\n            </a>\n            <button\n              onClick={() => deleteImage(src?.public_id)}\n              disabled={deleting === src?.public_id}\n              className={`absolute bottom-2 right-2 bg-red-600 text-white px-2 py-1 text-xs rounded flex items-center ${\n                deleting === src?.public_id\n                  ? \"opacity-70 cursor-not-allowed\"\n                  : \"\"\n              }`}\n            >\n              {deleting === src?.public_id ? (\n                <Loader2 size={14} className=\"animate-spin\" />\n              ) : (\n                <>\n                  <Trash2 size={14} className=\"mr-1\" /> Delete\n                </>\n              )}\n            </button>\n          </div>\n        ))}\n\n        {/* Add More Button */}\n        <div\n          onClick={!loading ? triggerFileInput : undefined}\n          className=\"w-56 h-36 border-2 border-dashed flex flex-col items-center justify-center rounded-xl text-gray-500 cursor-pointer\"\n        >\n          {loading ? (\n            <Loader2 size={24} className=\"animate-spin\" />\n          ) : (\n            <>\n              <Plus size={24} />\n              <span className=\"mt-2 text-sm\">Add More</span>\n            </>\n          )}\n        </div>\n\n        {/* Preview newly selected image */}\n        {previewImage && (\n          <div className=\"relative w-56 h-36 border rounded-xl overflow-hidden\">\n            <Image\n              src={`${previewImage}`}\n              alt=\"Preview\"\n              className=\"w-full h-full object-cover\"\n              fill\n              sizes=\"(max-width: 768px) 100vw, \n         (max-width: 1200px) 50vw, \n         33vw\"\n            />\n          </div>\n        )}\n\n        {/* Hidden file input */}\n        <input\n          type=\"file\"\n          ref={fileInputRef}\n          className=\"hidden\"\n          accept=\"image/*\"\n          onChange={handleFileChange}\n        />\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 913, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/deves/Desktop/deploye%20testing/aws_amplify_admin_dri/src/app/components/Header.js"],"sourcesContent":["// \"use client\";\n// import { ApiRute } from \"@/url/ApiRoute\";\n// import { API_BASE_URL } from \"@/url/BaseURL\";\n// import Image from \"next/image\";\n// import Link from \"next/link\";\n// import { usePathname, useRouter } from \"next/navigation\";\n// import { useEffect, useState } from \"react\";\n// import { FaPowerOff } from \"react-icons/fa\";\n// import { FiSettings } from \"react-icons/fi\";\n// import { PiBellDuotone } from \"react-icons/pi\";\n\n// export default function Header() {\n//   const pathname = usePathname();\n//   const [adminImage, setProfile] = useState(\"\");\n//   const router = useRouter();\n//   const navItems = [\n//     { name: \"Dashboard\", path: \"/admin/dashboard\" },\n//     { name: \"User Control\", path: \"/userController\" },\n//     { name: \"Services\", path: \"/advocateService\" },\n//     {\n//       name: \"Settings\",\n//       path: \"/Setting\",\n//       icon: <FiSettings className=\"text-xl\" />,\n//     },\n//   ];\n\n//   const handleAction = () => {\n//     localStorage.removeItem(\"token\");\n//     router.push(\"/\");\n//   };\n//   const [profileImage, setProfileImage] = useState({});\n//   // const profileDataFetch = async () => {\n//   //   const res = await fetch(`${API_BASE_URL}${ApiRute.adminProfileImage}`, {\n//   //     method: \"GET\",\n//   //     headers: {\n//   //       \"Content-Type\": \"application/json\",\n//   //     },\n//   //   });\n//   //   const contentType = res.headers.get(\"content-type\");\n//   //   let resData;\n//   //   if (contentType && contentType.includes(\"application/json\")) {\n//   //     resData = await res.json();\n//   //   } else {\n//   //     const text = await res.text();\n//   //     throw new Error(`Unexpected response: ${text}`);\n//   //   }\n//   //   if (res.ok && resData?.success) {\n//   //     setProfileImage(resData.data);\n//   //   } else {\n//   //   }\n//   // };\n//   useEffect(() => {\n//     // profileDataFetch();\n//     setProfile(window.location.origin);\n//   }, []);\n//   return (\n//     <header className=\"w-full flex items-center justify-between px-6 shadow bg-white\">\n//       {/* Logo Section */}\n//       <div className=\"flex items-center ms-20\">\n//         <Image src=\"/deptlogo.png\" alt=\"Logo\" height={200} width={250} />\n//       </div>\n\n//       {/* Navigation Tabs */}\n//       <div className=\"flex items-center space-x-4\">\n//         {navItems.map((item, idx) => {\n//           const isActive = pathname === item.path;\n\n//           return (\n//             <button\n//               key={idx}\n//               onClick={() => router.push(item.path)}\n//               className={`px-6 py-2 rounded-full border-2 border-[#ccc] flex flex-col items-center ${\n//                 isActive\n//                   ? \"bg-gradient-to-r from-blue-900 to-blue-600 text-white shadow-md\"\n//                   : \"bg-blue-100 text-black\"\n//               }`}\n//             >\n//               <div className=\"flex items-center space-x-2\">\n//                 {item?.icon && item?.icon}\n//                 <span>{item.name}</span>\n//               </div>\n//               {isActive && (\n//                 <div className=\"h-1 w-full bg-gradient-to-r from-purple-400 to-cyan-300 mt-1 rounded-full\"></div>\n//               )}\n//             </button>\n//           );\n//         })}\n//       </div>\n//       {/* Right Section */}\n//       <div className=\"flex items-center space-x-4\">\n//         <div className=\"relative\">\n//           <PiBellDuotone className=\"text-yellow-500 text-2xl bg-blue-100 rounded-full p-1\" />\n//           <span className=\"absolute top-0 right-0 h-3 w-3 bg-red-500 rounded-full\"></span>\n//         </div>\n//         <button\n//           onClick={handleAction}\n//           className=\"flex items-center justify-center h-10 w-10 bg-blue-100 rounded-full\"\n//         >\n//           <FaPowerOff className=\"text-red-600 text-xl bg-blue-100 rounded-full p-2 h-10 w-10 cursor-pointer\" />\n//         </button>\n//         <Link href=\"/profilePage\" className=\"relative block h-10 w-10\">\n//           <Image\n//             src=\"/favicon.ico\"\n//             alt=\"User\"\n//             className=\"rounded-full border-2 border-purple-500 object-cover\"\n//             fill\n//             sizes=\"(max-width: 768px) 100vw,\n//            (max-width: 1200px) 50vw,\n//            33vw\"\n//           />\n//         </Link>\n//       </div>\n//     </header>\n//   );\n// }\n\n\"use client\";\nimport { ApiRute } from \"@/url/ApiRoute\";\nimport { API_BASE_URL } from \"@/url/BaseURL\";\nimport Image from \"next/image\";\nimport Link from \"next/link\";\nimport { usePathname, useRouter } from \"next/navigation\";\nimport { useEffect, useState } from \"react\";\nimport { FaPowerOff } from \"react-icons/fa\";\nimport { FiSettings } from \"react-icons/fi\";\nimport { PiBellDuotone } from \"react-icons/pi\";\nimport { clearStorage, getStroage } from \"@/url/storage\";\nimport toast from \"react-hot-toast\";\n\nexport default function Header({ data }) {\n  const pathname = usePathname();\n  const router = useRouter();\n  const [profileImage, setProfileImage] = useState(\"\");\n  const [banner, setBanner] = useState(null);\n\n  const navItems = [\n    { name: \"Dashboard\", path: \"/admin/dashboard\" },\n    { name: \"User Control\", path: \"/userController\" },\n    { name: \"Services\", path: \"/advocateService\" },\n    {\n      name: \"Settings\",\n      path: \"/Setting\",\n      icon: <FiSettings className=\"text-xl\" />,\n    },\n  ];\n\n  // ✅ Logout\n  const handleAction = () => {\n    localStorage.removeItem(\"token\");\n    router.push(\"/\");\n  };\n\n  // ✅ Fetch admin details\n  async function getAdminDetails() {\n    try {\n      const response = await fetch(\n        `${API_BASE_URL}${ApiRute.admin.getadmindetail}`,\n        {\n          method: \"GET\",\n          headers: {\n            \"content-type\": \"application/json\",\n            authorization: `Bearer ${getStroage().token}`,\n          },\n        }\n      );\n\n      const bannerRes = await fetch(\n        `${API_BASE_URL}${ApiRute.admin.getadminBanner}`\n      );\n      const bannerData = await bannerRes.json();\n      if (bannerData.success) setBanner(bannerData.data);\n\n      const result = await response.json();\n      if (result?.success) {\n        setProfileImage(result?.data?.image || \"\");\n      } else {\n        console.log(\"err\", result);\n        if (result?.message == \"Token expired\") {\n          toast.error(\n            \"Your session has expired. Please log in again to continue.\"\n          );\n          clearStorage();\n        }\n        console.error(\"Admin detail fetch error:\", result);\n      }\n    } catch (err) {\n      console.error(\"getAdminDetails error:\", err);\n    }\n  }\n\n  useEffect(() => {\n    setProfileImage(data);\n    getAdminDetails();\n  }, [data]);\n\n  // ✅ Determine safe image source\n  const getSafeImage = (img, fallback) => {\n    if (typeof img === \"string\" && img.trim() !== \"\") return img;\n    if (img && typeof img === \"object\" && img.url) return img.url;\n    return fallback;\n  };\n\n  const mainProfileSrc = getSafeImage(profileImage, \"/login.png\");\n  const smallProfileSrc = getSafeImage(profileImage, \"/favicon.ico\");\n\n  return (\n    <header className=\"w-full flex items-center justify-between px-6 py-3 shadow bg-white\">\n      {/* Left: Logo/Profile */}\n      <div className=\"flex items-center ms-20\">\n        <div className=\"flex items-center ms-20\">\n          <Image src=\"/deptlogo.png\" alt=\"Logo\" height={200} width={250} />{\" \"}\n        </div>\n      </div>\n\n      {/* Center: Navigation Tabs */}\n      <div className=\"flex items-center space-x-4\">\n        {navItems.map((item, idx) => {\n          const isActive = pathname === item.path;\n          return (\n            <button\n              key={idx}\n              onClick={() => router.push(item.path)}\n              className={`px-6 py-2 rounded-full border-2 border-[#ccc] flex flex-col items-center transition-all ${\n                isActive\n                  ? \"bg-gradient-to-r from-blue-900 to-blue-600 text-white shadow-md\"\n                  : \"bg-blue-100 text-black hover:bg-blue-200\"\n              }`}\n            >\n              <div className=\"flex items-center space-x-2\">\n                {item?.icon && item.icon}\n                <span>{item.name}</span>\n              </div>\n              {isActive && (\n                <div className=\"h-1 w-full bg-gradient-to-r from-purple-400 to-cyan-300 mt-1 rounded-full\"></div>\n              )}\n            </button>\n          );\n        })}\n      </div>\n\n      {/* Right: Notification, Logout, Profile */}\n      <div className=\"flex items-center space-x-4\">\n        {/* Notification Bell */}\n        {/* <div className=\"relative\">\n          <PiBellDuotone className=\"text-yellow-500 text-2xl bg-blue-100 rounded-full p-1\" />\n          <span className=\"absolute top-0 right-0 h-3 w-3 bg-red-500 rounded-full\"></span>\n        </div> */}\n\n        {/* Logout Button */}\n        <button\n          onClick={handleAction}\n          className=\"flex items-center justify-center h-10 w-10 bg-blue-100 rounded-full hover:bg-blue-200\"\n        >\n          <FaPowerOff className=\"text-red-600 text-xl\" />\n        </button>\n\n        {/* Profile Page Link */}\n        <Link href=\"/profilePage\" className=\"relative block h-10 w-10\">\n          <div className=\"relative h-10 w-10 rounded-full overflow-hidden border-2 border-purple-500\">\n            <Image\n              src={smallProfileSrc}\n              alt=\"User\"\n              fill\n              sizes=\"(max-width:768px) 100vw, 40px\"\n              className=\"object-cover\"\n            />\n          </div>\n        </Link>\n      </div>\n    </header>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1263, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/deves/Desktop/deploye%20testing/aws_amplify_admin_dri/src/app/components/HowDRIWorks.js"],"sourcesContent":["\"use client\";\nimport { Pencil, Plus, X } from \"lucide-react\";\nimport { API_BASE_URL } from \"@/url/BaseURL\";\nimport { ApiRute } from \"@/url/ApiRoute\";\nimport { use, useEffect, useState } from \"react\";\nimport { getStroage } from \"@/url/storage\";\nimport toast from \"react-hot-toast\";\nimport Image from \"next/image\";\n\nexport default function HowDRIWorks() {\n  const [driwork, setDriWorks] = useState([]);\n  const [editingIndex, setEditingIndex] = useState(null);\n  const [editedStep, setEditedStep] = useState({\n    title: \"\",\n    content: \"\",\n    image: \"\",\n  });\n\n  // Modal state for Add More\n  const [showModal, setShowModal] = useState(false);\n  const [newStep, setNewStep] = useState({\n    title: \"\",\n    content: \"\",\n    image: null,\n  });\n\n  // Loading states\n  const [saveLoading, setSaveLoading] = useState(false);\n  const [deleteLoadingId, setDeleteLoadingId] = useState(null);\n  const [addLoading, setAddLoading] = useState(false);\n\n  // Fetch all data\n  const howDriWorkApi = async () => {\n    try {\n      const res = await fetch(`${API_BASE_URL}${ApiRute.driwork.getAll}`, {\n        method: \"GET\",\n        headers: {\n          authorization: `Bearer ${getStroage().token}`,\n        },\n      });\n      const result = await res.json();\n      if (result?.success) {\n        setDriWorks(result?.data);\n      } else {\n        setDriWorks([]);\n      }\n    } catch (error) {\n      console.error(error);\n    }\n  };\n\n  // Save Edited Data\n  const handleSave = async (index) => {\n    try {\n      setSaveLoading(true);\n      const updatedSteps = [...driwork];\n      updatedSteps[index] = {\n        ...updatedSteps[index],\n        title: editedStep.title,\n        content: editedStep.content,\n      };\n\n      const formData = new FormData();\n      formData.append(\"title\", updatedSteps[index]?.title);\n      formData.append(\"driId\", updatedSteps[index]?._id);\n      formData.append(\"content\", updatedSteps[index]?.content);\n      formData.append(\"public_id\", updatedSteps[index]?.public_id || \"\");\n\n      if (editedStep.image) {\n        formData.append(\"image\", editedStep.image);\n      }\n\n      const res = await fetch(`${API_BASE_URL}${ApiRute.driwork.update}`, {\n        method: \"PUT\",\n        headers: {\n          authorization: `Bearer ${getStroage().token}`,\n        },\n        body: formData,\n      });\n\n      const result = await res.json();\n      if (result?.success) {\n        toast.success(result?.message);\n        howDriWorkApi();\n        setDriWorks(updatedSteps);\n      } else {\n        toast.error(result?.message);\n        console.error(\"fail\", result);\n      }\n    } catch (error) {\n      console.error(error);\n    } finally {\n      setSaveLoading(false);\n      setEditingIndex(null);\n    }\n  };\n\n  // Handle Add More Save\n  const handleAddMore = async () => {\n    try {\n      if (!newStep.title || !newStep.content || !newStep.image) {\n        toast(\"All fields are required!\");\n        return;\n      }\n      setAddLoading(true);\n\n      const formData = new FormData();\n      formData.append(\"title\", newStep.title);\n      formData.append(\"content\", newStep.content);\n      formData.append(\"image\", newStep.image);\n\n      const res = await fetch(`${API_BASE_URL}${ApiRute.driwork.add}`, {\n        method: \"POST\",\n        headers: {\n          authorization: `Bearer ${getStroage().token}`,\n        },\n        body: formData,\n      });\n\n      const result = await res.json();\n      if (result?.success) {\n        toast.success(result?.message);\n        howDriWorkApi();\n        setNewStep({ title: \"\", content: \"\", image: null });\n        setShowModal(false);\n      } else {\n        toast.error(result?.message);\n      }\n      setAddLoading(false);\n    } catch (error) {\n      console.log(error);\n    } finally {\n      setAddLoading(false);\n    }\n  };\n\n  const deleteDriWorks = async (id) => {\n    try {\n      setDeleteLoadingId(id);\n      const res = await fetch(\n        `${API_BASE_URL}${ApiRute.driwork.delete}?driId=${id}`,\n        {\n          method: \"Delete\",\n          headers: {\n            \"content-type\": \"application/json\",\n            authorization: `Bearer ${getStroage().token}`,\n          },\n        }\n      );\n      const result = await res.json();\n      if (result?.success) {\n        howDriWorkApi();\n      } else {\n        console.error(result?.message);\n      }\n    } catch (error) {\n      console.error(error);\n    } finally {\n      setDeleteLoadingId(null);\n    }\n  };\n\n  useEffect(() => {\n    howDriWorkApi();\n  }, []);\n\n  return (\n    <>\n      <div className=\" bg-white p-5 shadow rounded-xl  mt-10 \">\n        <h2 className=\"text-xl font-semibold mb-4\">How DRI Works ?</h2>\n\n        {driwork?.map((step, idx) => (\n          <div key={idx} className=\"flex items-start gap-4 mb-4\">\n            <Image\n              src={`${step?.avatar}`}\n              alt={step?.title}\n              width={70}\n              height={70}\n            />\n            <div className=\"flex-1\">\n              <div className=\"flex justify-between items-center\">\n                {editingIndex === idx ? (\n                  <input\n                    type=\"text\"\n                    value={editedStep.title}\n                    onChange={(e) =>\n                      setEditedStep({ ...editedStep, title: e.target.value })\n                    }\n                    className=\"border rounded px-2 py-1 text-sm w-full\"\n                  />\n                ) : (\n                  <h3 className=\"font-bold text-md\">{step?.title}</h3>\n                )}\n                <Pencil\n                  size={14}\n                  className=\"text-gray-500 cursor-pointer\"\n                  onClick={() => {\n                    setEditingIndex(idx);\n                    setEditedStep({\n                      title: step?.title,\n                      content: step?.content,\n                      image: \"\",\n                    });\n                  }}\n                />\n              </div>\n\n              {editingIndex === idx ? (\n                <>\n                  <textarea\n                    value={editedStep.content}\n                    onChange={(e) =>\n                      setEditedStep({ ...editedStep, content: e.target.value })\n                    }\n                    className=\"border rounded px-2 py-1 text-sm w-full mt-2\"\n                  />\n                  <input\n                    type=\"file\"\n                    className=\"border rounded px-2 py-1 text-sm w-full mt-2\"\n                    onChange={(e) =>\n                      setEditedStep({ ...editedStep, image: e.target.files[0] })\n                    }\n                  />\n                  <div className=\"flex gap-2 mt-2\">\n                    <button\n                      onClick={() => handleSave(idx)}\n                      disabled={saveLoading}\n                      className=\"text-sm px-2 py-1 bg-green-500 text-white rounded disabled:opacity-60\"\n                    >\n                      {saveLoading ? \"Saving...\" : \"Save\"}\n                    </button>\n                    <button\n                      onClick={() => setEditingIndex(null)}\n                      className=\"text-sm px-2 py-1 bg-gray-300 text-black rounded\"\n                    >\n                      Cancel\n                    </button>\n                    <button\n                      onClick={() => deleteDriWorks(step._id)}\n                      disabled={deleteLoadingId === step._id}\n                      className=\"text-sm px-2 py-1 bg-red-500 text-white rounded disabled:opacity-60\"\n                    >\n                      {deleteLoadingId === step._id ? \"Deleting...\" : \"Delete\"}\n                    </button>\n                  </div>\n                </>\n              ) : (\n                <p className=\"text-sm text-gray-600\">{step?.content}</p>\n              )}\n            </div>\n          </div>\n        ))}\n\n        {/* Add More Button */}\n        <button\n          onClick={() => setShowModal(true)}\n          className=\"bg-gradient-to-r from-blue-500 to-purple-500 text-white px-3 py-1 rounded text-sm flex items-center\"\n        >\n          <Plus size={14} className=\"mr-1\" /> Add More\n        </button>\n\n        {/* Modal for Add More */}\n        {showModal && (\n          <div className=\"fixed inset-0 bg-black/40 backdrop-blur-md flex justify-center items-center z-50\">\n            <div className=\"bg-white p-6 rounded-lg shadow-lg w-[400px] relative\">\n              <button\n                onClick={() => setShowModal(false)}\n                className=\"absolute top-2 right-2 text-gray-500\"\n              >\n                <X size={18} />\n              </button>\n              <h3 className=\"text-lg font-semibold mb-4\">Add New DRI Work</h3>\n\n              <input\n                type=\"text\"\n                placeholder=\"Enter Title\"\n                value={newStep.title}\n                onChange={(e) =>\n                  setNewStep({ ...newStep, title: e.target.value })\n                }\n                className=\"border rounded px-3 py-2 w-full mb-3\"\n              />\n\n              <textarea\n                placeholder=\"Enter Content\"\n                value={newStep.content}\n                onChange={(e) =>\n                  setNewStep({ ...newStep, content: e.target.value })\n                }\n                className=\"border rounded px-3 py-2 w-full mb-3\"\n              />\n\n              <input\n                type=\"file\"\n                onChange={(e) =>\n                  setNewStep({ ...newStep, image: e.target.files[0] })\n                }\n                className=\"border rounded px-3 py-2 w-full mb-3\"\n              />\n\n              <button\n                onClick={handleAddMore}\n                disabled={addLoading}\n                className=\"bg-green-500 text-white px-3 py-2 rounded w-full disabled:opacity-60\"\n              >\n                {addLoading ? \"Saving...\" : \"Save\"}\n              </button>\n            </div>\n          </div>\n        )}\n      </div>\n    </>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1707, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/deves/Desktop/deploye%20testing/aws_amplify_admin_dri/src/app/components/paidDialbox.js"],"sourcesContent":["import { ApiRute } from \"@/url/ApiRoute\";\r\nimport { API_BASE_URL } from \"@/url/BaseURL\";\r\nimport { getStroage } from \"@/url/storage\";\r\nimport { useEffect, useState } from \"react\";\r\nimport toast from \"react-hot-toast\";\r\n\r\nexport default function PaidDialBox() {\r\n  const [content, setcontent] = useState(0);\r\n  const [dialboxContent, setdialboxContent] = useState(\"\");\r\n  const getDialBoxContent = async () => {\r\n    try {\r\n      const res = await fetch(`${API_BASE_URL}${ApiRute.admin.getdialbox}`, {\r\n        method: \"GET\",\r\n        headers: {\r\n          \"content-type\": \"application/json\",\r\n          authorization: `Bearer ${getStroage().token}`,\r\n        },\r\n      });\r\n      const result = await res.json();\r\n      setcontent(result?.data || \"\");\r\n    } catch (error) {\r\n      console.error(error);\r\n    }\r\n  };\r\n  // add content\r\n  const addDiaBoxContentFun = async () => {\r\n    try {\r\n      const data = {\r\n        content: dialboxContent,\r\n      };\r\n      const res = await fetch(\r\n        `${API_BASE_URL}${ApiRute.admin.adddialboxContent}`,\r\n        {\r\n          method: \"POST\",\r\n          headers: {\r\n            \"content-type\": \"application/json\",\r\n            authorization: `Bearer ${getStroage().token}`,\r\n          },\r\n          body: JSON.stringify(data),\r\n        }\r\n      );\r\n      const result = await res.json();\r\n      if (result?.success) {\r\n        toast.success(result?.message);\r\n        setdialboxContent(\"\");\r\n        refreshFun();\r\n      } else {\r\n        toast.error(result?.message);\r\n      }\r\n    } catch (error) {\r\n      console.error(error);\r\n    }\r\n  };\r\n  function refreshFun() {\r\n    getDialBoxContent();\r\n  }\r\n  useEffect(() => {\r\n    getDialBoxContent();\r\n  }, []);\r\n  return (\r\n    <>\r\n      <div className=\"w-sm bg-white flex items-center flex-col shadow rounded-2xl p-5 mt-10 max-h-[210px]\">\r\n        {/* content chat number */}\r\n        <h2 className=\"text-xl font-semibold mb-4 capitalize\">\r\n          Paid Dialogbox\r\n        </h2>\r\n        <p>Content:- {content?.content}</p>\r\n        <div className=\"flex items-center gap-3 flex-col\">\r\n          <input\r\n            type=\"text\"\r\n            placeholder=\"Enter Content \"\r\n            className=\"flex-1 border rounded px-4 py-1 outline-none focus:ring-2 focus:ring-gray-500 mt-3\"\r\n            onChange={(e) => setdialboxContent(e.target.value)}\r\n          />\r\n          <div className=\"flex gap-2 mt-2\">\r\n            <button\r\n              className=\"cursor-pointer bg-gradient-to-r from-blue-500 to-purple-500 text-white px-2 w-20 py-1  rounded text-sm \"\r\n              onClick={addDiaBoxContentFun}\r\n            >\r\n              Add\r\n            </button>\r\n            <button\r\n              className=\"cursor-pointer bg-gradient-to-r from-blue-500 to-purple-500 text-white px-2 w-20 py-1  rounded text-sm \"\r\n              onClick={addDiaBoxContentFun}\r\n            >\r\n              Edit\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;AAAA;AACA;AACA;AACA;AACA;;;;;;;AAEe,SAAS;IACtB,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IACvC,MAAM,CAAC,gBAAgB,kBAAkB,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IACrD,MAAM,oBAAoB;QACxB,IAAI;YACF,MAAM,MAAM,MAAM,MAAM,GAAG,qHAAA,CAAA,eAAY,GAAG,sHAAA,CAAA,UAAO,CAAC,KAAK,CAAC,UAAU,EAAE,EAAE;gBACpE,QAAQ;gBACR,SAAS;oBACP,gBAAgB;oBAChB,eAAe,CAAC,OAAO,EAAE,CAAA,GAAA,qHAAA,CAAA,aAAU,AAAD,IAAI,KAAK,EAAE;gBAC/C;YACF;YACA,MAAM,SAAS,MAAM,IAAI,IAAI;YAC7B,WAAW,QAAQ,QAAQ;QAC7B,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC;QAChB;IACF;IACA,cAAc;IACd,MAAM,sBAAsB;QAC1B,IAAI;YACF,MAAM,OAAO;gBACX,SAAS;YACX;YACA,MAAM,MAAM,MAAM,MAChB,GAAG,qHAAA,CAAA,eAAY,GAAG,sHAAA,CAAA,UAAO,CAAC,KAAK,CAAC,iBAAiB,EAAE,EACnD;gBACE,QAAQ;gBACR,SAAS;oBACP,gBAAgB;oBAChB,eAAe,CAAC,OAAO,EAAE,CAAA,GAAA,qHAAA,CAAA,aAAU,AAAD,IAAI,KAAK,EAAE;gBAC/C;gBACA,MAAM,KAAK,SAAS,CAAC;YACvB;YAEF,MAAM,SAAS,MAAM,IAAI,IAAI;YAC7B,IAAI,QAAQ,SAAS;gBACnB,uJAAA,CAAA,UAAK,CAAC,OAAO,CAAC,QAAQ;gBACtB,kBAAkB;gBAClB;YACF,OAAO;gBACL,uJAAA,CAAA,UAAK,CAAC,KAAK,CAAC,QAAQ;YACtB;QACF,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC;QAChB;IACF;IACA,SAAS;QACP;IACF;IACA,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR;IACF,GAAG,EAAE;IACL,qBACE;kBACE,cAAA,8OAAC;YAAI,WAAU;;8BAEb,8OAAC;oBAAG,WAAU;8BAAwC;;;;;;8BAGtD,8OAAC;;wBAAE;wBAAW,SAAS;;;;;;;8BACvB,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BACC,MAAK;4BACL,aAAY;4BACZ,WAAU;4BACV,UAAU,CAAC,IAAM,kBAAkB,EAAE,MAAM,CAAC,KAAK;;;;;;sCAEnD,8OAAC;4BAAI,WAAU;;8CACb,8OAAC;oCACC,WAAU;oCACV,SAAS;8CACV;;;;;;8CAGD,8OAAC;oCACC,WAAU;oCACV,SAAS;8CACV;;;;;;;;;;;;;;;;;;;;;;;;;AAQb","debugId":null}},
    {"offset": {"line": 1852, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/deves/Desktop/deploye%20testing/aws_amplify_admin_dri/src/app/components/PaymentGateway.js"],"sourcesContent":["\"use client\";\nimport { Upload, Save, X } from \"lucide-react\";\nimport { API_BASE_URL } from \"@/url/BaseURL\";\nimport { ApiRute } from \"@/url/ApiRoute\";\nimport { useEffect, useState } from \"react\";\nimport toast from \"react-hot-toast\";\nimport Image from \"next/image\";\n\nexport default function PaymentGateway() {\n  const [upiData, setUpiData] = useState([]);\n  const [editIndex, setEditIndex] = useState(null);\n  const [newQr, setNewQr] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [isModalOpen, setIsModalOpen] = useState(false);\n\n  // Form data\n  const [formData, setFormData] = useState({\n    upi_id: \"\",\n    AcNumber: \"\",\n    IFSC: \"\",\n    Payee: \"\",\n    AccountType: \"\",\n  });\n\n  // Fetch UPI + QR\n  const GetPaymentQrAndUPI = async () => {\n    try {\n      const res = await fetch(`${API_BASE_URL}${ApiRute.upi.get}`);\n      const data = await res.json();\n      setUpiData(data?.data || []);\n    } catch (err) {\n      toast.error(\"Failed to fetch payment details\");\n    }\n  };\n\n  useEffect(() => {\n    GetPaymentQrAndUPI();\n  }, []);\n\n  // Add new\n  const handleAdd = async () => {\n    if (!formData.upi_id || !newQr) {\n      toast.error(\"Please provide UPI ID and QR\");\n      return;\n    }\n    setLoading(true);\n    try {\n      const fd = new FormData();\n      fd.append(\"upi_id\", formData.upi_id);\n      fd.append(\"AcNumber\", formData.AcNumber);\n      fd.append(\"IFSC\", formData.IFSC);\n      fd.append(\"Payee\", formData.Payee);\n      fd.append(\"AccountType\", formData.AccountType);\n      fd.append(\"image\", newQr);\n\n      const res = await fetch(`${API_BASE_URL}${ApiRute.upi.add}`, {\n        method: \"POST\",\n        body: fd,\n      });\n\n      const result = await res.json();\n      if (res.ok && result.success) {\n        toast.success(\"Added successfully!\");\n        setIsModalOpen(false);\n        setFormData({\n          upi_id: \"\",\n          AcNumber: \"\",\n          IFSC: \"\",\n          Payee: \"\",\n          AccountType: \"\",\n        });\n        setNewQr(null);\n        GetPaymentQrAndUPI();\n      } else {\n        toast.error(result?.message || \"Failed to add\");\n      }\n    } catch (err) {\n      toast.error(\"Failed to add\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Update existing\n  const handleUpdate = async (id) => {\n    if (\n      !formData.upi_id &&\n      !formData.AcNumber &&\n      !formData.IFSC &&\n      !formData.Payee &&\n      !formData.AccountType &&\n      !newQr\n    ) {\n      toast.error(\"Nothing to update\");\n      return;\n    }\n    setLoading(true);\n    try {\n      const fd = new FormData();\n      if (formData.upi_id) fd.append(\"upi_id\", formData.upi_id);\n      if (formData.AcNumber) fd.append(\"AcNumber\", formData.AcNumber);\n      if (formData.IFSC) fd.append(\"IFSC\", formData.IFSC);\n      if (formData.Payee) fd.append(\"Payee\", formData.Payee);\n      if (formData.AccountType) fd.append(\"AccountType\", formData.AccountType);\n      if (newQr) fd.append(\"image\", newQr);\n\n      const res = await fetch(`${API_BASE_URL}${ApiRute.upi.update}/${id}`, {\n        method: \"PUT\",\n        body: fd,\n      });\n\n      const result = await res.json();\n      if (res.ok && result.success) {\n        toast.success(\"Updated successfully!\");\n        setEditIndex(null);\n        setFormData({\n          upi_id: \"\",\n          AcNumber: \"\",\n          IFSC: \"\",\n          Payee: \"\",\n          AccountType: \"\",\n        });\n        setNewQr(null);\n        GetPaymentQrAndUPI();\n      } else {\n        toast.error(result?.message || \"Update failed\");\n      }\n    } catch (err) {\n      toast.error(\"Update failed\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"bg-white p-4 rounded-xl shadow flex flex-col items-center justify-center mt-10 w-[450px]\">\n      <h2 className=\"text-xl font-semibold mb-4\">Payment Gateway</h2>\n\n      {upiData.map((e, i) => (\n        <div key={e._id} className=\"mb-6 w-full flex flex-col items-center\">\n          <Image\n            src={\n              newQr && editIndex === i ? URL.createObjectURL(newQr) : e.qrCode\n            }\n            alt=\"QR Code\"\n            width={150}\n            height={150}\n            className=\"rounded shadow\"\n          />\n          <div className=\"mt-2 w-full flex flex-col p-2\">\n            <p className=\"font-bold m-1\">UPI: {e.upi_id}</p>\n            <p className=\"font-bold m-1\">\n              A/C Number: {e.AcNumber || \"000405007899\"}\n            </p>\n            <p className=\"font-bold m-1\">\n              Payee/Beneficiary: {e.Payee || \"Debt Relief India\"}\n            </p>\n            <p className=\"font-bold m-1\">IFSC: {e.IFSC || \"SBIN0001234\"}</p>\n            <p className=\"font-bold m-1\">\n              Account Type: {e.AccountType || \"Current\"}\n            </p>\n          </div>\n        </div>\n      ))}\n\n      <button\n        onClick={() => setIsModalOpen(true)}\n        className=\"mt-4 bg-gradient-to-r from-blue-500 to-purple-500 text-white px-4 py-2 rounded flex items-center text-sm\"\n      >\n        <Upload size={16} className=\"mr-2\" /> Upload New\n      </button>\n\n      {/* Modal */}\n      {isModalOpen && (\n        <div className=\"fixed inset-0 bg-black/50 flex items-center justify-center z-50\">\n          <div className=\"bg-white rounded-xl p-6 w-[400px] relative shadow-lg\">\n            <button\n              className=\"absolute top-2 right-2 text-gray-500 hover:text-black\"\n              onClick={() => setIsModalOpen(false)}\n            >\n              <X size={20} />\n            </button>\n\n            <h3 className=\"text-lg font-semibold mb-4\">\n              Add / Update UPI + QR\n            </h3>\n\n            {newQr && (\n              <Image\n                src={URL.createObjectURL(newQr)}\n                alt=\"New QR\"\n                width={180}\n                height={180}\n                className=\"rounded shadow mb-2 mx-auto\"\n              />\n            )}\n\n            <input\n              type=\"file\"\n              accept=\"image/*\"\n              className=\"mt-2 text-sm w-full\"\n              onChange={(e) => setNewQr(e.target.files[0])}\n            />\n            <input\n              type=\"text\"\n              placeholder=\"UPI ID\"\n              value={formData.upi_id}\n              onChange={(e) =>\n                setFormData({ ...formData, upi_id: e.target.value })\n              }\n              className=\"border px-2 py-1 text-sm rounded mt-2 w-full\"\n            />\n            <input\n              type=\"text\"\n              placeholder=\"A/C Number\"\n              value={formData.AcNumber}\n              onChange={(e) =>\n                setFormData({ ...formData, AcNumber: e.target.value })\n              }\n              className=\"border px-2 py-1 text-sm rounded mt-2 w-full\"\n            />\n            <input\n              type=\"text\"\n              placeholder=\"IFSC\"\n              value={formData.IFSC}\n              onChange={(e) =>\n                setFormData({ ...formData, IFSC: e.target.value })\n              }\n              className=\"border px-2 py-1 text-sm rounded mt-2 w-full\"\n            />\n            <input\n              type=\"text\"\n              placeholder=\"Payee Name\"\n              value={formData.Payee}\n              onChange={(e) =>\n                setFormData({ ...formData, Payee: e.target.value })\n              }\n              className=\"border px-2 py-1 text-sm rounded mt-2 w-full\"\n            />\n            <input\n              type=\"text\"\n              placeholder=\"Account Type\"\n              value={formData.AccountType}\n              onChange={(e) =>\n                setFormData({ ...formData, AccountType: e.target.value })\n              }\n              className=\"border px-2 py-1 text-sm rounded mt-2 w-full\"\n            />\n\n            <button\n              onClick={\n                editIndex !== null\n                  ? () => handleUpdate(upiData[editIndex]._id)\n                  : handleAdd\n              }\n              disabled={loading}\n              className=\"bg-green-500 text-white px-3 py-1 rounded text-sm flex items-center gap-1 mt-4 w-full justify-center\"\n            >\n              <Save size={14} />\n              {loading\n                ? \"Uploading...\"\n                : editIndex !== null\n                ? \"Update\"\n                : \"Upload Now\"}\n            </button>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 2255, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/deves/Desktop/deploye%20testing/aws_amplify_admin_dri/src/app/components/RecentFeatures.js"],"sourcesContent":["\"use client\";\nimport { useEffect, useRef, useState } from \"react\";\nimport { Pencil, Camera, Link2, Plus, X } from \"lucide-react\";\nimport { API_BASE_URL } from \"@/url/BaseURL\";\nimport { ApiRute } from \"@/url/ApiRoute\";\nimport toast from \"react-hot-toast\";\nimport Image from \"next/image\";\nimport { getStroage } from \"@/url/storage\";\n\nexport default function RecentFeatures() {\n  const [features, setFeatures] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [showAddModal, setShowAddModal] = useState(false);\n  const [newItem, setNewItem] = useState({\n    bannerTitle: \"\",\n    hyperLink: \"\",\n    imageFile: null,\n    imagePreview: null,\n  });\n\n  const fileInputsRef = useRef([]);\n\n  useEffect(() => {\n    async function fetchData() {\n      try {\n        const res = await fetch(\n          `${API_BASE_URL}${ApiRute.currentImage.recentCard}`\n        );\n        const data = await res.json();\n        if (data?.success) setFeatures(data.data);\n      } catch (error) {\n        console.error(\"API fetch failed:\", error);\n        setFeatures([]);\n      }\n    }\n    fetchData();\n  }, []);\n\n  const handleInputChange = (index, field, value) => {\n    const updated = [...features];\n    updated[index][field] = value;\n    setFeatures(updated);\n  };\n\n  const handleCameraClick = (index) => {\n    if (fileInputsRef.current[index]) fileInputsRef.current[index].click();\n  };\n\n  const handleFileChange = (index, file) => {\n    const updated = [...features];\n    if (file) {\n      updated[index].newImageFile = file;\n      updated[index].imagePreview = URL.createObjectURL(file);\n    }\n    setFeatures(updated);\n  };\n\n  const handleSave = async (index) => {\n    const item = features[index];\n    const formData = new FormData();\n    formData.append(\"id\", item?._id);\n    formData.append(\"title\", item?.bannerTitle || \"\");\n    formData.append(\"hyperLink\", item?.hyperLink || \"\");\n    if (item.newImageFile) formData.append(\"image\", item.newImageFile);\n\n    try {\n      setLoading(true);\n      const res = await fetch(`${API_BASE_URL}${ApiRute.currentImage.update}`, {\n        method: \"PUT\",\n        body: formData,\n      });\n      const result = await res.json();\n      if (result.success) toast.success(result.message || \"Saved!\");\n      else toast.error(result.message || \"Save failed!\");\n    } catch (error) {\n      console.error(\"Save failed:\", error);\n      toast.error(\"Save failed!\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleAddSubmit = async () => {\n    const formData = new FormData();\n    formData.append(\"title\", newItem.bannerTitle || \"\");\n    formData.append(\"hyperLink\", newItem.hyperLink || \"\");\n    if (newItem.imageFile) formData.append(\"image\", newItem.imageFile);\n\n    try {\n      setLoading(true);\n      const res = await fetch(\n        `${API_BASE_URL}${ApiRute.currentImage.addWithTitle}`,\n        {\n          method: \"POST\",\n          body: formData,\n        }\n      );\n      const result = await res.json();\n      if (result?.success) {\n        toast.success(result?.message || \"Added successfully!\");\n        // Add the new item to features with imagePreview set\n        const newFeature = {\n          ...result?.data,\n          imagePreview: result?.data?.bannerImage || null, // use bannerImage from API\n        };\n        setFeatures((prev) => [...prev, newFeature]);\n        setShowAddModal(false);\n        setNewItem({\n          bannerTitle: \"\",\n          hyperLink: \"\",\n          imageFile: null,\n          imagePreview: null,\n        });\n      } else toast.error(result.message || \"Add failed!\");\n      async function fetchData() {\n        try {\n          const res = await fetch(\n            `${API_BASE_URL}${ApiRute.currentImage.recentCard}`\n          );\n          const data = await res.json();\n          if (data?.success) setFeatures(data.data);\n        } catch (error) {\n          console.error(\"API fetch failed:\", error);\n          setFeatures([]);\n        }\n      }\n      fetchData();\n    } catch (error) {\n      console.error(\"Add failed:\", error);\n      toast.error(\"Add failed!\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const deleteBannerTitle = async (id, public_id) => {\n    try {\n      if (!id || !public_id) {\n        toast.error(\"Banner information is missing!\");\n        return;\n      }\n      const response = await fetch(\n        `${API_BASE_URL}${ApiRute.currentImage.deleteWithTitle}?id=${id}&public=${public_id}`,\n        {\n          method: \"DELETE\",\n          headers: {\n            \"content-type\": \"application/json\",\n            authorization: `Bearer ${getStroage().token}`,\n          },\n        }\n      );\n      const result = await response.json();\n      if (result?.success) {\n        toast.success(result?.message);\n        setFeatures((prev) => prev.filter((f) => f._id !== id));\n      } else toast.error(result?.message);\n    } catch (error) {\n      console.error(error);\n    }\n  };\n\n  return (\n    <div className=\"bg-white p-6 rounded-xl shadow mt-10 w-[900px] h-[400px] border-2 border-none overflow-hidden overflow-y-auto\">\n      <div className=\"flex justify-between items-center mb-6\">\n        <h2 className=\"text-2xl font-bold\">Recent Cards</h2>\n        <button\n          onClick={() => setShowAddModal(true)}\n          className=\"bg-blue-500 text-white px-4 py-2 rounded-md shadow flex items-center gap-2\"\n        >\n          <Plus size={16} /> Add New\n        </button>\n      </div>\n\n      {features.map((item, index) => (\n        <div\n          key={item?._id || index}\n          className=\"flex flex-col mb-6 p-4 rounded-lg\"\n          style={{ boxShadow: \"2px 2px 5px 5px #f7f3f2\" }}\n        >\n          <div className=\"flex items-center gap-4 mb-4\">\n            <a href={`${item?.hyperLink || \"#\"}`}>\n              <div className=\"w-20 h-20 bg-[#FFF5DC] rounded-lg flex items-center justify-center p-2 overflow-hidden\">\n                {item?.imagePreview || item?.bannerImage ? (\n                  <Image\n                    src={item.imagePreview || item.bannerImage}\n                    alt={item?.bannerTitle || \"Recent\"}\n                    width={100}\n                    height={100}\n                    style={{ width: \"100px\", height: \"auto\" }}\n                    className=\"object-cover rounded-md\"\n                  />\n                ) : (\n                  <div className=\"w-20 h-20 bg-gray-200 flex items-center justify-center rounded-md\">\n                    No Image\n                  </div>\n                )}\n              </div>\n            </a>\n            <span className=\"text-sm font-medium\">{item?.bannerTitle}</span>\n          </div>\n\n          <div className=\"relative mb-3 w-full\">\n            <input\n              value={item?.bannerTitle || \"\"}\n              onChange={(e) =>\n                handleInputChange(index, \"bannerTitle\", e.target.value)\n              }\n              placeholder=\"Enter title\"\n              className=\"w-full pl-4 pr-10 py-2 border rounded-md shadow-sm text-sm\"\n            />\n            <Pencil\n              size={16}\n              className=\"absolute right-3 top-3 text-gray-500\"\n            />\n          </div>\n\n          <div className=\"relative mb-3 w-full\">\n            <input\n              value={item?.hyperLink || \"\"}\n              onChange={(e) =>\n                handleInputChange(index, \"hyperLink\", e.target.value)\n              }\n              placeholder=\"Enter hyperlink\"\n              className=\"w-full pl-4 pr-10 py-2 border rounded-md shadow-sm text-sm\"\n            />\n            <Link2 size={16} className=\"absolute right-3 top-3 text-gray-500\" />\n          </div>\n\n          <div className=\"flex items-center gap-2\">\n            <button\n              type=\"button\"\n              onClick={() => handleCameraClick(index)}\n              className=\"w-[50px] h-[50px] bg-gradient-to-br from-blue-500 to-purple-500 rounded-full flex items-center justify-center\"\n            >\n              <Camera size={24} className=\"text-white\" />\n            </button>\n            <input\n              type=\"file\"\n              accept=\"image/*\"\n              className=\"hidden\"\n              ref={(el) => (fileInputsRef.current[index] = el)}\n              onChange={(e) => handleFileChange(index, e.target.files[0])}\n            />\n            <button\n              onClick={() => handleSave(index)}\n              className=\"bg-green-500 text-white text-sm px-4 py-2 rounded-md shadow cursor-pointer\"\n            >\n              {loading ? \"Saving...\" : \"Save\"}\n            </button>\n            <button\n              className=\"bg-red-500 text-white text-sm px-4 py-2 rounded-md shadow cursor-pointer\"\n              onClick={() => deleteBannerTitle(item?._id, item?.public_id)}\n            >\n              Delete\n            </button>\n          </div>\n        </div>\n      ))}\n\n      {showAddModal && (\n        <div className=\"fixed inset-0 bg-black/40 backdrop-blur-md flex items-center justify-center z-50\">\n          <div className=\"bg-white w-[400px] p-6 rounded-xl shadow relative\">\n            <button\n              onClick={() => setShowAddModal(false)}\n              className=\"absolute top-3 right-3 text-gray-500 hover:text-black\"\n            >\n              <X size={20} />\n            </button>\n\n            <h3 className=\"text-xl font-semibold mb-4\">Add New Feature</h3>\n\n            <div className=\"mb-4\">\n              {newItem?.imagePreview ? (\n                <Image\n                  src={newItem.imagePreview}\n                  alt=\"Preview\"\n                  width={128}\n                  height={128}\n                  style={{ width: \"128px\", height: \"auto\" }}\n                  className=\"object-cover rounded-md mb-2\"\n                />\n              ) : (\n                <div className=\"w-32 h-32 bg-gray-200 flex items-center justify-center rounded-md mb-2\">\n                  No Image\n                </div>\n              )}\n              <input\n                type=\"file\"\n                accept=\"image/*\"\n                onChange={(e) => {\n                  const file = e.target.files[0];\n                  if (file) {\n                    setNewItem({\n                      ...newItem,\n                      imageFile: file,\n                      imagePreview: URL.createObjectURL(file),\n                    });\n                  }\n                }}\n              />\n            </div>\n\n            <input\n              value={newItem.bannerTitle}\n              onChange={(e) =>\n                setNewItem({ ...newItem, bannerTitle: e.target.value })\n              }\n              placeholder=\"Enter title\"\n              className=\"w-full mb-3 pl-4 py-2 border rounded-md shadow-sm text-sm\"\n            />\n\n            <input\n              value={newItem.hyperLink}\n              onChange={(e) =>\n                setNewItem({ ...newItem, hyperLink: e.target.value })\n              }\n              placeholder=\"Enter hyperlink\"\n              className=\"w-full mb-4 pl-4 py-2 border rounded-md shadow-sm text-sm\"\n            />\n\n            <button\n              onClick={handleAddSubmit}\n              className=\"w-full bg-blue-500 text-white py-2 rounded-md\"\n            >\n              {loading ? \"Loading...\" : \"Add\"}\n            </button>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 2763, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/deves/Desktop/deploye%20testing/aws_amplify_admin_dri/src/app/components/Service.js"],"sourcesContent":["import { ApiRute } from \"@/url/ApiRoute\";\r\nimport { API_BASE_URL } from \"@/url/BaseURL\";\r\nimport { getStroage } from \"@/url/storage\";\r\nimport { useEffect, useState } from \"react\";\r\nimport toast from \"react-hot-toast\";\r\n\r\nfunction validateDueDate(dueDate) {\r\n  const now = new Date();\r\n  const inputDate = new Date(dueDate);\r\n  return inputDate > now;\r\n}\r\n\r\nexport default function ServiceAndSubscription() {\r\n  // 🔹 Initial states\r\n  const initialBank = {\r\n    bankName: \"\",\r\n    image: \"\",\r\n  };\r\n\r\n  const initialSubscription = {\r\n    gst: \"\",\r\n    duedate: \"\",\r\n    client: \"\",\r\n    subscription: \"\",\r\n  };\r\n\r\n  const [bank, setBank] = useState(initialBank);\r\n  const [subscription, setSubscription] = useState(initialSubscription);\r\n  const [clientList, setClientList] = useState([]);\r\n\r\n  const getUser = async () => {\r\n    try {\r\n      const res = await fetch(\r\n        `${API_BASE_URL}${ApiRute.subscription.getuser}`,\r\n        {\r\n          method: \"GET\",\r\n          headers: {\r\n            \"content-type\": \"application/json\",\r\n            authorization: `Bearer ${getStroage().token}`,\r\n          },\r\n        }\r\n      );\r\n      const result = await res.json();\r\n      if (result?.success) {\r\n        setClientList(result?.data);\r\n      }\r\n    } catch (error) {\r\n      console.error(error);\r\n    }\r\n  };\r\n\r\n  function validationCheck(valid) {\r\n    if (valid.gst < 0) {\r\n      toast.error(\"GST should not be negative\");\r\n      return false;\r\n    }\r\n    if (!validateDueDate(valid.duedate)) {\r\n      toast.error(\"Please set a due date that is in the future.\");\r\n      return false;\r\n    }\r\n    if (!valid.duedate) {\r\n      toast.error(\"Due date is require\");\r\n      return false;\r\n    }\r\n    if (!valid.client) {\r\n      toast.error(\"Client is require\");\r\n      return false;\r\n    }\r\n    if (!valid.subscription) {\r\n      toast.error(\"Subscription amount is require\");\r\n      return false;\r\n    }\r\n    if (!valid.gst) {\r\n      toast.error(\"GST Is require\");\r\n      return false;\r\n    }\r\n    return true;\r\n  }\r\n\r\n  const addSubscription = async (e) => {\r\n    e.preventDefault();\r\n    const isValid = validationCheck(subscription);\r\n    if (!isValid) return;\r\n    try {\r\n      const res = await fetch(`${API_BASE_URL}${ApiRute.subscription.add}`, {\r\n        method: \"POST\",\r\n        headers: {\r\n          \"content-type\": \"application/json\",\r\n          authorization: `Bearer ${getStroage().token}`,\r\n        },\r\n        body: JSON.stringify(subscription),\r\n      });\r\n\r\n      const result = await res.json();\r\n      if (result?.success) {\r\n        toast.success(result?.message);\r\n        setSubscription(initialSubscription); // reset\r\n      } else {\r\n        toast.error(result?.message);\r\n      }\r\n    } catch (error) {\r\n      console.error(error);\r\n    }\r\n  };\r\n\r\n  const addBanks = async () => {\r\n    const formdata = new FormData();\r\n    formdata.append(\"bankName\", bank.bankName);\r\n    formdata.append(\"image\", bank.image);\r\n    try {\r\n      const res = await fetch(`${API_BASE_URL}${ApiRute.bank.addbanks}`, {\r\n        method: \"POST\",\r\n        headers: {\r\n          authorization: `Bearer ${getStroage().token}`,\r\n        },\r\n        body: formdata,\r\n      });\r\n      const result = await res.json();\r\n      if (result?.success) {\r\n        toast.success(\"Bank added\");\r\n        setBank(initialBank); // reset\r\n      }\r\n    } catch (error) {\r\n      console.error(error);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    getUser();\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"bg-white p-6 rounded-xl shadow mt-5\">\r\n      <h2 className=\"text-xl font-semibold mb-4\">Banks & Subscriptions</h2>\r\n      <div className=\"flex w-full flex-row gap-3 \">\r\n        {/* Monthly Subscription Section */}\r\n        <form className=\"w-[50%] flex flex-col shadow-lg shadow-gray-200 p-4 rounded-sm border border-gray-200\">\r\n          <h2 className=\"text-xl font-semibold ml-1\">Monthly Subscription</h2>\r\n\r\n          <input\r\n            placeholder=\"Subscription Fees\"\r\n            name=\"subscription\"\r\n            value={subscription.subscription}\r\n            onChange={(e) =>\r\n              setSubscription((prev) => ({\r\n                ...prev,\r\n                [e.target.name]: e.target.value,\r\n              }))\r\n            }\r\n            required\r\n            className=\"w-sm border border-gray-400 rounded p-1.5 mt-3 ml-1\"\r\n          />\r\n\r\n          <input\r\n            placeholder=\"GST In Numbers (e.g. 18)\"\r\n            type=\"number\"\r\n            name=\"gst\"\r\n            value={subscription.gst}\r\n            onChange={(e) =>\r\n              setSubscription((prev) => ({\r\n                ...prev,\r\n                [e.target.name]: e.target.value,\r\n              }))\r\n            }\r\n            required\r\n            className=\"w-sm border border-gray-400 rounded p-1.5 m-1 mt-3\"\r\n          />\r\n\r\n          <input\r\n            type=\"date\"\r\n            name=\"duedate\"\r\n            value={subscription.duedate}\r\n            onChange={(e) =>\r\n              setSubscription((prev) => ({\r\n                ...prev,\r\n                [e.target.name]: e.target.value,\r\n              }))\r\n            }\r\n            className=\"w-sm border border-gray-400 rounded p-1.5 m-1 mt-3\"\r\n          />\r\n\r\n          <select\r\n            className=\"w-sm border border-gray-400 rounded p-1.5 m-1 mt-3 outline-neutral-50\"\r\n            value={subscription.client}\r\n            onChange={(e) =>\r\n              setSubscription((prev) => ({\r\n                ...prev,\r\n                client: e.target.value,\r\n              }))\r\n            }\r\n            name=\"client\"\r\n          >\r\n            <option value=\"\">Select Clients</option>\r\n            {clientList?.map((val) => (\r\n              <option\r\n                className=\"p-2 hover:bg-blue-300 cursor-pointer\"\r\n                value={val?.user_id}\r\n                key={val?.user_id}\r\n              >\r\n                {val?.name}&nbsp;({val?.id})\r\n              </option>\r\n            ))}\r\n          </select>\r\n          {/*  */}\r\n          <button\r\n            onClick={addSubscription}\r\n            className=\"w-25 bg-[#2B7FFF] text-white capitalize cursor-pointer rounded p-1.5 ml-1 mt-2 disabled:opacity-50\"\r\n          >\r\n            add\r\n          </button>\r\n        </form>\r\n\r\n        {/* Add Banks */}\r\n        <div className=\"w-[50%] flex flex-col shadow-lg shadow-gray-200 p-4 rounded-sm border border-gray-200\">\r\n          <h2 className=\"text-xl font-semibold ml-1\">Add Banks</h2>\r\n\r\n          <input\r\n            placeholder=\"Bank Name\"\r\n            type=\"text\"\r\n            name=\"bankName\"\r\n            value={bank.bankName}\r\n            onChange={(e) => {\r\n              setBank((pre) => ({ ...pre, [e.target.name]: e.target.value }));\r\n            }}\r\n            className=\"w-sm border border-gray-400 rounded p-1.5 mt-3 ml-1\"\r\n          />\r\n\r\n          <input\r\n            type=\"file\"\r\n            name=\"image\"\r\n            onChange={(e) => {\r\n              setBank((pre) => ({\r\n                ...pre,\r\n                [e.target.name]: e.target.files[0],\r\n              }));\r\n            }}\r\n            className=\"w-sm border border-gray-400 rounded p-1.5 mt-3 ml-1\"\r\n          />\r\n\r\n          <button\r\n            onClick={addBanks}\r\n            className=\"w-25 bg-[#2B7FFF] text-white capitalize cursor-pointer rounded p-1.5 ml-1 mt-2 disabled:opacity-50\"\r\n          >\r\n            add\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 3087, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/deves/Desktop/deploye%20testing/aws_amplify_admin_dri/src/app/components/Whatsaapp.js"],"sourcesContent":["import { ApiRute } from \"@/url/ApiRoute\";\r\nimport { API_BASE_URL } from \"@/url/BaseURL\";\r\nimport { getStroage } from \"@/url/storage\";\r\nimport { useEffect, useState } from \"react\";\r\nimport toast from \"react-hot-toast\";\r\n\r\nexport default function Whatsapp() {\r\n  const [whatsapp, setWhatsapp] = useState(0);\r\n  const [whatsappNumber, setWhatsappNumber] = useState(0);\r\n  const getWhatsapp = async () => {\r\n    try {\r\n      const res = await fetch(`${API_BASE_URL}${ApiRute.whatsapp.get}`);\r\n      const result = await res.json();\r\n      setWhatsapp(result || \"\");\r\n    } catch (error) {\r\n      console.error(error);\r\n    }\r\n  };\r\n  // add whatsapp\r\n  const addWhatsapp = async () => {\r\n    try {\r\n      const data = {\r\n        number: whatsappNumber,\r\n      };\r\n      const res = await fetch(`${API_BASE_URL}${ApiRute.whatsapp.add}`, {\r\n        method: \"POST\",\r\n        headers: {\r\n          \"content-type\": \"application/json\",\r\n          authorization: `Bearer ${getStroage().token}`,\r\n        },\r\n        body: JSON.stringify(data),\r\n      });\r\n      const result = await res.json();\r\n      toast.success(result?.message);\r\n    } catch (error) {\r\n      console.error(error);\r\n    }\r\n  };\r\n  const updateWhatsapp = async () => {\r\n    try {\r\n      const data = {\r\n        number: whatsappNumber,\r\n      };\r\n      if (!data.number) {\r\n        toast.error(\"whatsapp Number Missing\");\r\n        return;\r\n      }\r\n      const res = await fetch(`${API_BASE_URL}${ApiRute.whatsapp.update}`, {\r\n        method: \"PUT\",\r\n        headers: {\r\n          \"content-type\": \"application/json\",\r\n          authorization: `Bearer ${getStroage().token}`,\r\n        },\r\n        body: JSON.stringify(data),\r\n      });\r\n      const result = await res.json();\r\n      toast.success(result?.message);\r\n    } catch (error) {\r\n      console.error(error);\r\n    }\r\n  };\r\n  useEffect(() => {\r\n    getWhatsapp();\r\n  }, []);\r\n  return (\r\n    <>\r\n      <div className=\"w-sm bg-white flex items-center flex-col shadow rounded-2xl p-5 mt-10 max-h-[210px]\">\r\n        {/* whatsapp chat number */}\r\n        <h2 className=\"text-xl font-semibold mb-4 capitalize\">\r\n          whatsApp support number\r\n        </h2>\r\n        <p>Assinged:- {whatsapp?.whatsapp?.number}</p>\r\n        <div className=\"flex items-center gap-3 flex-col\">\r\n          <input\r\n            type=\"text\"\r\n            placeholder=\"Enter WhatsApp number\"\r\n            className=\"flex-1 border rounded px-4 py-1 outline-none focus:ring-2 focus:ring-gray-500 mt-3\"\r\n            onChange={(e) => setWhatsappNumber(e.target.value)}\r\n          />\r\n          <div className=\"flex gap-2 mt-2\">\r\n            <button\r\n              className=\"cursor-pointer bg-gradient-to-r from-blue-500 to-purple-500 text-white px-2 w-20 py-1  rounded text-sm \"\r\n              onClick={addWhatsapp}\r\n            >\r\n              Add\r\n            </button>\r\n            <button\r\n              className=\"cursor-pointer bg-gradient-to-r from-blue-500 to-purple-500 text-white px-2 w-20 py-1  rounded text-sm \"\r\n              onClick={updateWhatsapp}\r\n            >\r\n              Edit\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;AAAA;AACA;AACA;AACA;AACA;;;;;;;AAEe,SAAS;IACtB,MAAM,CAAC,UAAU,YAAY,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IACzC,MAAM,CAAC,gBAAgB,kBAAkB,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IACrD,MAAM,cAAc;QAClB,IAAI;YACF,MAAM,MAAM,MAAM,MAAM,GAAG,qHAAA,CAAA,eAAY,GAAG,sHAAA,CAAA,UAAO,CAAC,QAAQ,CAAC,GAAG,EAAE;YAChE,MAAM,SAAS,MAAM,IAAI,IAAI;YAC7B,YAAY,UAAU;QACxB,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC;QAChB;IACF;IACA,eAAe;IACf,MAAM,cAAc;QAClB,IAAI;YACF,MAAM,OAAO;gBACX,QAAQ;YACV;YACA,MAAM,MAAM,MAAM,MAAM,GAAG,qHAAA,CAAA,eAAY,GAAG,sHAAA,CAAA,UAAO,CAAC,QAAQ,CAAC,GAAG,EAAE,EAAE;gBAChE,QAAQ;gBACR,SAAS;oBACP,gBAAgB;oBAChB,eAAe,CAAC,OAAO,EAAE,CAAA,GAAA,qHAAA,CAAA,aAAU,AAAD,IAAI,KAAK,EAAE;gBAC/C;gBACA,MAAM,KAAK,SAAS,CAAC;YACvB;YACA,MAAM,SAAS,MAAM,IAAI,IAAI;YAC7B,uJAAA,CAAA,UAAK,CAAC,OAAO,CAAC,QAAQ;QACxB,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC;QAChB;IACF;IACA,MAAM,iBAAiB;QACrB,IAAI;YACF,MAAM,OAAO;gBACX,QAAQ;YACV;YACA,IAAI,CAAC,KAAK,MAAM,EAAE;gBAChB,uJAAA,CAAA,UAAK,CAAC,KAAK,CAAC;gBACZ;YACF;YACA,MAAM,MAAM,MAAM,MAAM,GAAG,qHAAA,CAAA,eAAY,GAAG,sHAAA,CAAA,UAAO,CAAC,QAAQ,CAAC,MAAM,EAAE,EAAE;gBACnE,QAAQ;gBACR,SAAS;oBACP,gBAAgB;oBAChB,eAAe,CAAC,OAAO,EAAE,CAAA,GAAA,qHAAA,CAAA,aAAU,AAAD,IAAI,KAAK,EAAE;gBAC/C;gBACA,MAAM,KAAK,SAAS,CAAC;YACvB;YACA,MAAM,SAAS,MAAM,IAAI,IAAI;YAC7B,uJAAA,CAAA,UAAK,CAAC,OAAO,CAAC,QAAQ;QACxB,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC;QAChB;IACF;IACA,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR;IACF,GAAG,EAAE;IACL,qBACE;kBACE,cAAA,8OAAC;YAAI,WAAU;;8BAEb,8OAAC;oBAAG,WAAU;8BAAwC;;;;;;8BAGtD,8OAAC;;wBAAE;wBAAY,UAAU,UAAU;;;;;;;8BACnC,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BACC,MAAK;4BACL,aAAY;4BACZ,WAAU;4BACV,UAAU,CAAC,IAAM,kBAAkB,EAAE,MAAM,CAAC,KAAK;;;;;;sCAEnD,8OAAC;4BAAI,WAAU;;8CACb,8OAAC;oCACC,WAAU;oCACV,SAAS;8CACV;;;;;;8CAGD,8OAAC;oCACC,WAAU;oCACV,SAAS;8CACV;;;;;;;;;;;;;;;;;;;;;;;;;AAQb","debugId":null}},
    {"offset": {"line": 3240, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/deves/Desktop/deploye%20testing/aws_amplify_admin_dri/src/utlis/DashboardSkeleton.jsx"],"sourcesContent":["// components/DashboardSkeleton.jsx\r\nimport React from \"react\";\r\nimport \"./shimmer.css\"; // 👈 for shimmer animation\r\n\r\nexport default function DashboardSkeleton() {\r\n  return (\r\n    <div className=\"p-6 animate-pulse\">\r\n      {/* Current Images */}\r\n      <div className=\"shimmer h-40 w-full rounded-xl mb-6\"></div>\r\n\r\n      {/* Recent Cards + Payment Gateway */}\r\n      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n        <div className=\"shimmer h-32 rounded-xl\"></div>\r\n        <div className=\"shimmer h-32 rounded-xl\"></div>\r\n        <div className=\"shimmer h-32 rounded-xl\"></div>\r\n        <div className=\"shimmer h-32 rounded-xl\"></div>\r\n        <div className=\"shimmer h-32 rounded-xl\"></div>\r\n        <div className=\"shimmer h-32 rounded-xl\"></div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"AAAA,mCAAmC;;;;;AACnC;;;;AAGe,SAAS;IACtB,qBACE,8OAAC;QAAI,WAAU;;0BAEb,8OAAC;gBAAI,WAAU;;;;;;0BAGf,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAI,WAAU;;;;;;kCACf,8OAAC;wBAAI,WAAU;;;;;;kCACf,8OAAC;wBAAI,WAAU;;;;;;kCACf,8OAAC;wBAAI,WAAU;;;;;;kCACf,8OAAC;wBAAI,WAAU;;;;;;kCACf,8OAAC;wBAAI,WAAU;;;;;;;;;;;;;;;;;;AAIvB","debugId":null}},
    {"offset": {"line": 3322, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/deves/Desktop/deploye%20testing/aws_amplify_admin_dri/src/app/admin/dashboard/page.js"],"sourcesContent":["\"use client\";\n\nimport CurrentImages from \"@/app/components/CurrentImages\";\nimport Header from \"@/app/components/Header\";\nimport HowDRIWorks from \"@/app/components/HowDRIWorks\";\nimport PaidDialBox from \"@/app/components/paidDialbox\";\nimport PaymentGateway from \"@/app/components/PaymentGateway\";\nimport RecentFeatures from \"@/app/components/RecentFeatures\";\nimport ServiceAndSubscription from \"@/app/components/Service\";\nimport Whatsapp from \"@/app/components/Whatsaapp\";\nimport DashboardSkeleton from \"@/utlis/DashboardSkeleton\";\nimport { useEffect, useState } from \"react\";\n\nexport default function AdminPage() {\n  const [skeleton, setSkeleton] = useState(true);\n  useEffect(() => {\n    const time = setTimeout(() => {\n      setSkeleton(false);\n    }, 1000);\n    return () => clearTimeout(time);\n  }, []);\n  return (\n    <>\n      {skeleton ? (\n        <DashboardSkeleton />\n      ) : (\n        <div className=\"bg-[#f5f8fe] \">\n          <Header />\n\n          <div className=\"min-h-screen p-4 w-[80%] mx-auto\">\n            <CurrentImages />\n\n            <ServiceAndSubscription />\n            <div className=\"flex flex-col lg:flex-row justify-between gap-6\">\n              <RecentFeatures />\n              <PaymentGateway />\n            </div>\n\n            <div className=\" w-[100%] flex justify-between\">\n              <HowDRIWorks />\n              <div className=\"flex bg-red flex-col\">\n                <Whatsapp />\n                <PaidDialBox />\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n    </>\n  );\n}\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAXA;;;;;;;;;;;;AAae,SAAS;IACtB,MAAM,CAAC,UAAU,YAAY,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IACzC,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,MAAM,OAAO,WAAW;YACtB,YAAY;QACd,GAAG;QACH,OAAO,IAAM,aAAa;IAC5B,GAAG,EAAE;IACL,qBACE;kBACG,yBACC,8OAAC,kIAAA,CAAA,UAAiB;;;;iCAElB,8OAAC;YAAI,WAAU;;8BACb,8OAAC,kIAAA,CAAA,UAAM;;;;;8BAEP,8OAAC;oBAAI,WAAU;;sCACb,8OAAC,yIAAA,CAAA,UAAa;;;;;sCAEd,8OAAC,mIAAA,CAAA,UAAsB;;;;;sCACvB,8OAAC;4BAAI,WAAU;;8CACb,8OAAC,0IAAA,CAAA,UAAc;;;;;8CACf,8OAAC,0IAAA,CAAA,UAAc;;;;;;;;;;;sCAGjB,8OAAC;4BAAI,WAAU;;8CACb,8OAAC,uIAAA,CAAA,UAAW;;;;;8CACZ,8OAAC;oCAAI,WAAU;;sDACb,8OAAC,qIAAA,CAAA,UAAQ;;;;;sDACT,8OAAC,uIAAA,CAAA,UAAW;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAQ5B","debugId":null}}]
}