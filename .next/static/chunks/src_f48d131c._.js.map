{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/deves/Desktop/deploye%20testing/aws_amplify_admin_dri/src/url/ApiRoute.js"],"sourcesContent":["export const ApiRute = {\r\n  admin: {\r\n    login: \"/admin/login\",\r\n    getadmindetail: \"/admin/get-details\",\r\n    updatePRofule: \"/admin/profile-update\",\r\n    adminbanner: \"/admin/admindashboardbanner\",\r\n    loginbanner: \"/banner/logindashboardbanner\",\r\n    updateAdmin: \"/admin/update-details\",\r\n    getadminBanner: \"/admin/getadminBanner\",\r\n    requestOtp: \"/admin/request-otp\",\r\n    verifyOtp: \"/admin/verify-otp\",\r\n    changepassword: \"/admin/change-password\",\r\n    outstanding: \"/outstanding/add-outstanding\",\r\n    adddialboxContent: \"/admin/add-content\",\r\n    getdialbox: \"/admin/get-content-admin\",\r\n    backup: \"/admin/backup\",\r\n    requestAdminOtp: \"/admin/get-otp\",\r\n    forgetPassword: \"/admin/forget-password\",\r\n  },\r\n  currentImage: {\r\n    upload: \"/banner/upload\",\r\n    getbanner: \"/banner\",\r\n    delete: \"/banner/delete\",\r\n    recentCard: \"/banner/all\",\r\n    addrecentCart: \"/banner/bannertext\",\r\n    update: \"/banner/update\",\r\n    addWithTitle: \"/banner/bannertext\",\r\n    deleteWithTitle: \"/banner/del-banner-title\",\r\n  },\r\n  advocate: {\r\n    add: \"/advocate/add\",\r\n    getAll: \"/advocate/all\",\r\n    single: \"/advocate/single\",\r\n    call_now: \"/admin/call-now-feature\",\r\n    timing: \"/advocate/set-timing\",\r\n    delete: \"/advocate/delete-advocate\",\r\n    update: \"/advocate/update\",\r\n  },\r\n  terms: {\r\n    add: \"/tnc/add\",\r\n    get: \"/tnc/all\",\r\n    delete: \"/tnc/delete\",\r\n    update: \"/tnc/update\",\r\n  },\r\n  policy: {\r\n    add: \"/privacy/\",\r\n    get: \"/privacy/\",\r\n    delete: \"/privacy/\",\r\n  },\r\n  upi: {\r\n    get: \"/upi\",\r\n    add: \"/upi\",\r\n    update: \"/upi/update\",\r\n  },\r\n  kyc: {\r\n    get: \"/kyc/get-kyc\",\r\n    approve: \"/kyc/approve-kyc\",\r\n  },\r\n  driwork: {\r\n    getAll: \"/driworks/all\",\r\n    update: \"/driworks/update-dri-works\",\r\n    add: \"/driworks/add-dri-works\",\r\n    delete: \"/driworks/delete-dri-works\",\r\n  },\r\n  driUser: {\r\n    getAll: \"/driuser\",\r\n    search: \"/driuser/search\",\r\n    singe: \"/driuser/single\",\r\n    addUser: \"/driuser\",\r\n    delete: \"/driuser/delete-user\",\r\n    update: \"/driuser/update-user\",\r\n    permanentDelete: \"/driuser/permanent-delete\",\r\n  },\r\n  adminProfileImage: \"/admin/adminProfileBanner\",\r\n  emi: {\r\n    upload: \"/emi/create-emi\",\r\n    mannual: \"/emi/manual\",\r\n    markaspaid: \"/emi/mark-as-paid\",\r\n    bulkinsert: \"/emi/bulk-insert\",\r\n    outstanding: \"/emi/outstand\",\r\n    getPaidService: \"/emi/get-paid-service\",\r\n    updateDueDate: \"/emi/update-date\",\r\n    addLoan: \"/emi/add-single-loan\",\r\n  },\r\n  userLoan: {\r\n    addloan: \"/loan/create\",\r\n  },\r\n  invoice: {\r\n    add: \"/invoice\",\r\n  },\r\n  whatsapp: {\r\n    add: \"/whatsapp/\",\r\n    update: \"/whatsapp/\",\r\n    get: \"/whatsapp/\",\r\n  },\r\n  loan: {\r\n    addLoan: \"/loan/create\",\r\n  },\r\n  bank: {\r\n    getbanks: \"/admin/get-banks\",\r\n    addbanks: \"/admin/add-banks\",\r\n  },\r\n  notifications: {\r\n    all: \"/notification/\",\r\n    custome: {\r\n      all: \"/notification/custom-notification\",\r\n      get: \"/notification/get-custom-notification\",\r\n    },\r\n  },\r\n  service: {\r\n    addService: \"/service/\",\r\n  },\r\n  subscription: {\r\n    add: \"/subcription/add-subscription\",\r\n    getuser: \"/subcription/subscription-users\",\r\n    singerSubscription: \"/subcription/get-substouser\",\r\n    markaspaid: \"/subcription/markAsPaid\",\r\n    paidSubs: \"/subcription/getPaidSubscriptions\",\r\n    updateDueDate: \"/subcription/update-date\",\r\n  },\r\n  user: {\r\n    single: \"/user/get-user-saving\",\r\n  },\r\n};\r\n\r\n// \"use client\";\r\n// import { ApiRute } from \"@/url/ApiRoute\";\r\n// import { API_BASE_URL } from \"@/url/BaseURL\";\r\n// import { getStroage } from \"@/url/storage\";\r\n// import { useParams } from \"next/navigation\";\r\n// import React, { use, useEffect, useState } from \"react\";\r\n// import toast from \"react-hot-toast\";\r\n// import Header from \"../Header\";\r\n\r\n// // ✅ Safe date formatter\r\n// const formatDate = (dateStr) => {\r\n//   const d = new Date(dateStr);\r\n//   const day = d.getDate().toString().padStart(2, \"0\");\r\n//   const month = (d.getMonth() + 1).toString().padStart(2, \"0\");\r\n//   const year = d.getFullYear();\r\n//   return `${day}/${month}/${year}`;\r\n// };\r\n\r\n// export default function UserDashboard() {\r\n//   const { details } = useParams();\r\n//   const [usesrId, setUserId] = useState(\"\");\r\n//   const [phone, setPhone] = useState(0);\r\n//   // ✅ Independent tab states\r\n//   const [subscriptionTab, setSubscriptionTab] = useState(\"current\");\r\n//   const [serviceTab, setServiceTab] = useState(\"current\");\r\n\r\n//   // ✅ Separate states for subscriptions\r\n//   const [currentSubscriptions, setCurrentSubscriptions] = useState([]);\r\n//   const [paidSubscriptions, setPaidSubscriptions] = useState([]);\r\n\r\n//   // ✅ Separate states for services\r\n//   const [currentServices, setCurrentServices] = useState([]);\r\n//   const [paidServices, setPaidServices] = useState([]);\r\n\r\n//   const fetchUserId = async () => {\r\n//     try {\r\n//       const response = await fetch(`${API_BASE_URL}${ApiRute.user.single}`, {\r\n//         method: \"POST\",\r\n//         headers: {\r\n//           \"content-type\": \"application/json\",\r\n//           authorization: `Bearer ${getStroage().token}`,\r\n//         },\r\n//         body: JSON.stringify({ user_id: details }),\r\n//       });\r\n//       const result = await response.json();\r\n//       if (result?.success) {\r\n//         setPhone(result?.userData?.phone);\r\n//         setUserId(result?.userData);\r\n//         fetchCurrentServices(result?.userData?.phone);\r\n//         fetchPaidServices(result?.userData?.phone);\r\n//       }\r\n//     } catch (error) {\r\n//       console.error(error);\r\n//     }\r\n//   };\r\n//   const getStatusClass = (status) => {\r\n//     if (status === \"paid\") return \"bg-green-100 text-green-600\";\r\n//     if (status === \"pending\") return \"bg-yellow-100 text-yellow-600\";\r\n//     return \"bg-gray-200 text-gray-500\";\r\n//   };\r\n\r\n//   // ✅ Fetch unpaid/current subscriptions\r\n//   const fetchCurrentSubscriptions = async () => {\r\n//     try {\r\n//       const response = await fetch(\r\n//         `${API_BASE_URL}${ApiRute.subscription.singerSubscription}/${details}`,\r\n//         { method: \"GET\", headers: { \"content-type\": \"application/json\" } }\r\n//       );\r\n//       const result = await response.json();\r\n//       if (result.data && result.data.length > 0) {\r\n//         const unpaidSubs = result.data\r\n//           .filter((sub) => !sub.isPaid)\r\n//           .map((sub) => ({\r\n//             ...sub,\r\n//             paidForMonth: new Date(sub.dueDate).toLocaleString(\"default\", {\r\n//               month: \"long\",\r\n//               year: \"numeric\",\r\n//             }),\r\n//             status: \"pending\",\r\n//           }));\r\n//         setCurrentSubscriptions(unpaidSubs);\r\n//       } else {\r\n//         setCurrentSubscriptions([]);\r\n//       }\r\n//     } catch (err) {\r\n//       console.error(err);\r\n//       console.error(\"Error fetching current subscriptions.\");\r\n//     }\r\n//   };\r\n\r\n//   // ✅ Fetch paid subscriptions\r\n//   const fetchPaidSubscriptions = async () => {\r\n//     try {\r\n//       const response = await fetch(\r\n//         `${API_BASE_URL}${ApiRute.subscription.paidSubs}?userId=${details}`,\r\n//         {\r\n//           method: \"GET\",\r\n//           headers: {\r\n//             \"content-type\": \"application/json\",\r\n//             authorization: `Bearer ${getStroage().token}`,\r\n//           },\r\n//         }\r\n//       );\r\n//       const result = await response.json();\r\n\r\n//       if (result.data && result.data.length > 0) {\r\n//         setPaidSubscriptions(\r\n//           result.data.map((sub) => ({\r\n//             ...sub,\r\n//             status: sub.status || \"paid\",\r\n//           }))\r\n//         );\r\n//       } else {\r\n//         setPaidSubscriptions([]);\r\n//       }\r\n//     } catch (err) {\r\n//       console.error(err);\r\n//       console.error(\"Error fetching paid subscriptions.\");\r\n//     }\r\n//   };\r\n\r\n//   // ✅ Fetch unpaid/current services\r\n//   const fetchCurrentServices = async (phone) => {\r\n//     try {\r\n//       const response = await fetch(\r\n//         `${API_BASE_URL}${ApiRute?.driUser?.singe}`,\r\n//         {\r\n//           method: \"POST\",\r\n//           headers: { \"content-type\": \"application/json\" },\r\n//           body: JSON.stringify({ phone }),\r\n//         }\r\n//       );\r\n\r\n//       const result = await response.json();\r\n//       if (result?.success) {\r\n//         const [day, month, year] = result?.data?.dueDate.split(\"-\").map(Number);\r\n//         const dateObj = new Date(year, month - 1, day);\r\n\r\n//         const payload = [\r\n//           {\r\n//             emiPay: result?.data?.emiPay,\r\n//             userId: result?.data?.id,\r\n//             dueDate: dateObj, // ✅ assign Date object\r\n//             paidForMonth: dateObj.toLocaleString(\"default\", {\r\n//               month: \"long\",\r\n//               year: \"numeric\",\r\n//             }),\r\n//             totalEMI: result?.data?.totalEmi,\r\n//             emiAmount: result?.data?.monthlyEmi,\r\n//             status: result?.data?.status || \"pending\", // fallback\r\n//             serviceType: !result?.data?.serviceFees\r\n//               ? \"service Advance\"\r\n//               : \"service\",\r\n//           },\r\n//         ];\r\n\r\n//         setCurrentServices(payload);\r\n//       } else {\r\n//         setCurrentServices([]);\r\n//       }\r\n//     } catch (err) {\r\n//       console.error(\"Error fetching current services:\", err);\r\n//     }\r\n//   };\r\n\r\n//   // ✅ Fetch paid services\r\n//   const fetchPaidServices = async () => {\r\n//     try {\r\n//       const response = await fetch(\r\n//         `${API_BASE_URL}${ApiRute?.emi.getPaidService}?user_id=${details}`,\r\n//         {\r\n//           method: \"GET\",\r\n//           headers: {\r\n//             \"content-type\": \"application/json\",\r\n//             authorization: `Bearer ${getStroage().token}`,\r\n//           },\r\n//         }\r\n//       );\r\n//       const result = await response.json();\r\n//       console.log(\"paid\", result);\r\n//       if (result.data && result.data.length > 0) {\r\n//         setPaidServices(result.data.map((svc) => ({ ...svc, status: \"paid\" })));\r\n//       } else {\r\n//         setPaidServices([]);\r\n//       }\r\n//     } catch (err) {\r\n//       console.error(err);\r\n//       console.error(\"Error fetching paid services.\");\r\n//     }\r\n//   };\r\n\r\n//   // ✅ Mark subscription as paid\r\n//   const subscriptionMarkAsPaid = async (subscription) => {\r\n//     try {\r\n//       const res = await fetch(\r\n//         `${API_BASE_URL}${ApiRute.subscription.markaspaid}`,\r\n//         {\r\n//           method: \"POST\",\r\n//           headers: {\r\n//             \"Content-Type\": \"application/json\",\r\n//             authorization: `Bearer ${getStroage().token}`,\r\n//           },\r\n//           body: JSON.stringify({\r\n//             subscriptionId: subscription?._id,\r\n//             paymentMode: \"UPI\",\r\n//           }),\r\n//         }\r\n//       );\r\n//       const data = await res.json();\r\n//       if (data.success) {\r\n//         toast.success(\"Subscription marked as paid!\");\r\n//         fetchCurrentSubscriptions();\r\n//         fetchPaidSubscriptions();\r\n//       } else {\r\n//         toast.error(data.message || \"Failed to mark as paid.\");\r\n//       }\r\n//     } catch (err) {\r\n//       console.error(err);\r\n//       toast.error(\"Error marking subscription as paid.\");\r\n//     }\r\n//   };\r\n\r\n//   // ✅ Mark service as paid\r\n//   const checkServicePayment = (svcIndex) => {\r\n//     const paidService = { ...currentServices[svcIndex], status: \"paid\" };\r\n//     setPaidServices((prev) => [...prev, paidService]);\r\n//     setCurrentServices((prev) => prev.filter((_, idx) => idx !== svcIndex));\r\n//     toast.success(`Service for ${paidService.paidForMonth} marked as PAID.`);\r\n//   };\r\n\r\n//   // ✅ Decide which subscriptions/services to show based on tab\r\n//   const subscriptionsToShow =\r\n//     subscriptionTab === \"paid\" ? paidSubscriptions : currentSubscriptions;\r\n//   const servicesToShow = serviceTab === \"paid\" ? paidServices : currentServices;\r\n\r\n//   const markAsPaid = async () => {\r\n//     try {\r\n//       alert(\"hello\");\r\n//       const res = await fetch(`${API_BASE_URL}${ApiRute.emi.markaspaid}`, {\r\n//         method: \"PUT\",\r\n//         headers: {\r\n//           \"content-type\": \"application/json\",\r\n//           authorization: `Bearer ${getStroage().token}`,\r\n//         },\r\n//         body: JSON.stringify({\r\n//           phone: phone,\r\n//           user_id: details,\r\n//         }),\r\n//       });\r\n//       const result = await res.json();\r\n//       fetchCurrentSubscriptions();\r\n//       fetchPaidSubscriptions();\r\n//       fetchUserId();\r\n//       result?.success\r\n//         ? toast.success(result?.message)\r\n//         : toast.error(result?.message);\r\n//     } catch (err) {\r\n//       console.error(err);\r\n//     }\r\n//   };\r\n\r\n//   // ✅ Initial fetch\r\n//   useEffect(() => {\r\n//     fetchCurrentSubscriptions();\r\n//     fetchPaidSubscriptions();\r\n//     fetchUserId();\r\n//   }, [details]);\r\n\r\n//   return (\r\n//     <>\r\n//       <Header />\r\n//       <div className=\"min-h-screen flex justify-center items-start bg-gray-100 p-6\">\r\n//         <div className=\"max-w-6xl w-full flex flex-col space-y-8 justify-center rounded-xl bg-white p-5\">\r\n//           <div className=\"flex flex-col md:flex-row gap-6\">\r\n//             {/* Left: Subscriptions */}\r\n//             <div className=\"flex-1 flex flex-col\">\r\n//               <h3 className=\"text-xl font-semibold text-gray-800 mb-3\">\r\n//                 Monthly Subscriptions\r\n//               </h3>\r\n//               <ul className=\"flex border-b mb-3\">\r\n//                 <li\r\n//                   className={`cursor-pointer px-4 py-2 ${\r\n//                     subscriptionTab === \"current\"\r\n//                       ? \"border-b-2 border-blue-600 font-semibold text-blue-600\"\r\n//                       : \"text-gray-500 hover:text-blue-600\"\r\n//                   }`}\r\n//                   onClick={() => setSubscriptionTab(\"current\")}\r\n//                 >\r\n//                   Current\r\n//                 </li>\r\n//                 <li\r\n//                   className={`cursor-pointer px-4 py-2 relative ${\r\n//                     subscriptionTab === \"paid\"\r\n//                       ? \"border-b-2 border-blue-600 font-semibold text-blue-600\"\r\n//                       : \"text-gray-500 hover:text-blue-600\"\r\n//                   }`}\r\n//                   onClick={() => setSubscriptionTab(\"paid\")}\r\n//                 >\r\n//                   Paid{\" \"}\r\n//                   {/* <span className=\"absolute top-0.5 right-0.3 bg-red-400 w-[15px] h-[15px] text-center align-middle rounded-xl text-[13px] text-white\">\r\n//                     {paidSubscriptions.length}\r\n//                   </span> */}\r\n//                 </li>\r\n//               </ul>\r\n\r\n//               {subscriptionTab === \"current\" ? (\r\n//                 <div className=\"max-h-[250px] overflow-y-auto space-y-3 border border-gray-200 rounded-xl p-4 bg-gray-50\">\r\n//                   {subscriptionsToShow.length === 0 ? (\r\n//                     <p className=\"text-gray-500 text-sm\">\r\n//                       No subscriptions found.\r\n//                     </p>\r\n//                   ) : (\r\n//                     currentSubscriptions.map((sub, index) => (\r\n//                       <div\r\n//                         key={index}\r\n//                         className=\"p-4 border rounded-xl bg-white hover:bg-gray-100 transition flex flex-col relative\"\r\n//                       >\r\n//                         <span\r\n//                           className={`absolute top-4 right-4 text-sm font-medium px-3 py-1 rounded-full ${getStatusClass(\r\n//                             sub?.status\r\n//                           )}`}\r\n//                         >\r\n//                           {sub?.status.charAt(0).toUpperCase() +\r\n//                             sub?.status?.slice(1).toLowerCase()}\r\n//                         </span>\r\n\r\n//                         <div>\r\n//                           <p className=\"font-semibold text-gray-800\">\r\n//                             {sub.paidForMonth}\r\n//                           </p>\r\n//                           <p className=\"text-sm text-red-500 \">\r\n//                             Due Date:{\" \"}\r\n//                             {formatDate(sub?.paidForDueDate || sub?.dueDate)}\r\n//                           </p>\r\n//                         </div>\r\n\r\n//                         <div className=\"mt-2 grid grid-cols-2 md:grid-cols-3 gap-2 text-sm text-gray-700\">\r\n//                           <p>Amount: ₹{sub?.subscription || sub?.amount}</p>\r\n//                           <p>GST: {sub?.gst}%</p>\r\n//                           <p>Total: ₹{sub?.totalAmount || sub?.amount}</p>\r\n//                         </div>\r\n\r\n//                         {sub?.status === \"pending\" && (\r\n//                           <div className=\"mt-4 flex justify-start\">\r\n//                             <button\r\n//                               onClick={() => subscriptionMarkAsPaid(sub)}\r\n//                               className=\"px-3 py-1 bg-blue-600 text-white rounded hover:bg-green-700 transition text-sm\"\r\n//                             >\r\n//                               Mark as Paid\r\n//                             </button>\r\n//                           </div>\r\n//                         )}\r\n//                       </div>\r\n//                     ))\r\n//                   )}\r\n//                 </div>\r\n//               ) : (\r\n//                 <div className=\"max-h-[250px] overflow-y-auto space-y-3 border border-gray-200 rounded-xl p-4 bg-gray-50\">\r\n//                   {subscriptionsToShow.length === 0 ? (\r\n//                     <p className=\"text-gray-500 text-sm\">\r\n//                       No paid subscriptions found.\r\n//                     </p>\r\n//                   ) : (\r\n//                     paidSubscriptions.map((sub, index) => (\r\n//                       <div\r\n//                         key={index}\r\n//                         className=\"p-4 border rounded-xl bg-white hover:bg-gray-100 transition flex flex-col relative\"\r\n//                       >\r\n//                         <span\r\n//                           className={`absolute top-4 right-4 text-sm font-medium px-3 py-1 rounded-full ${getStatusClass(\r\n//                             sub?.status\r\n//                           )}`}\r\n//                         >\r\n//                           {sub?.status.charAt(0).toUpperCase() +\r\n//                             sub?.status?.slice(1).toLowerCase()}\r\n//                         </span>\r\n\r\n//                         <div>\r\n//                           <p className=\"font-semibold text-gray-800\">\r\n//                             {sub.paidForMonth}\r\n//                           </p>\r\n//                           <p className=\"text-sm text-green-500\">\r\n//                             Date:{\" \"}\r\n//                             {formatDate(sub?.paidForDueDate || sub?.dueDate)}\r\n//                           </p>\r\n//                         </div>\r\n\r\n//                         <div className=\"mt-2 grid grid-cols-2 md:grid-cols-3 gap-2 text-sm text-gray-700\">\r\n//                           <p>Amount: ₹{sub?.subscriptionId?.subscription}</p>\r\n//                           <p>GST: {sub?.gst}%</p>\r\n//                           <p>Total: ₹{sub?.subscriptionId?.amount}</p>\r\n//                         </div>\r\n\r\n//                         {sub?.status === \"pending\" && (\r\n//                           <div className=\"mt-4 flex justify-start\">\r\n//                             <button\r\n//                               onClick={() => subscriptionMarkAsPaid(sub)}\r\n//                               className=\"px-3 py-1 bg-blue-600 text-white rounded hover:bg-green-700 transition text-sm\"\r\n//                             >\r\n//                               Mark as Paid\r\n//                             </button>\r\n//                           </div>\r\n//                         )}\r\n//                       </div>\r\n//                     ))\r\n//                   )}\r\n//                 </div>\r\n//               )}\r\n//             </div>\r\n\r\n//             {/* Right: Services */}\r\n//             {/* Right: Services */}\r\n//             <div className=\"flex-1 flex flex-col\">\r\n//               <h3 className=\"text-xl font-semibold mb-3 text-gray-800 capitalize\">\r\n//                 {currentServices[0]?.serviceType}\r\n//               </h3>\r\n//               <ul className=\"flex border-b mb-3\">\r\n//                 <li\r\n//                   className={`cursor-pointer px-4 py-2 ${\r\n//                     serviceTab === \"current\"\r\n//                       ? \"border-b-2 border-blue-600 font-semibold text-blue-600\"\r\n//                       : \"text-gray-500 hover:text-blue-600\"\r\n//                   }`}\r\n//                   onClick={() => setServiceTab(\"current\")}\r\n//                 >\r\n//                   Current\r\n//                 </li>\r\n//                 <li\r\n//                   className={`cursor-pointer px-4 py-2 ${\r\n//                     serviceTab === \"paid\"\r\n//                       ? \"border-b-2 border-blue-600 font-semibold text-blue-600\"\r\n//                       : \"text-gray-500 hover:text-blue-600\"\r\n//                   }`}\r\n//                   onClick={() => setServiceTab(\"paid\")}\r\n//                 >\r\n//                   Paid\r\n//                 </li>\r\n//               </ul>\r\n\r\n//               <div className=\"max-h-[250px] overflow-y-auto space-y-3 border border-gray-200 rounded-xl p-4 bg-gray-50\">\r\n//                 {servicesToShow.length === 0 ? (\r\n//                   <p className=\"text-gray-500 text-sm\">No Paid Services</p>\r\n//                 ) : (\r\n//                   servicesToShow.map((service, index) => (\r\n//                     <div\r\n//                       key={index}\r\n//                       className=\"p-4 border rounded-xl bg-white hover:bg-gray-100 transition relative\"\r\n//                     >\r\n//                       <span\r\n//                         className={`absolute top-4 right-4 text-sm font-medium px-3 py-1 rounded-full ${getStatusClass(\r\n//                           service?.status\r\n//                         )}`}\r\n//                       >\r\n//                         {(service?.status || \"pending\")\r\n//                           .toString()\r\n//                           .charAt(0)\r\n//                           .toUpperCase() +\r\n//                           (service?.status || \"pending\")\r\n//                             .toString()\r\n//                             .slice(1)\r\n//                             .toLowerCase()}\r\n//                       </span>\r\n\r\n//                       <div>\r\n//                         <p className=\"font-semibold text-gray-800\">\r\n//                           {service?.paidForMonth}\r\n//                         </p>\r\n//                         <p className=\"text-sm text-red-500 \">\r\n//                           {\" \"}\r\n//                           Due Date: {formatDate(service?.dueDate)}\r\n//                         </p>\r\n//                       </div>\r\n\r\n//                       <div className=\"mt-2  flex text-sm text-gray-700  justify-between items-start\">\r\n//                         <p>Total EMI: {service?.totalEMI || \"N/A\"}</p>\r\n//                         <p>EMI: {service?.emiPay || \"N/A\"}</p>\r\n//                         <p>EMI Amount: ₹ {service?.emiAmount || \"N/A\"}</p>\r\n//                       </div>\r\n//                       {/* <button\r\n//                         onClick={() => checkServicePayment(index)}\r\n//                         className=\"absolute bottom-4 right-4 px-3 py-1 bg-green-600 text-white rounded hover:bg-green-700 transition text-sm\"\r\n//                       >\r\n//                         Mark as Paid\r\n//                       </button> */}\r\n//                       <div className=\"mt-4 flex justify-start\">\r\n//                         <button\r\n//                           onClick={markAsPaid}\r\n//                           className=\"px-3 py-1 bg-blue-600 text-white rounded hover:bg-green-700 transition text-sm\"\r\n//                         >\r\n//                           Mark as Paid\r\n//                         </button>\r\n//                       </div>\r\n//                     </div>\r\n//                   ))\r\n//                 )}\r\n//               </div>\r\n//             </div>\r\n//           </div>\r\n//         </div>\r\n//       </div>\r\n//     </>\r\n//   );\r\n// }\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 615, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/deves/Desktop/deploye%20testing/aws_amplify_admin_dri/src/url/BaseURL.js"],"sourcesContent":["// export const API_BASE_URL = \"https://dri-vercel.vercel.app/api/v1\";\r\nexport const API_BASE_URL =\r\n  process.env.NODE_ENV === \"production\"\r\n    ? \"https://api.debtreliefindia.com/api/v1\"\r\n    : \"https://4frnn03l-5000.inc1.devtunnels.ms/api/v1\";\r\n"],"names":[],"mappings":"AAAA,sEAAsE;;;;AAEpE;AADK,MAAM,eACX,sCACI,0BACA","debugId":null}},
    {"offset": {"line": 630, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/deves/Desktop/deploye%20testing/aws_amplify_admin_dri/src/url/storage.js"],"sourcesContent":["const key = \"token\";\r\nconst forget = \"forget\";\r\nexport const setStorage = (data) => {\r\n  localStorage.setItem(key, JSON.stringify(data));\r\n};\r\n\r\nexport const getStroage = () => {\r\n  if (localStorage.getItem(key)) {\r\n    return JSON.parse(localStorage.getItem(key));\r\n  } else {\r\n    return false;\r\n  }\r\n};\r\nexport const setFogetStorage = (data) => {\r\n  localStorage.setItem(forget, JSON.stringify(data));\r\n};\r\n\r\nexport const getForgetStorage = () => {\r\n  if (localStorage.getItem(forget)) {\r\n    return JSON.parse(localStorage.getItem(forget));\r\n  } else {\r\n    return false;\r\n  }\r\n};\r\n\r\nexport const clearStorage = () => {\r\n  if (localStorage.getItem(key)) {\r\n    localStorage.removeItem(key);\r\n  } else localStorage.removeItem(key);\r\n};\r\n"],"names":[],"mappings":";;;;;;;AAAA,MAAM,MAAM;AACZ,MAAM,SAAS;AACR,MAAM,aAAa,CAAC;IACzB,aAAa,OAAO,CAAC,KAAK,KAAK,SAAS,CAAC;AAC3C;AAEO,MAAM,aAAa;IACxB,IAAI,aAAa,OAAO,CAAC,MAAM;QAC7B,OAAO,KAAK,KAAK,CAAC,aAAa,OAAO,CAAC;IACzC,OAAO;QACL,OAAO;IACT;AACF;AACO,MAAM,kBAAkB,CAAC;IAC9B,aAAa,OAAO,CAAC,QAAQ,KAAK,SAAS,CAAC;AAC9C;AAEO,MAAM,mBAAmB;IAC9B,IAAI,aAAa,OAAO,CAAC,SAAS;QAChC,OAAO,KAAK,KAAK,CAAC,aAAa,OAAO,CAAC;IACzC,OAAO;QACL,OAAO;IACT;AACF;AAEO,MAAM,eAAe;IAC1B,IAAI,aAAa,OAAO,CAAC,MAAM;QAC7B,aAAa,UAAU,CAAC;IAC1B,OAAO,aAAa,UAAU,CAAC;AACjC","debugId":null}},
    {"offset": {"line": 673, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/deves/Desktop/deploye%20testing/aws_amplify_admin_dri/src/app/components/Header.js"],"sourcesContent":["// \"use client\";\n// import { ApiRute } from \"@/url/ApiRoute\";\n// import { API_BASE_URL } from \"@/url/BaseURL\";\n// import Image from \"next/image\";\n// import Link from \"next/link\";\n// import { usePathname, useRouter } from \"next/navigation\";\n// import { useEffect, useState } from \"react\";\n// import { FaPowerOff } from \"react-icons/fa\";\n// import { FiSettings } from \"react-icons/fi\";\n// import { PiBellDuotone } from \"react-icons/pi\";\n\n// export default function Header() {\n//   const pathname = usePathname();\n//   const [adminImage, setProfile] = useState(\"\");\n//   const router = useRouter();\n//   const navItems = [\n//     { name: \"Dashboard\", path: \"/admin/dashboard\" },\n//     { name: \"User Control\", path: \"/userController\" },\n//     { name: \"Services\", path: \"/advocateService\" },\n//     {\n//       name: \"Settings\",\n//       path: \"/Setting\",\n//       icon: <FiSettings className=\"text-xl\" />,\n//     },\n//   ];\n\n//   const handleAction = () => {\n//     localStorage.removeItem(\"token\");\n//     router.push(\"/\");\n//   };\n//   const [profileImage, setProfileImage] = useState({});\n//   // const profileDataFetch = async () => {\n//   //   const res = await fetch(`${API_BASE_URL}${ApiRute.adminProfileImage}`, {\n//   //     method: \"GET\",\n//   //     headers: {\n//   //       \"Content-Type\": \"application/json\",\n//   //     },\n//   //   });\n//   //   const contentType = res.headers.get(\"content-type\");\n//   //   let resData;\n//   //   if (contentType && contentType.includes(\"application/json\")) {\n//   //     resData = await res.json();\n//   //   } else {\n//   //     const text = await res.text();\n//   //     throw new Error(`Unexpected response: ${text}`);\n//   //   }\n//   //   if (res.ok && resData?.success) {\n//   //     setProfileImage(resData.data);\n//   //   } else {\n//   //   }\n//   // };\n//   useEffect(() => {\n//     // profileDataFetch();\n//     setProfile(window.location.origin);\n//   }, []);\n//   return (\n//     <header className=\"w-full flex items-center justify-between px-6 shadow bg-white\">\n//       {/* Logo Section */}\n//       <div className=\"flex items-center ms-20\">\n//         <Image src=\"/deptlogo.png\" alt=\"Logo\" height={200} width={250} />\n//       </div>\n\n//       {/* Navigation Tabs */}\n//       <div className=\"flex items-center space-x-4\">\n//         {navItems.map((item, idx) => {\n//           const isActive = pathname === item.path;\n\n//           return (\n//             <button\n//               key={idx}\n//               onClick={() => router.push(item.path)}\n//               className={`px-6 py-2 rounded-full border-2 border-[#ccc] flex flex-col items-center ${\n//                 isActive\n//                   ? \"bg-gradient-to-r from-blue-900 to-blue-600 text-white shadow-md\"\n//                   : \"bg-blue-100 text-black\"\n//               }`}\n//             >\n//               <div className=\"flex items-center space-x-2\">\n//                 {item?.icon && item?.icon}\n//                 <span>{item.name}</span>\n//               </div>\n//               {isActive && (\n//                 <div className=\"h-1 w-full bg-gradient-to-r from-purple-400 to-cyan-300 mt-1 rounded-full\"></div>\n//               )}\n//             </button>\n//           );\n//         })}\n//       </div>\n//       {/* Right Section */}\n//       <div className=\"flex items-center space-x-4\">\n//         <div className=\"relative\">\n//           <PiBellDuotone className=\"text-yellow-500 text-2xl bg-blue-100 rounded-full p-1\" />\n//           <span className=\"absolute top-0 right-0 h-3 w-3 bg-red-500 rounded-full\"></span>\n//         </div>\n//         <button\n//           onClick={handleAction}\n//           className=\"flex items-center justify-center h-10 w-10 bg-blue-100 rounded-full\"\n//         >\n//           <FaPowerOff className=\"text-red-600 text-xl bg-blue-100 rounded-full p-2 h-10 w-10 cursor-pointer\" />\n//         </button>\n//         <Link href=\"/profilePage\" className=\"relative block h-10 w-10\">\n//           <Image\n//             src=\"/favicon.ico\"\n//             alt=\"User\"\n//             className=\"rounded-full border-2 border-purple-500 object-cover\"\n//             fill\n//             sizes=\"(max-width: 768px) 100vw,\n//            (max-width: 1200px) 50vw,\n//            33vw\"\n//           />\n//         </Link>\n//       </div>\n//     </header>\n//   );\n// }\n\n\"use client\";\nimport { ApiRute } from \"@/url/ApiRoute\";\nimport { API_BASE_URL } from \"@/url/BaseURL\";\nimport Image from \"next/image\";\nimport Link from \"next/link\";\nimport { usePathname, useRouter } from \"next/navigation\";\nimport { useEffect, useState } from \"react\";\nimport { FaPowerOff } from \"react-icons/fa\";\nimport { FiSettings } from \"react-icons/fi\";\nimport { PiBellDuotone } from \"react-icons/pi\";\nimport { clearStorage, getStroage } from \"@/url/storage\";\nimport toast from \"react-hot-toast\";\n\nexport default function Header({ data }) {\n  const pathname = usePathname();\n  const router = useRouter();\n  const [profileImage, setProfileImage] = useState(\"\");\n  const [banner, setBanner] = useState(null);\n\n  const navItems = [\n    { name: \"Dashboard\", path: \"/admin/dashboard\" },\n    { name: \"User Control\", path: \"/userController\" },\n    { name: \"Services\", path: \"/advocateService\" },\n    {\n      name: \"Settings\",\n      path: \"/Setting\",\n      icon: <FiSettings className=\"text-xl\" />,\n    },\n  ];\n\n  // ✅ Logout\n  const handleAction = () => {\n    localStorage.removeItem(\"token\");\n    router.push(\"/\");\n  };\n\n  // ✅ Fetch admin details\n  async function getAdminDetails() {\n    try {\n      const response = await fetch(\n        `${API_BASE_URL}${ApiRute.admin.getadmindetail}`,\n        {\n          method: \"GET\",\n          headers: {\n            \"content-type\": \"application/json\",\n            authorization: `Bearer ${getStroage().token}`,\n          },\n        }\n      );\n\n      const bannerRes = await fetch(\n        `${API_BASE_URL}${ApiRute.admin.getadminBanner}`\n      );\n      const bannerData = await bannerRes.json();\n      if (bannerData.success) setBanner(bannerData.data);\n\n      const result = await response.json();\n      if (result?.success) {\n        setProfileImage(result?.data?.image || \"\");\n      } else {\n        console.log(\"err\", result);\n        if (result?.message == \"Token expired\") {\n          toast.error(\n            \"Your session has expired. Please log in again to continue.\"\n          );\n          clearStorage();\n        }\n        console.error(\"Admin detail fetch error:\", result);\n      }\n    } catch (err) {\n      console.error(\"getAdminDetails error:\", err);\n    }\n  }\n\n  useEffect(() => {\n    setProfileImage(data);\n    getAdminDetails();\n  }, [data]);\n\n  // ✅ Determine safe image source\n  const getSafeImage = (img, fallback) => {\n    if (typeof img === \"string\" && img.trim() !== \"\") return img;\n    if (img && typeof img === \"object\" && img.url) return img.url;\n    return fallback;\n  };\n\n  const mainProfileSrc = getSafeImage(profileImage, \"/login.png\");\n  const smallProfileSrc = getSafeImage(profileImage, \"/favicon.ico\");\n\n  return (\n    <header className=\"w-full flex items-center justify-between px-6 py-3 shadow bg-white\">\n      {/* Left: Logo/Profile */}\n      <div className=\"flex items-center ms-20\">\n        <div className=\"flex items-center ms-20\">\n          <Image src=\"/deptlogo.png\" alt=\"Logo\" height={200} width={250} />{\" \"}\n        </div>\n      </div>\n\n      {/* Center: Navigation Tabs */}\n      <div className=\"flex items-center space-x-4\">\n        {navItems.map((item, idx) => {\n          const isActive = pathname === item.path;\n          return (\n            <button\n              key={idx}\n              onClick={() => router.push(item.path)}\n              className={`px-6 py-2 rounded-full border-2 border-[#ccc] flex flex-col items-center transition-all ${\n                isActive\n                  ? \"bg-gradient-to-r from-blue-900 to-blue-600 text-white shadow-md\"\n                  : \"bg-blue-100 text-black hover:bg-blue-200\"\n              }`}\n            >\n              <div className=\"flex items-center space-x-2\">\n                {item?.icon && item.icon}\n                <span>{item.name}</span>\n              </div>\n              {isActive && (\n                <div className=\"h-1 w-full bg-gradient-to-r from-purple-400 to-cyan-300 mt-1 rounded-full\"></div>\n              )}\n            </button>\n          );\n        })}\n      </div>\n\n      {/* Right: Notification, Logout, Profile */}\n      <div className=\"flex items-center space-x-4\">\n        {/* Notification Bell */}\n        {/* <div className=\"relative\">\n          <PiBellDuotone className=\"text-yellow-500 text-2xl bg-blue-100 rounded-full p-1\" />\n          <span className=\"absolute top-0 right-0 h-3 w-3 bg-red-500 rounded-full\"></span>\n        </div> */}\n\n        {/* Logout Button */}\n        <button\n          onClick={handleAction}\n          className=\"flex items-center justify-center h-10 w-10 bg-blue-100 rounded-full hover:bg-blue-200\"\n        >\n          <FaPowerOff className=\"text-red-600 text-xl\" />\n        </button>\n\n        {/* Profile Page Link */}\n        <Link href=\"/profilePage\" className=\"relative block h-10 w-10\">\n          <div className=\"relative h-10 w-10 rounded-full overflow-hidden border-2 border-purple-500\">\n            <Image\n              src={smallProfileSrc}\n              alt=\"User\"\n              fill\n              sizes=\"(max-width:768px) 100vw, 40px\"\n              className=\"object-cover\"\n            />\n          </div>\n        </Link>\n      </div>\n    </header>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1043, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/deves/Desktop/deploye%20testing/aws_amplify_admin_dri/src/utlis/string.js"],"sourcesContent":["export const toTitleCase = (str) =>\r\n  str\r\n    ? str\r\n        .trim()\r\n        .split(/\\s+/)\r\n        .map(\r\n          (word) => word.charAt(0).toUpperCase() + word.slice(1).toLowerCase()\r\n        )\r\n        .join(\" \")\r\n    : \"\";\r\n"],"names":[],"mappings":";;;AAAO,MAAM,cAAc,CAAC,MAC1B,MACI,IACG,IAAI,GACJ,KAAK,CAAC,OACN,GAAG,CACF,CAAC,OAAS,KAAK,MAAM,CAAC,GAAG,WAAW,KAAK,KAAK,KAAK,CAAC,GAAG,WAAW,IAEnE,IAAI,CAAC,OACR","debugId":null}},
    {"offset": {"line": 1056, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/deves/Desktop/deploye%20testing/aws_amplify_admin_dri/src/app/components/uploadManualEmiModal.js"],"sourcesContent":["\"use client\";\r\nimport { Dialog } from \"@headlessui/react\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { API_BASE_URL } from \"@/url/BaseURL\";\r\nimport { ApiRute } from \"@/url/ApiRoute\";\r\nimport toast from \"react-hot-toast\";\r\nimport Image from \"next/image\";\r\nimport { getStroage } from \"@/url/storage\";\r\n\r\nexport default function LoanEMIForm({ show, handleClose, phone, id }) {\r\n  const [loading, setLoading] = useState(false);\r\n  const [banks, setBanks] = useState([]);\r\n  const [selectedBank, setSelectedBank] = useState(\"\");\r\n\r\n  // ✅ keep all input fields in formData\r\n  const [formData, setFormData] = useState({\r\n    loanType: \"\",\r\n    amount: \"\",\r\n    settlmentPercentage: \"\",\r\n    total: \"\",\r\n    bank: \"\",\r\n    phone: phone,\r\n  });\r\n\r\n  // ✅ handle input change for all inputs\r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setFormData((prev) => ({ ...prev, [name]: value }));\r\n  };\r\n\r\n  // ✅ handle bank selection\r\n  const handleBankSelect = (val) => {\r\n    setSelectedBank(val._id);\r\n    setFormData((prev) => ({ ...prev, bank: val.bankName }));\r\n  };\r\n\r\n  // ✅ fetch banks\r\n  const getBanks = async () => {\r\n    try {\r\n      const res = await fetch(`${API_BASE_URL}${ApiRute.bank.getbanks}`, {\r\n        method: \"GET\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n      });\r\n      const result = await res.json();\r\n      if (result?.success) setBanks(result.data);\r\n    } catch (error) {\r\n      console.error(error);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    getBanks();\r\n  }, []);\r\n\r\n  // ✅ handle form submit (API call)\r\n  const handleAdd = async () => {\r\n    if (!formData.bank || !formData.loanType) {\r\n      toast.error(\"Please fill all required fields\");\r\n      return;\r\n    }\r\n\r\n    try {\r\n      setLoading(true);\r\n      const res = await fetch(`${API_BASE_URL}${ApiRute.emi.addLoan}`, {\r\n        method: \"POST\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n          authorization: `Bearer ${getStroage().token}`,\r\n        },\r\n        body: JSON.stringify(formData),\r\n      });\r\n\r\n      const result = await res.json();\r\n      if (result?.success) {\r\n        toast.success(result.message || \"Loan added successfully!\");\r\n        setFormData({\r\n          loanType: \"\",\r\n          amount: \"\",\r\n          settlmentPercentage: \"\",\r\n          total: \"\",\r\n          bank: \"\",\r\n          phone: phone,\r\n        });\r\n        handleClose();\r\n      } else {\r\n        toast.error(result.message || \"Something went wrong\");\r\n      }\r\n    } catch (error) {\r\n      console.error(error);\r\n      toast.error(\"Server error\");\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Dialog open={show} onClose={handleClose} className=\"relative z-50\">\r\n      <div className=\"fixed inset-0 bg-black/50\" aria-hidden=\"true\" />\r\n      <div className=\"fixed inset-0 flex items-center justify-center p-4\">\r\n        <Dialog.Panel className=\"bg-white rounded-xl max-w-2xl w-full p-6\">\r\n          <Dialog.Title className=\"text-xl font-bold mb-4\">\r\n            Loan EMI Form\r\n          </Dialog.Title>\r\n\r\n          <div className=\"grid grid-cols-2 gap-4\">\r\n            {/* Left side form */}\r\n            <div className=\"space-y-3\">\r\n              <div>\r\n                <label>Loan Type</label>\r\n                <select\r\n                  name=\"loanType\"\r\n                  value={formData.loanType}\r\n                  onChange={handleChange}\r\n                  className=\"w-full border p-2 rounded\"\r\n                >\r\n                  <option value=\"\">Select Type</option>\r\n                  <option value=\"Personal_Loan\">Personal Loan</option>\r\n                  <option value=\"Credit_Loan\">Credit Loan</option>\r\n                </select>\r\n              </div>\r\n\r\n              <div>\r\n                <label>Amount</label>\r\n                <input\r\n                  autoComplete=\"off\"\r\n                  type=\"text\"\r\n                  name=\"amount\"\r\n                  value={formData.amount}\r\n                  onChange={handleChange}\r\n                  className=\"w-full border p-2 rounded\"\r\n                />\r\n              </div>\r\n\r\n              <div>\r\n                <label>CC/PL Settlement Percentage</label>\r\n                <input\r\n                  autoComplete=\"off\"\r\n                  type=\"number\"\r\n                  name=\"settlmentPercentage\"\r\n                  value={formData.settlmentPercentage}\r\n                  onChange={handleChange}\r\n                  className=\"w-full border p-2 rounded\"\r\n                />\r\n              </div>\r\n\r\n              <div>\r\n                <label>CC/PL Total</label>\r\n                <input\r\n                  autoComplete=\"off\"\r\n                  type=\"text\"\r\n                  name=\"total\"\r\n                  value={formData.total}\r\n                  onChange={handleChange}\r\n                  className=\"w-full border p-2 rounded\"\r\n                />\r\n              </div>\r\n            </div>\r\n\r\n            {/* Right side: Bank list */}\r\n            <div>\r\n              <h1 className=\"font-semibold mb-2\">Select Bank</h1>\r\n              <div className=\"h-[400px] overflow-y-auto border p-2 rounded space-y-1\">\r\n                {banks.length > 0 ? (\r\n                  banks.map((val) => (\r\n                    <div\r\n                      key={val._id}\r\n                      onClick={() => handleBankSelect(val)}\r\n                      className={`flex items-center gap-2 p-2 rounded-lg cursor-pointer border transition-all duration-200 ${\r\n                        selectedBank === val._id\r\n                          ? \"bg-blue-600 text-white border-blue-600 shadow-md scale-[1.02]\"\r\n                          : \"bg-gray-100 hover:bg-gray-200 border-gray-300\"\r\n                      }`}\r\n                    >\r\n                      <Image\r\n                        src={val?.icon || \"/bank-placeholder.png\"}\r\n                        alt={val?.bankName}\r\n                        className=\"object-contain rounded bg-white p-1\"\r\n                        height={24}\r\n                        width={24}\r\n                      />\r\n                      <span className=\"font-medium\">{val?.bankName}</span>\r\n                    </div>\r\n                  ))\r\n                ) : (\r\n                  <p className=\"text-gray-500 text-sm\">No banks found</p>\r\n                )}\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Footer buttons */}\r\n          <div className=\"flex justify-end gap-2 mt-4\">\r\n            <button\r\n              onClick={handleClose}\r\n              className=\"px-4 py-2 bg-gray-300 rounded\"\r\n            >\r\n              Cancel\r\n            </button>\r\n            <button\r\n              onClick={handleAdd}\r\n              disabled={loading}\r\n              className=\"px-4 py-2 bg-blue-600 text-white rounded\"\r\n            >\r\n              {loading ? \"Uploading...\" : \"Upload\"}\r\n            </button>\r\n          </div>\r\n        </Dialog.Panel>\r\n      </div>\r\n    </Dialog>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1460, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/deves/Desktop/deploye%20testing/aws_amplify_admin_dri/src/app/components/CloseEMI.js"],"sourcesContent":["\"use client\";\r\nimport { Dialog } from \"@headlessui/react\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { API_BASE_URL } from \"@/url/BaseURL\";\r\nimport { ApiRute } from \"@/url/ApiRoute\";\r\nimport toast from \"react-hot-toast\";\r\nimport { getStroage } from \"@/url/storage\";\r\n\r\nexport default function CloseEMI({ show, handleClose, phone, id }) {\r\n  const [loading, setLoading] = useState(false);\r\n  const [personalLoans, setPersonalLoans] = useState([]);\r\n  const [creditCards, setCreditCards] = useState([]);\r\n  const [selectedLoan, setSelectedLoan] = useState(null);\r\n  const [refresh, setRefresh] = useState(false);\r\n  const [formData, setFormData] = useState({\r\n    loanId: \"\",\r\n    finaloutamount: \"\",\r\n    finalsettelement: \"\",\r\n    finalpercentage: \"\",\r\n    finalsaving: \"\",\r\n    phone: phone,\r\n    user_id: id,\r\n  });\r\n  const handleLoanSelect = (loan) => {\r\n    setSelectedLoan(loan.id);\r\n    setFormData((prev) => ({ ...prev, loanId: loan.id }));\r\n  };\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setFormData((prev) => ({ ...prev, [name]: value }));\r\n  };\r\n\r\n  const handleAdd = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const res = await fetch(`${API_BASE_URL}${ApiRute.emi.outstanding}`, {\r\n        method: \"POST\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n          authorization: `Bearer ${getStroage().token}`,\r\n        },\r\n        body: JSON.stringify(formData),\r\n      });\r\n      const result = await res.json();\r\n      if (result?.success) {\r\n        setRefresh((prev) => !prev);\r\n        toast.success(result?.message);\r\n      } else toast.error(result?.message);\r\n    } catch (error) {\r\n      console.error(error);\r\n      toast.error(\"Something went wrong\");\r\n    } finally {\r\n      setLoading(false);\r\n      setFormData({\r\n        loanId: \"\",\r\n        finaloutamount: \"\",\r\n        finalsettelement: \"\",\r\n        finalpercentage: \"\",\r\n        finalsaving: \"\",\r\n        phone,\r\n        user_id: id,\r\n      });\r\n      setSelectedLoan(null);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      try {\r\n        const res = await fetch(`${API_BASE_URL}${ApiRute.driUser.singe}`, {\r\n          method: \"POST\",\r\n          headers: { \"content-type\": \"application/json\" },\r\n          body: JSON.stringify({ phone }),\r\n        });\r\n        const json = await res.json();\r\n        if (json.success && json.data) {\r\n          const data = json.data;\r\n\r\n          const normalize = (item, type) => ({\r\n            id: item?._id || null,\r\n            bank: item?.bank || \"\",\r\n            amount: Number(item?.amount) || 0,\r\n            total: Number(item?.total) || 0,\r\n            settlementPercent:\r\n              parseInt((item?.settlement || \"\").toString().replace(\"%\", \"\")) ||\r\n              0,\r\n            type,\r\n            finalOutstandingAmount: Number(item?.finalOutstandingAmount),\r\n            finalSettelement: Number(item?.finalSettelement),\r\n            finalPercentage: Number(item?.finalPercentage),\r\n            finalSavings: Number(item?.finalSavings),\r\n            isOutstanding: item?.isOutstanding,\r\n          });\r\n\r\n          setPersonalLoans(\r\n            (data.personal_Loans || []).map((pl) => normalize(pl, \"personal\"))\r\n          );\r\n          setCreditCards(\r\n            (data.credit_Cards || []).map((cc) => normalize(cc, \"credit\"))\r\n          );\r\n        }\r\n        setRefresh(false);\r\n      } catch (err) {\r\n        console.error(\"Error fetching data\", err);\r\n      }\r\n    };\r\n\r\n    fetchData();\r\n  }, [phone, refresh]);\r\n\r\n  return (\r\n    <Dialog open={show} onClose={handleClose} className=\"relative z-50\">\r\n      <div\r\n        className=\"fixed inset-0 bg-black/50 backdrop-blur-sm\"\r\n        aria-hidden=\"true\"\r\n      />\r\n\r\n      <div className=\"fixed inset-0 flex items-center justify-center p-4\">\r\n        <Dialog.Panel className=\"bg-white rounded-2xl shadow-xl w-full max-w-5xl max-h-screen overflow-auto p-6\">\r\n          <Dialog.Title className=\"text-2xl font-semibold mb-6 text-gray-800\">\r\n            Close EMI\r\n          </Dialog.Title>\r\n\r\n          <div className=\"grid grid-cols-2 gap-6\">\r\n            {/* LEFT: Loan Selection */}\r\n            <div className=\"space-y-6\">\r\n              <div>\r\n                <h3 className=\"text-lg  text-gray-700 mb-3 font-black\">\r\n                  Credit Cards\r\n                </h3>\r\n                <div className=\"space-y-2 max-h-60 overflow-y-auto pr-1\">\r\n                  {creditCards?.map((loan) => (\r\n                    <div\r\n                      key={loan.id}\r\n                      onClick={() => handleLoanSelect(loan)}\r\n                      className={`p-3 border rounded-lg cursor-pointer transition\r\n      ${\r\n        selectedLoan === loan.id\r\n          ? \"bg-blue-50 border-blue-400\"\r\n          : \"bg-gray-50 hover:bg-gray-100 border-gray-200\"\r\n      }\r\n      ${loan?.isOutstanding ? \"\" : \"border-red-500\"} \r\n    `}\r\n                    >\r\n                      <p className=\"font-medium\">{loan?.bank}</p>\r\n\r\n                      <div className=\"text-sm mt-1 text-red-400\">\r\n                        {loan?.isOutstanding ? (\r\n                          <div className=\"text-sm text-gray-600\">\r\n                            Amount: ₹{loan?.amount} | Settlement:{\" \"}\r\n                            {loan?.settlementPercent}% | Total:{\" \"}\r\n                            {(loan?.amount * loan?.settlementPercent) / 100}\r\n                          </div>\r\n                        ) : (\r\n                          <>\r\n                            <div className=\"text-sm text-gray-600\">\r\n                              <span>\r\n                                Final Outstanding Amount:{\" \"}\r\n                                {loan?.finalOutstandingAmount}&nbsp; |&nbsp;\r\n                              </span>\r\n                              <span>\r\n                                Final Settlement: {loan?.finalSettelement}{\" \"}\r\n                                &nbsp; &nbsp;\r\n                              </span>\r\n                              <br />{\" \"}\r\n                              <span>\r\n                                Final Percentage: {loan?.finalPercentage}&nbsp;\r\n                                |&nbsp;\r\n                              </span>\r\n                              <span>Final Saving: {loan?.finalSavings}</span>\r\n                            </div>\r\n                            <span className=\"mt-2\">Settlement Close</span>\r\n                          </>\r\n                        )}\r\n                      </div>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n\r\n              <div>\r\n                <h3 className=\"text-lg font-bold text-gray-700 mb-3\">\r\n                  Personal Loans\r\n                </h3>\r\n                <div className=\"space-y-2 max-h-60 overflow-y-auto pr-1\">\r\n                  {personalLoans?.map((loan) => (\r\n                    <div\r\n                      key={loan.id}\r\n                      onClick={() => handleLoanSelect(loan)}\r\n                      className={`p-3 border rounded-lg cursor-pointer transition ${\r\n                        selectedLoan === loan.id\r\n                          ? \"bg-blue-50 border-blue-400\"\r\n                          : \"bg-gray-50 hover:bg-gray-100 border-gray-200\"\r\n                      } ${\r\n                        loan?.isOutstanding\r\n                          ? \"\"\r\n                          : \"border-red-500 cursor-not-allowed\"\r\n                      } `}\r\n                    >\r\n                      <p className=\"font-medium\">{loan.bank}</p>\r\n                      <p className=\"text-sm text-gray-600\">\r\n                        Amount: ₹{loan.amount} | Settlement:{\" \"}\r\n                        {loan.settlementPercent}% | Total:{\" \"}\r\n                        {(loan?.amount * loan?.settlementPercent) / 100}\r\n                      </p>\r\n                      <p className=\"text-sm  mt-1 text-red-400\">\r\n                        {loan?.isOutstanding ? null : \" Settlement Closed\"}\r\n                      </p>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            {/* RIGHT: Form */}\r\n            <div className=\"space-y-4\">\r\n              {[\r\n                { label: \"Final Outstanding Amount\", name: \"finaloutamount\" },\r\n                { label: \"Final Settlement\", name: \"finalsettelement\" },\r\n                { label: \"Final Percentage\", name: \"finalpercentage\" },\r\n                { label: \"Final Savings\", name: \"finalsaving\" },\r\n              ].map((field) => (\r\n                <div key={field.name}>\r\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                    {field.label}\r\n                  </label>\r\n                  <input\r\n                    autoComplete=\"off\"\r\n                    type=\"text\"\r\n                    name={field.name}\r\n                    value={formData[field.name]}\r\n                    onChange={handleChange}\r\n                    className=\"w-full border rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-400 focus:outline-none\"\r\n                  />\r\n                </div>\r\n              ))}\r\n            </div>\r\n          </div>\r\n\r\n          {/* Actions */}\r\n          <div className=\"flex justify-end gap-3 mt-8\">\r\n            <button\r\n              onClick={handleClose}\r\n              className=\"px-5 py-2 rounded-lg border border-gray-300 bg-gray-100 hover:bg-gray-200 transition\"\r\n            >\r\n              Cancel\r\n            </button>\r\n            <button\r\n              onClick={handleAdd}\r\n              disabled={loading || !selectedLoan}\r\n              className={`px-5 py-2 rounded-lg text-white transition ${\r\n                loading || !selectedLoan\r\n                  ? \"bg-blue-300 cursor-not-allowed\"\r\n                  : \"bg-blue-600 hover:bg-blue-700\"\r\n              }`}\r\n            >\r\n              {loading ? \"Uploading...\" : \"Upload\"}\r\n            </button>\r\n          </div>\r\n        </Dialog.Panel>\r\n      </div>\r\n    </Dialog>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1951, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/deves/Desktop/deploye%20testing/aws_amplify_admin_dri/src/app/components/UploadEMIModal.js"],"sourcesContent":["\"use client\";\n\nimport { Dialog } from \"@headlessui/react\";\nimport { FiUpload } from \"react-icons/fi\";\nimport Image from \"next/image\";\nimport { API_BASE_URL } from \"@/url/BaseURL\";\nimport { ApiRute } from \"@/url/ApiRoute\";\nimport { useEffect, useState, useRef } from \"react\";\nimport { getStroage } from \"@/url/storage\";\nimport { toTitleCase } from \"@/utlis/string\";\nimport toast from \"react-hot-toast\";\nimport LoanEMIForm from \"./uploadManualEmiModal\";\nimport { useRouter } from \"next/navigation\";\nimport CloseEMI from \"./CloseEMI\";\n\nexport default function UploadEMIModal({ isOpen, onClose, mode, refreshFun }) {\n  const isUploadMode = mode.view === \"upload\";\n  const [userData, setUserData] = useState();\n  const [loading, setLoading] = useState(false);\n  const [load, setLoad] = useState(false);\n  const [uploading, setUploading] = useState(false);\n  const [advocate, setAdvocate] = useState();\n  const [off, setOff] = useState(false);\n  const [file, setFile] = useState(null);\n  const [sendEmi, setSendEMi] = useState({ phone: \"\", file: null });\n  const [showLoanForm, setShowLoanForm] = useState({ status: false, id: \"\" });\n  const [closeUser, setCloseUser] = useState(false);\n  const [loadingPaid, setLoadingPaid] = useState(false);\n\n  const router = useRouter();\n  const handleFileChange = (e) => {\n    const file = e.target.files[0];\n    if (!file) return;\n    if (file.type !== \"text/csv\" && !file.name.endsWith(\".csv\")) {\n      alert(\"Please upload a valid CSV file.\");\n      e.target.value = \"\";\n      return;\n    }\n    setSendEMi({ phone: \"\", file });\n  };\n  // console.log(\"userdata\", userData);\n  const uploadEmi = async (phone) => {\n    if (!sendEmi.file) return toast.error(\"Please select CSV file!\");\n    const formData = new FormData();\n    formData.append(\"phone\", phone);\n    formData.append(\"file\", sendEmi.file);\n    try {\n      setUploading(true);\n      const res = await fetch(`${API_BASE_URL}${ApiRute.emi.upload}`, {\n        method: \"POST\",\n        body: formData,\n      });\n      const result = await res.json();\n      result?.success\n        ? toast.success(result?.message)\n        : toast.error(result?.message);\n    } catch (err) {\n      console.error(\"Upload failed:\", err);\n    } finally {\n      refreshFun();\n      setUploading(false);\n      setTimeout(() => {\n        onClose();\n      }, 2000);\n    }\n  };\n\n  const singleUser = async (phone) => {\n    setLoading(true);\n    try {\n      const res = await fetch(`${API_BASE_URL}${ApiRute.driUser.singe}`, {\n        method: \"POST\",\n        headers: { \"content-type\": \"application/json\" },\n        body: JSON.stringify({ phone }),\n      });\n      const result = await res.json();\n      setUserData(result?.data);\n    } catch (err) {\n      console.error(err);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const getAssignedAdvocate = async (id) => {\n    try {\n      const res = await fetch(\n        `${API_BASE_URL}${ApiRute.advocate.single}/${id}`\n      );\n      const result = await res.json();\n      console.log(\"advocate assign\", result);\n      if (result?.success) setAdvocate(result?.data);\n    } catch (err) {\n      console.error(err);\n    }\n  };\n\n  const handleInvoiceChange = (e) => {\n    const selectedFile = e.target.files[0];\n    if (selectedFile && selectedFile.type === \"application/pdf\") {\n      setFile(selectedFile);\n    } else {\n      alert(\"Please select a valid PDF file!\");\n    }\n  };\n\n  const handleUploadInvoice = async () => {\n    if (!file) return toast.error(\"Please select a PDF file first!\");\n    const formData = new FormData();\n    formData.append(\"pdf\", file);\n    formData.append(\"phone\", mode?.phone);\n    try {\n      setOff(true);\n      const res = await fetch(`${API_BASE_URL}${ApiRute.invoice.add}`, {\n        method: \"POST\",\n        headers: { authorization: `Bearer ${getStroage().token}` },\n        body: formData,\n      });\n      const result = await res.json();\n      result?.success\n        ? toast.success(result?.message)\n        : toast.error(result?.message);\n    } catch (err) {\n    } finally {\n      refreshFun();\n      setOff(false);\n      setFile(null);\n    }\n  };\n\n  const markAsPaid = async () => {\n    try {\n      setLoadingPaid(true);\n      const res = await fetch(`${API_BASE_URL}${ApiRute.emi.markaspaid}`, {\n        method: \"PUT\",\n        headers: {\n          \"content-type\": \"application/json\",\n          authorization: `Bearer ${getStroage().token}`,\n        },\n        body: JSON.stringify({\n          phone: mode.phone,\n          user_id: userData?.kyc?.user_id,\n        }),\n      });\n      const result = await res.json();\n      result?.success\n        ? toast.success(result?.message)\n        : toast.error(result?.message);\n    } catch (err) {\n      console.error(err);\n    } finally {\n      refreshFun();\n      setLoadingPaid(false);\n    }\n  };\n\n  useEffect(() => {\n    if (!isUploadMode && mode?.phone) singleUser(mode.phone);\n  }, [mode, isUploadMode]);\n\n  useEffect(() => {\n    if (userData?.kyc?.assign_advocate)\n      getAssignedAdvocate(userData.kyc.assign_advocate);\n  }, [userData]);\n\n  return (\n    <Dialog open={isOpen} onClose={onClose} className=\"relative z-50\">\n      <div\n        className=\"fixed inset-0 bg-black/50 backdrop-blur-sm\"\n        aria-hidden=\"true\"\n      />\n      <div className=\"fixed inset-0 flex items-center justify-center\">\n        {isUploadMode ? (\n          <Dialog.Panel className=\"mx-auto w-full max-w-3xl rounded-2xl bg-[#f1f6fe] p-6\">\n            <Dialog.Title className=\"text-4xl font-bold text-center mb-4\">\n              Upload Data Payment\n            </Dialog.Title>\n            <div className=\"flex flex-col items-center\">\n              <Image src=\"/csv.png\" alt=\"CSV Icon\" width={160} height={160} />\n              <label\n                htmlFor=\"fileUpload\"\n                className=\"mt-6 inline-flex items-center gap-2 text-white font-bold text-xl px-6 py-3 bg-gradient-to-r from-purple-600 to-cyan-400 rounded-lg cursor-pointer\"\n              >\n                <FiUpload className=\"text-2xl\" /> Upload File\n              </label>\n              <input\n                type=\"file\"\n                id=\"fileUpload\"\n                className=\"hidden\"\n                accept=\".csv\"\n                onChange={handleFileChange}\n              />\n              <p className=\"text-red-600 mt-2 text-sm font-semibold\">\n                *Upload only CSV files\n              </p>\n              <div className=\"flex\">\n                <button\n                  onClick={onClose}\n                  className=\"mt-6 px-6 py-2 bg-red-600 text-white rounded-lg\"\n                >\n                  Cancel\n                </button>\n                <button\n                  onClick={() => uploadEmi(mode?.phone)}\n                  disabled={uploading}\n                  className={`mt-6 ml-6 px-6 py-2 rounded-lg text-white ${\n                    uploading ? \"bg-gray-400 cursor-not-allowed\" : \"bg-red-600\"\n                  }`}\n                >\n                  {uploading ? \"Uploading...\" : \"Upload\"}\n                </button>\n              </div>\n            </div>\n          </Dialog.Panel>\n        ) : (\n          <Dialog.Panel className=\"mx-auto max-w-7xl rounded-2xl bg-[#f1f6fe] p-6 grid grid-cols-3 gap-4\">\n            {loading ? (\n              <div className=\"col-span-3 flex justify-center items-center h-80\">\n                <div className=\"animate-spin rounded-full h-16 w-16 border-b-4 border-blue-600\"></div>\n              </div>\n            ) : (\n              <>\n                {/* Profile */}\n                <div className=\"col-span-1 w-[280px] bg-white rounded-xl shadow-md p-4\">\n                  <div className=\"flex flex-col items-center\">\n                    <h2 className=\"text-l font-bold mt-2 bg-gradient-to-r from-blue-600 to-cyan-400 text-white w-full text-center rounded-t-xl py-2\">\n                      {`${toTitleCase(userData?.name)} ${toTitleCase(\n                        userData?.kyc?.lastname\n                      )}`}\n                    </h2>\n                  </div>\n                  <div className=\"mt-4 space-y-2 text-sm\">\n                    <p>\n                      <strong>User ID:</strong> {userData?.kyc?.id}\n                    </p>\n                    <p>\n                      <strong>Gender:</strong> {userData?.gender}\n                    </p>\n                    <p>\n                      <strong>Mob No.:</strong> {userData?.phone}\n                    </p>\n                    <p>\n                      <strong>E-mail ID:</strong> {userData?.kyc?.email}\n                    </p>\n                    <p\n                      className=\"underline text-blue-500 cursor-pointer\"\n                      onClick={() =>\n                        router.push(\n                          `./components/${\n                            userData?.userId || userData?.kyc?.user_id\n                          }`\n                        )\n                      }\n                    >\n                      <strong>View Details</strong>\n                    </p>\n                  </div>\n                </div>\n\n                {/* Advocate + Invoice */}\n                <div className=\"col-span-2 space-y-4\">\n                  <div className=\"w-full flex\">\n                    <div className=\"bg-white rounded-xl w-full shadow-md p-4 flex items-center gap-4\">\n                      <Image\n                        src={\n                          advocate?.advocateImage\n                            ? advocate.advocateImage\n                            : \"/default-avatar.png\"\n                        }\n                        alt=\"Advocate\"\n                        width={50}\n                        height={50}\n                        className=\"rounded-full\"\n                      />\n\n                      <div>\n                        <p className=\"font-semibold text-sm\">\n                          Assigned Advocate\n                        </p>\n                        <p className=\"text-md\">{advocate?.name}</p>\n                      </div>\n                    </div>\n                  </div>\n\n                  <div className=\"bg-white w-full rounded-xl shadow-md p-4 flex items-center gap-4\">\n                    <div>\n                      <label className=\"px-6 py-2 text-white font-semibold bg-gradient-to-r from-purple-600 to-cyan-400 rounded-lg flex items-center gap-2 cursor-pointer\">\n                        <FiUpload /> Select Invoice\n                        <input\n                          type=\"file\"\n                          accept=\"application/pdf\"\n                          onChange={handleInvoiceChange}\n                          className=\"hidden\"\n                        />\n                      </label>\n                      {file && (\n                        <p className=\"text-sm text-gray-700\">\n                          Selected File:{\" \"}\n                          <span className=\"font-semibold\">{file.name}</span>\n                        </p>\n                      )}\n                    </div>\n                    <button\n                      onClick={handleUploadInvoice}\n                      className=\"px-6 py-2 bg-[#1172da] text-white rounded-lg\"\n                      disabled={off}\n                    >\n                      {off ? \"Uploading...\" : \"Upload\"}\n                    </button>\n                  </div>\n\n                  {/* Action Buttons */}\n                  <div className=\"flex justify-end items-end gap-4\">\n                    <button\n                      className=\"bg-[#1172da] text-white px-6 py-2 rounded-lg font-bold cursor-pointer\"\n                      onClick={() =>\n                        setCloseUser({\n                          status: true,\n                          id: userData?.kyc?.user_id,\n                        })\n                      }\n                    >\n                      {load ? \"Closing...\" : \"Close EMI\"}\n                    </button>\n                    <button\n                      className=\"bg-[#1172da] text-white px-6 py-2 rounded-lg font-bold cursor-pointer\"\n                      onClick={markAsPaid}\n                    >\n                      {loadingPaid ? \"Marking...\" : \"Mark as Paid\"}\n                    </button>\n                    <button\n                      className=\"bg-[#1172da] text-white px-6 py-2 rounded-lg font-bold cursor-pointer\"\n                      onClick={() =>\n                        setShowLoanForm({\n                          status: true,\n                          id: userData?.kyc?.user_id,\n                        })\n                      }\n                    >\n                      Add Loan\n                    </button>\n                    <button\n                      className=\"bg-red-600 text-white px-6 py-2 rounded-lg font-bold cursor-pointer\"\n                      onClick={onClose}\n                    >\n                      Cancel\n                    </button>\n                  </div>\n                </div>\n              </>\n            )}\n          </Dialog.Panel>\n        )}\n      </div>\n\n      {showLoanForm && (\n        <LoanEMIForm\n          show={showLoanForm.status}\n          handleClose={() => setShowLoanForm({ status: false })}\n          phone={mode?.phone}\n          id={showLoanForm.id}\n        />\n      )}\n      {closeUser && (\n        <CloseEMI\n          show={closeUser.status}\n          handleClose={() => setCloseUser({ status: false })}\n          phone={mode?.phone}\n          id={closeUser.id}\n        />\n      )}\n    </Dialog>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 2641, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/deves/Desktop/deploye%20testing/aws_amplify_admin_dri/src/app/components/ReviewAssignModal.js"],"sourcesContent":["\"use client\";\n\nimport { useState, useEffect } from \"react\";\nimport Image from \"next/image\";\nimport { FaChevronDown } from \"react-icons/fa\";\nimport { API_BASE_URL } from \"@/url/BaseURL\";\nimport { ApiRute } from \"@/url/ApiRoute\";\nimport { getStroage } from \"@/url/storage\";\nimport toast from \"react-hot-toast\";\n\nexport default function ReviewAssignModal({\n  isOpen,\n  onClose,\n  userData,\n  onAssignSubmit,\n}) {\n  const [selectedAdvocate, setSelectedAdvocate] = useState(null);\n  const [advocte, setAdvocate] = useState([]);\n  const [assignedId, setAssignedId] = useState(\"\");\n  const [previewImage, setPreviewImage] = useState(null); // image preview state\n  const getAdvocates = async () => {\n    const res = await fetch(`${API_BASE_URL}${ApiRute.advocate.getAll}`, {\n      method: \"GET\",\n      headers: {\n        \"content-type\": \"application/json\",\n        authorization: `Bearer ${getStroage().token}`,\n      },\n    });\n    const result = await res.json();\n    if (!result.success) throw new Error(\"Failed to fetch advocates\");\n    setAdvocate(result?.data);\n  };\n\n  useEffect(() => {\n    if (userData?.assignedId) {\n      setAssignedId(userData.assignedId);\n    }\n    getAdvocates();\n  }, [userData?.assignedId]);\n\n  if (!isOpen || !userData) return null;\n\n  const handleApproveAssign = async () => {\n    const updatedUser = {\n      ...userData,\n      assignedId,\n      assignedAdvocate: selectedAdvocate,\n    };\n    const payload = {\n      kycId: updatedUser?._id,\n      advocate_id: updatedUser?.assignedAdvocate._id,\n      assign_id: assignedId,\n    };\n    const res = await fetch(`${API_BASE_URL}${ApiRute.kyc.approve}`, {\n      method: \"POST\",\n      headers: {\n        \"content-type\": \"application/json\",\n        authorization: `Bearer ${getStroage().token}`,\n      },\n      body: JSON.stringify(payload),\n    });\n\n    const result = await res.json();\n    if (result?.success) {\n      toast.success(result?.message);\n    } else {\n      toast.error(result?.message);\n    }\n    setTimeout(() => {\n      onClose();\n    }, 300);\n  };\n\n  return (\n    <>\n      {/* Main Modal */}\n      <div className=\"fixed inset-0 backdrop-blur-sm bg-white/30 z-50 flex items-center justify-center px-4\">\n        <div className=\"bg-white rounded-xl w-full max-w-5xl shadow-lg relative p-6\">\n          <button\n            className=\"absolute top-3 right-4 text-xl text-gray-500 hover:text-gray-800\"\n            onClick={onClose}\n          >\n            &times;\n          </button>\n\n          <div className=\"flex gap-6\">\n            {/* User Info */}\n            <div className=\"w-1/3 border p-4 rounded-lg shadow\">\n              <div className=\"flex flex-col items-center\">\n                <Image\n                  src={`${userData.profile || \"/user1.jpg\"}`}\n                  width={80}\n                  height={80}\n                  alt=\"User\"\n                  className=\"rounded-full\"\n                />\n                <h2 className=\"mt-3 text-xl font-bold text-[#00479C]\">\n                  {userData.name || \"User Name\"}\n                </h2>\n              </div>\n              <div className=\"mt-4 text-sm space-y-2\">\n                <div className=\"flex items-center gap-2\">\n                  <label className=\"font-medium whitespace-nowrap\">\n                    Assign ID:\n                  </label>\n                  <input\n                    type=\"text\"\n                    className=\"border border-gray-300 rounded px-3 py-1 w-[130px] text-sm focus:outline-none focus:ring-2 focus:ring-blue-400\"\n                    value={assignedId}\n                    onChange={(e) => setAssignedId(e.target.value)}\n                  />\n                </div>\n                <p>\n                  <strong>Gender:</strong> {userData.gender}\n                </p>\n                <p>\n                  <strong>Joining Date:</strong> {userData.date}\n                </p>\n                <p>\n                  <strong>Phone:</strong> {userData.user_id.phone}\n                </p>\n                <p>\n                  <strong>Email:</strong> {userData.email}\n                </p>\n                <div className=\"flex items-center\">\n                  <strong>PDF:</strong>\n                  {userData?.pdf?.map((pdf, idx) => (\n                    <span\n                      key={idx}\n                      className=\"w-[55px] text-center text-blue-700 font-bold underline bg-amber-100 p-1  ml-2\"\n                    >\n                      {\" \"}\n                      &nbsp;\n                      <a href={`${pdf}`} target=\"_blank\">{`PDF${idx + 1}`}</a>\n                    </span>\n                  ))}\n                </div>\n              </div>\n            </div>\n\n            {/* Aadhar / PAN */}\n            <div className=\"w-1/3 flex flex-col justify-around gap-4 max-h-[350px] overflow-auto\">\n              {userData?.image?.map((e, idx) => (\n                <div\n                  key={idx}\n                  className=\"border rounded-lg p-3 shadow cursor-pointer\"\n                  onClick={() => setPreviewImage(e)}\n                >\n                  <Image\n                    src={e}\n                    alt={`KYC-${idx}`}\n                    width={300}\n                    height={100}\n                    className=\"rounded-md\"\n                  />\n                  <p className=\"text-center text-xs mt-1\">{e?.label}</p>\n                </div>\n              ))}\n            </div>\n\n            {/* Advocate List */}\n            <div className=\"w-1/3 border rounded-lg shadow p-4\">\n              <div className=\"flex items-center justify-between mb-3\">\n                <h3 className=\"text-lg font-semibold\">Assign Advocate</h3>\n                <FaChevronDown />\n              </div>\n              <div className=\"space-y-3 max-h-60 overflow-y-auto pr-1\">\n                {advocte.map((adv, idx) => (\n                  <div\n                    key={idx}\n                    onClick={() => setSelectedAdvocate(adv)}\n                    className={`flex items-center gap-3 p-2 rounded cursor-pointer hover:bg-gray-100 transition ${\n                      selectedAdvocate?.name === adv?.name ? \"bg-blue-100\" : \"\"\n                    }`}\n                  >\n                    <Image\n                      src={`${adv?.advocateImage}`}\n                      width={40}\n                      height={40}\n                      alt={adv?.name}\n                      className=\"rounded-full\"\n                    />\n                    <div>\n                      <p className=\"font-medium\">{adv?.name}</p>\n                      <p className=\"text-xs text-gray-500\">\n                        {adv?.contactNumber} / {adv?.gender}\n                      </p>\n                    </div>\n                  </div>\n                ))}\n              </div>\n            </div>\n          </div>\n\n          {/* Approve Button */}\n          <div className=\"mt-6 text-center\">\n            <button\n              onClick={handleApproveAssign}\n              className=\"bg-gradient-to-r from-purple-500 to-cyan-500 text-white px-6 py-2 rounded-full font-semibold shadow hover:scale-105 transition\"\n            >\n              Approve & Assign\n            </button>\n          </div>\n        </div>\n      </div>\n\n      {/* Image Preview Modal */}\n      {previewImage && (\n        <div\n          className=\"fixed inset-0 bg-black/50 backdrop-blur-2xl bg-opacity-70 flex items-center justify-center z-[60]\"\n          onClick={() => setPreviewImage(null)}\n        >\n          <div\n            className=\"relative max-w-3xl max-h-[90vh] p-4\"\n            onClick={(e) => e.stopPropagation()}\n          >\n            {/* <button\n              className=\"absolute top-[-5] right-[-2] text-black text-4xl bg-white rounded-4xl w-[40px] h-[40px] text-center cursor-pointer\"\n              onClick={() => setPreviewImage(null)}\n            >\n              &times;\n            </button> */}\n            <Image\n              src={previewImage}\n              alt=\"Preview\"\n              width={800}\n              height={600}\n              className=\"rounded-lg max-h-[80vh] object-contain\"\n            />\n          </div>\n        </div>\n      )}\n    </>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 3117, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/deves/Desktop/deploye%20testing/aws_amplify_admin_dri/src/app/components/PaytoDri.js"],"sourcesContent":["import { ApiRute } from \"@/url/ApiRoute\";\r\nimport { API_BASE_URL } from \"@/url/BaseURL\";\r\nimport { useState, useEffect } from \"react\";\r\nimport toast from \"react-hot-toast\";\r\n\r\nexport default function PayToDri({ phone, show, handleClose }) {\r\n  const [formData, setFormData] = useState({\r\n    emiType: \"\",\r\n    noOfEmi: \"\",\r\n    emiAmount: \"\",\r\n    dueDate: \"\",\r\n    phone,\r\n    settlementAount: \"\",\r\n  });\r\n  const [load, setLoad] = useState(false);\r\n  useEffect(() => {\r\n    setFormData((prev) => ({ ...prev, phone }));\r\n  }, [phone]);\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setFormData((prev) => ({ ...prev, [name]: value }));\r\n  };\r\n\r\n  const addTpDri = async () => {\r\n    const finalData = {\r\n      ...formData,\r\n    };\r\n    try {\r\n      setLoad(true);\r\n      const res = await fetch(`${API_BASE_URL}${ApiRute.emi.mannual}`, {\r\n        method: \"POST\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n        body: JSON.stringify(finalData),\r\n      });\r\n      const result = await res.json();\r\n      if (result?.success) {\r\n        toast.success(result?.message);\r\n      } else {\r\n        toast.error(result?.message);\r\n      }\r\n    } catch (error) {\r\n      console.error(error);\r\n    } finally {\r\n      setLoad(false);\r\n      // handleClose();\r\n    }\r\n  };\r\n  if (!show) return null;\r\n  return (\r\n    <div className=\"fixed inset-0 z-50 flex items-center justify-center bg-black/50\">\r\n      <div className=\"w-full max-w-md bg-white p-6 rounded-xl shadow-lg\">\r\n        <h2 className=\"text-lg font-bold mb-4\">Pay to DRI</h2>\r\n\r\n        <div className=\"space-y-3\">\r\n          {/* EMI Type */}\r\n          <div>\r\n            <label className=\"block text-sm font-medium\">EMI Type</label>\r\n            <select\r\n              name=\"emiType\"\r\n              value={formData.emiType}\r\n              onChange={handleChange}\r\n              className=\"w-full border rounded px-2 py-1 mt-1\"\r\n            >\r\n              <option value=\"\">Select</option>\r\n              <option>Settlement_Advance</option>\r\n              <option>Service_Fees</option>\r\n            </select>\r\n          </div>\r\n\r\n          <div>\r\n            <label className=\"block text-sm font-medium\">\r\n              Settlement Amount\r\n            </label>\r\n            <input\r\n              type=\"text\"\r\n              name=\"settlementAount\" //\r\n              value={formData.settlementAount}\r\n              onChange={handleChange}\r\n              className=\"w-full border rounded px-2 py-1 mt-1\"\r\n            />\r\n          </div>\r\n          {/* No of EMI */}\r\n          <div>\r\n            <label className=\"block text-sm font-medium\">No. of EMI</label>\r\n            <input\r\n              type=\"text\"\r\n              name=\"noOfEmi\"\r\n              value={formData.noOfEmi}\r\n              onChange={handleChange}\r\n              className=\"w-full border rounded px-2 py-1 mt-1\"\r\n            />\r\n          </div>\r\n\r\n          {/* Monthly EMI */}\r\n          <div>\r\n            <label className=\"block text-sm font-medium\">EMI Amount</label>\r\n            <input\r\n              type=\"text\"\r\n              name=\"emiAmount\"\r\n              value={formData.emiAmount}\r\n              onChange={handleChange}\r\n              className=\"w-full border rounded px-2 py-1 mt-1\"\r\n            />\r\n          </div>\r\n\r\n          {/* Due Date */}\r\n          <div>\r\n            <label className=\"block text-sm font-medium\">Select Due Date</label>\r\n            <input\r\n              type=\"date\"\r\n              name=\"dueDate\"\r\n              value={formData.dueDate}\r\n              onChange={handleChange}\r\n              className=\"w-full border rounded px-2 py-1 mt-1\"\r\n            />\r\n          </div>\r\n        </div>\r\n\r\n        {/* Buttons */}\r\n        <div className=\"flex justify-end gap-3 mt-6\">\r\n          <button\r\n            className=\"px-4 py-2 bg-gray-200 rounded-lg\"\r\n            onClick={handleClose}\r\n          >\r\n            Cancel\r\n          </button>\r\n          <button\r\n            className=\"px-4 py-2 bg-blue-600 text-white rounded-lg\"\r\n            onClick={addTpDri}\r\n          >\r\n            Add\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 3421, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/deves/Desktop/deploye%20testing/aws_amplify_admin_dri/src/app/components/uploadUsersFromCSV.js"],"sourcesContent":["\"use client\";\r\nimport { useState } from \"react\";\r\nimport { API_BASE_URL } from \"@/url/BaseURL\";\r\nimport { ApiRute } from \"@/url/ApiRoute\";\r\nimport toast from \"react-hot-toast\";\r\n\r\nexport default function UploadCSVModal({ isOpen, onClose, types }) {\r\n  const [file, setFile] = useState(null);\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const handleFileChange = (e) => setFile(e.target.files[0]);\r\n\r\n  const handleUpload = async () => {\r\n    if (!file) return toast.error(\"Please select a CSV file\");\r\n    try {\r\n      setLoading(true);\r\n      const formData = new FormData();\r\n      formData.append(\"csv\", file);\r\n\r\n      if (types === \"user\") {\r\n        const res = await fetch(`${API_BASE_URL}${ApiRute.driUser.addUser}`, {\r\n          method: \"POST\",\r\n          body: formData,\r\n        });\r\n\r\n        const result = await res.json();\r\n        if (result?.success) {\r\n          toast.success(result?.message);\r\n          onClose();\r\n        } else {\r\n          toast.error(result?.message || \"Upload failed\");\r\n        }\r\n      }\r\n      if (types === \"emi\") {\r\n        const res = await fetch(`${API_BASE_URL}${ApiRute.emi.bulkinsert}`, {\r\n          method: \"POST\",\r\n          body: formData,\r\n        });\r\n\r\n        const result = await res.json();\r\n        if (result?.success) {\r\n          toast.success(result?.message);\r\n          onClose();\r\n        } else {\r\n          toast.error(result?.message || \"Upload failed\");\r\n        }\r\n      }\r\n    } catch (err) {\r\n      console.error(err);\r\n      toast.error(\"Something went wrong\");\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  if (!isOpen) return null;\r\n\r\n  return (\r\n    <div className=\"fixed inset-0 flex items-center justify-center bg-black/50 bg-opacity-50 z-50 backdrop-blur-sm\">\r\n      <div className=\"bg-white rounded-lg shadow-lg w-full max-w-md p-6\">\r\n        <h2 className=\"text-xl font-semibold mb-4\">Upload Users</h2>\r\n\r\n        <input\r\n          type=\"file\"\r\n          accept=\".csv\"\r\n          onChange={handleFileChange}\r\n          className=\"w-full border p-2 rounded mb-4\"\r\n        />\r\n        <small className=\"text-red-600\">Only CSV File.</small>\r\n        <div className=\"flex justify-end gap-3\">\r\n          <button\r\n            onClick={onClose}\r\n            className=\"px-4 py-2 rounded border bg-gray-100 hover:bg-gray-200\"\r\n          >\r\n            Cancel\r\n          </button>\r\n          <button\r\n            onClick={handleUpload}\r\n            disabled={loading}\r\n            className=\"px-4 py-2 rounded bg-blue-600 text-white hover:bg-blue-700 disabled:opacity-50\"\r\n          >\r\n            {loading ? \"Uploading...\" : \"Upload\"}\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;AACA;AACA;AACA;AACA;;;AAJA;;;;;AAMe,SAAS,eAAe,KAA0B;QAA1B,EAAE,MAAM,EAAE,OAAO,EAAE,KAAK,EAAE,GAA1B;;IACrC,MAAM,CAAC,MAAM,QAAQ,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IACjC,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAEvC,MAAM,mBAAmB,CAAC,IAAM,QAAQ,EAAE,MAAM,CAAC,KAAK,CAAC,EAAE;IAEzD,MAAM,eAAe;QACnB,IAAI,CAAC,MAAM,OAAO,0JAAA,CAAA,UAAK,CAAC,KAAK,CAAC;QAC9B,IAAI;YACF,WAAW;YACX,MAAM,WAAW,IAAI;YACrB,SAAS,MAAM,CAAC,OAAO;YAEvB,IAAI,UAAU,QAAQ;gBACpB,MAAM,MAAM,MAAM,MAAM,AAAC,GAAiB,OAAf,wHAAA,CAAA,eAAY,EAA2B,OAAxB,yHAAA,CAAA,UAAO,CAAC,OAAO,CAAC,OAAO,GAAI;oBACnE,QAAQ;oBACR,MAAM;gBACR;gBAEA,MAAM,SAAS,MAAM,IAAI,IAAI;gBAC7B,IAAI,mBAAA,6BAAA,OAAQ,OAAO,EAAE;oBACnB,0JAAA,CAAA,UAAK,CAAC,OAAO,CAAC,mBAAA,6BAAA,OAAQ,OAAO;oBAC7B;gBACF,OAAO;oBACL,0JAAA,CAAA,UAAK,CAAC,KAAK,CAAC,CAAA,mBAAA,6BAAA,OAAQ,OAAO,KAAI;gBACjC;YACF;YACA,IAAI,UAAU,OAAO;gBACnB,MAAM,MAAM,MAAM,MAAM,AAAC,GAAiB,OAAf,wHAAA,CAAA,eAAY,EAA0B,OAAvB,yHAAA,CAAA,UAAO,CAAC,GAAG,CAAC,UAAU,GAAI;oBAClE,QAAQ;oBACR,MAAM;gBACR;gBAEA,MAAM,SAAS,MAAM,IAAI,IAAI;gBAC7B,IAAI,mBAAA,6BAAA,OAAQ,OAAO,EAAE;oBACnB,0JAAA,CAAA,UAAK,CAAC,OAAO,CAAC,mBAAA,6BAAA,OAAQ,OAAO;oBAC7B;gBACF,OAAO;oBACL,0JAAA,CAAA,UAAK,CAAC,KAAK,CAAC,CAAA,mBAAA,6BAAA,OAAQ,OAAO,KAAI;gBACjC;YACF;QACF,EAAE,OAAO,KAAK;YACZ,QAAQ,KAAK,CAAC;YACd,0JAAA,CAAA,UAAK,CAAC,KAAK,CAAC;QACd,SAAU;YACR,WAAW;QACb;IACF;IAEA,IAAI,CAAC,QAAQ,OAAO;IAEpB,qBACE,6LAAC;QAAI,WAAU;kBACb,cAAA,6LAAC;YAAI,WAAU;;8BACb,6LAAC;oBAAG,WAAU;8BAA6B;;;;;;8BAE3C,6LAAC;oBACC,MAAK;oBACL,QAAO;oBACP,UAAU;oBACV,WAAU;;;;;;8BAEZ,6LAAC;oBAAM,WAAU;8BAAe;;;;;;8BAChC,6LAAC;oBAAI,WAAU;;sCACb,6LAAC;4BACC,SAAS;4BACT,WAAU;sCACX;;;;;;sCAGD,6LAAC;4BACC,SAAS;4BACT,UAAU;4BACV,WAAU;sCAET,UAAU,iBAAiB;;;;;;;;;;;;;;;;;;;;;;;AAMxC;GAjFwB;KAAA","debugId":null}},
    {"offset": {"line": 3566, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/deves/Desktop/deploye%20testing/aws_amplify_admin_dri/src/app/components/UpdateProfile.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\r\nimport { Dialog } from \"@headlessui/react\";\r\nimport { API_BASE_URL } from \"@/url/BaseURL\";\r\nimport { ApiRute } from \"@/url/ApiRoute\";\r\nimport { getStroage } from \"@/url/storage\";\r\nimport toast from \"react-hot-toast\";\r\nimport { CheckCircle } from \"lucide-react\";\r\n\r\nexport default function UpdateProfile({ isOpen, onClose, userData }) {\r\n  const [loading, setLoading] = useState(false);\r\n  const [advocates, setAdvocates] = useState([]);\r\n  const [search, setSearch] = useState(\"\");\r\n  const [selectedAdvocate, setSelectedAdvocate] = useState(\"\");\r\n  const [updateData, setUpdateData] = useState({\r\n    id: \"\",\r\n    phone: \"\",\r\n    advocate: \"\",\r\n  });\r\n\r\n  async function getAdvocates() {\r\n    try {\r\n      const response = await fetch(\r\n        `${API_BASE_URL}${ApiRute.advocate.getAll}`,\r\n        {\r\n          method: \"GET\",\r\n          headers: {\r\n            \"content-type\": \"application/json\",\r\n            authorization: `Bearer ${getStroage().token}`,\r\n          },\r\n        }\r\n      );\r\n      const result = await response.json();\r\n      if (result?.success) setAdvocates(result?.data);\r\n    } catch (error) {\r\n      console.error(\"Failed to fetch advocates\", error);\r\n    }\r\n  }\r\n\r\n  async function handleUpdate() {\r\n    setLoading(true);\r\n    try {\r\n      const body = { ...updateData, advocate: selectedAdvocate };\r\n      const res = await fetch(`${API_BASE_URL}${ApiRute.driUser.update}`, {\r\n        method: \"PUT\",\r\n        headers: {\r\n          \"content-type\": \"application/json\",\r\n          authorization: `Bearer ${getStroage().token}`,\r\n        },\r\n        body: JSON.stringify(body),\r\n      });\r\n      const result = await res.json();\r\n      if (result?.success) {\r\n        toast.success(result.message);\r\n        onClose();\r\n      } else toast.error(result?.message);\r\n    } catch (error) {\r\n      console.error(error);\r\n      toast.error(\"Update failed\");\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (isOpen && userData) {\r\n      setUpdateData({\r\n        id: userData?.id || \"\",\r\n        phone: userData?.phone || \"\",\r\n        advocate: userData?.advocate || \"\",\r\n      });\r\n      setSelectedAdvocate(userData?.advocate || \"\");\r\n      getAdvocates();\r\n    }\r\n  }, [userData, isOpen]);\r\n\r\n  const filteredAdvocates = advocates.filter((a) =>\r\n    a?.name?.toLowerCase().includes(search.toLowerCase())\r\n  );\r\n\r\n  return (\r\n    <Dialog open={isOpen} onClose={onClose} className=\"relative z-50\">\r\n      <div className=\"fixed inset-0 bg-black/50\" aria-hidden=\"true\" />\r\n      <div className=\"fixed inset-0 flex items-center justify-center p-4\">\r\n        <Dialog.Panel className=\"bg-white rounded-2xl shadow-lg max-w-xl w-[480px] p-6\">\r\n          <Dialog.Title className=\"text-2xl font-semibold mb-4 text-gray-800\">\r\n            Update Profile\r\n          </Dialog.Title>\r\n\r\n          {/* ID */}\r\n          <input\r\n            type=\"text\"\r\n            name=\"id\"\r\n            value={updateData.id}\r\n            onChange={(e) =>\r\n              setUpdateData((prev) => ({\r\n                ...prev,\r\n                [e.target.name]: e.target.value,\r\n              }))\r\n            }\r\n            placeholder=\"Enter User ID\"\r\n            className=\"w-full border p-2 rounded-lg mb-3 focus:ring-2 focus:ring-blue-400 outline-none\"\r\n          />\r\n\r\n          {/* Phone */}\r\n          <input\r\n            type=\"text\"\r\n            name=\"phone\"\r\n            value={updateData.phone}\r\n            onChange={(e) =>\r\n              setUpdateData((prev) => ({\r\n                ...prev,\r\n                [e.target.name]: e.target.value,\r\n              }))\r\n            }\r\n            placeholder=\"Phone Number\"\r\n            className=\"w-full border p-2 rounded-lg mb-3 focus:ring-2 focus:ring-blue-400 outline-none\"\r\n          />\r\n\r\n          {/* Advocate Section */}\r\n          <label className=\"block font-medium mb-2 text-gray-700\">\r\n            Assign Advocate\r\n          </label>\r\n\r\n          {/* Search bar */}\r\n          <input\r\n            type=\"text\"\r\n            value={search}\r\n            onChange={(e) => setSearch(e.target.value)}\r\n            placeholder=\"Search advocate...\"\r\n            className=\"w-full border p-2 rounded-lg mb-2 focus:ring-2 focus:ring-blue-400 outline-none\"\r\n          />\r\n\r\n          {/* Advocate List (Row-wise) */}\r\n          <div className=\"border rounded-lg divide-y divide-gray-200 h-[220px] overflow-y-auto\">\r\n            {filteredAdvocates.length > 0 ? (\r\n              filteredAdvocates.map((val) => (\r\n                <div\r\n                  key={val._id}\r\n                  onClick={() => setSelectedAdvocate(val._id)}\r\n                  className={`flex justify-between items-center px-4 py-3 cursor-pointer transition ${\r\n                    selectedAdvocate === val._id\r\n                      ? \"bg-blue-50 border-l-4 border-blue-500\"\r\n                      : \"hover:bg-gray-100\"\r\n                  }`}\r\n                >\r\n                  <div>\r\n                    <p className=\"font-medium text-gray-800\">{val?.name}</p>\r\n                  </div>\r\n                  {selectedAdvocate === val._id && (\r\n                    <CheckCircle size={20} className=\"text-blue-500\" />\r\n                  )}\r\n                </div>\r\n              ))\r\n            ) : (\r\n              <p className=\"text-center py-6 text-gray-500\">\r\n                No advocates found\r\n              </p>\r\n            )}\r\n          </div>\r\n\r\n          {/* Buttons */}\r\n          <div className=\"flex justify-end gap-3 mt-6\">\r\n            <button\r\n              onClick={onClose}\r\n              className=\"px-4 py-2 bg-gray-200 rounded-lg hover:bg-gray-300 transition\"\r\n            >\r\n              Cancel\r\n            </button>\r\n            <button\r\n              disabled={loading}\r\n              onClick={handleUpdate}\r\n              className={`px-5 py-2 rounded-lg text-white transition ${\r\n                loading ? \"bg-blue-400\" : \"bg-blue-600 hover:bg-blue-700\"\r\n              }`}\r\n            >\r\n              {loading ? \"Updating...\" : \"Update\"}\r\n            </button>\r\n          </div>\r\n        </Dialog.Panel>\r\n      </div>\r\n    </Dialog>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 3840, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/deves/Desktop/deploye%20testing/aws_amplify_admin_dri/src/app/userController/page.js"],"sourcesContent":["// \"use client\";\n\n// import { useState, useEffect } from \"react\";\n// import Header from \"../components/Header\";\n// import UploadEMIModal from \"../components/UploadEMIModal\";\n// import { API_BASE_URL } from \"@/url/BaseURL\";\n// import { ApiRute } from \"@/url/ApiRoute\";\n// import ReviewAssignModal from \"../components/ReviewAssignModal\";\n// import PayToDri from \"../components/PaytoDri\";\n// import UploadCSVModal from \"../components/uploadUsersFromCSV\";\n// import { toTitleCase } from \"@/utlis/string\";\n// import toast from \"react-hot-toast\";\n// import { getStroage } from \"@/url/storage\";\n// import UpdateProfile from \"../components/UpdateProfile\";\n\n// function formatDate(date) {\n//   const dateArr = date?.split(\"-\");\n//   const dateTime = dateArr[dateArr?.length - 1];\n//   const day = dateTime?.split(\"T\")[0];\n//   const year = dateArr[0];\n//   const month = dateArr[1];\n//   return `${day}/${month}/${year}`;\n// }\n// export default function DashboardPage() {\n//   const [activeTab, setActiveTab] = useState(\"emi\");\n//   const [statusFilter, setStatusFilter] = useState(\"\");\n//   const [genderFilter, setGenderFilter] = useState(\"\");\n//   const [keycUsers, setKycUser] = useState([]);\n//   const [isModalOpen, setIsModalOpen] = useState(false);\n//   const [modalMode, setModalMode] = useState(\"upload\");\n//   const [show, setShow] = useState(false);\n//   const [reviewModalOpen, setReviewModalOpen] = useState(false);\n//   const [selectedUser, setSelectedUser] = useState(null);\n//   const [emiUsers, setEmiUsers] = useState([]);\n//   const [search, setSearch] = useState(\"\");\n//   const [selectedPhone, setPhone] = useState(0);\n//   const [csvModalOpen, setCsvModalOpen] = useState(false);\n//   const [selectedUsers, setSelectedUsers] = useState([]);\n//   const [userIds, setUserIds] = useState([]);\n//   const [phones, setPhones] = useState([]);\n//   const [updateModalOpen, setUpdateModalOpen] = useState(false);\n//   const [updateUser, setUpdateUser] = useState(null);\n//   const [type, setType] = useState(\"\");\n//   const [refresh, setRefresh] = useState(false);\n\n//   useEffect(() => {\n//     GetAllKycUser();\n//     getAllDriUers();\n//   }, []);\n//   useEffect(() => {\n//     GetAllKycUser();\n//     getAllDriUers();\n//   }, [refresh]);\n//   const GetAllKycUser = async () => {\n//     const res = await fetch(`${API_BASE_URL}${ApiRute.kyc.get}`);\n//     const result = await res.json();\n//     setKycUser(result?.data || []);\n//   };\n\n//   const getAllDriUers = async () => {\n//     const res = await fetch(`${API_BASE_URL}${ApiRute.driUser.getAll}`);\n//     const result = await res.json();\n//     if (result?.success) setEmiUsers(result?.data || []);\n//   };\n\n//   const openModal = (mode) => {\n//     setModalMode(mode);\n//     setIsModalOpen(true);\n//   };\n\n//   const handleShow = (data) => {\n//     setPhone(data?.phone);\n//     setShow(true);\n//   };\n\n//   const handleClose = () => setShow(false);\n\n//   const isEMI = activeTab === \"emi\";\n\n//   const filteredEmiUsers = emiUsers.filter(\n//     (user) =>\n//       user?.id?.toString().includes(search) ||\n//       user?.name?.toLowerCase().includes(search.toLowerCase()) ||\n//       user?.phone?.toString().includes(search)\n//   );\n\n//   const filteredKycUsers = keycUsers.filter(\n//     (user) =>\n//       (!statusFilter ||\n//         user.status?.toLowerCase() === statusFilter.toLowerCase()) &&\n//       (!genderFilter ||\n//         user.gender?.toLowerCase() === genderFilter.toLowerCase()) &&\n//       (user?.id?.toString().includes(search) ||\n//         user?.name?.toLowerCase().includes(search.toLowerCase()) ||\n//         user?.user_id?.phone?.toString().includes(search))\n//   );\n\n//   const handleSelectAll = (e) => {\n//     if (e.target.checked) {\n//       const allUserIds = [];\n//       const allPhones = [];\n\n//       filteredEmiUsers.forEach((user) => {\n//         if (user?.id) {\n//           allUserIds.push(user.id);\n//         } else if (user?.phone) {\n//           allPhones.push(user.phone);\n//         }\n//       });\n\n//       setSelectedUsers([...allUserIds, ...allPhones]);\n//       setUserIds(allUserIds);\n//       setPhones(allPhones);\n//     } else {\n//       setSelectedUsers([]);\n//       setUserIds([]);\n//       setPhones([]);\n//     }\n//   };\n\n//   // ✅ Updated handleSelectOne (single checkbox)\n//   const handleSelectOne = (user) => {\n//     const idOrPhone = user?.id ? user.id : user?.phone;\n\n//     setSelectedUsers((prev) =>\n//       prev.includes(idOrPhone)\n//         ? prev.filter((u) => u !== idOrPhone)\n//         : [...prev, idOrPhone]\n//     );\n\n//     // Update separate arrays\n//     if (user?.id) {\n//       setUserIds((prev) =>\n//         prev.includes(user.id)\n//           ? prev.filter((u) => u !== user.id)\n//           : [...prev, user.id]\n//       );\n//     } else if (user?.phone) {\n//       setPhones((prev) =>\n//         prev.includes(user.phone)\n//           ? prev.filter((p) => p !== user.phone)\n//           : [...prev, user.phone]\n//       );\n//     }\n//   };\n\n//   // ✅ Delete\n//   const handleDelete = async () => {\n//     if (!selectedUsers.length) {\n//       toast.error(\"No users selected\");\n//       return;\n//     }\n\n//     try {\n//       const res = await fetch(`${API_BASE_URL}${ApiRute.driUser.delete}`, {\n//         method: \"DELETE\",\n//         headers: {\n//           \"content-type\": \"application/json\",\n//           authorization: `Bearer ${getStroage().token}`,\n//         },\n//         body: JSON.stringify({ userIds, phones }),\n//       });\n\n//       const result = await res.json();\n//       if (result?.success) {\n//         toast.success(result?.message);\n//         setSelectedUsers([]);\n//         setUserIds([]);\n//         setPhones([]);\n//         getAllDriUers();\n//       } else {\n//         toast.error(result?.message);\n//       }\n//     } catch (error) {\n//       console.error(error);\n//       toast.error(\"Something went wrong!\");\n//     }\n//   };\n\n//   // refresh function\n\n//   const handleRefresh = () => {\n//     setRefresh((prev) => !prev);\n//   };\n//   return (\n//     <div>\n//       <Header />\n\n//       <div className=\"min-h-screen p-4 w-full mx-auto\">\n//         {/* Tabs */}\n//         <div className=\"w-full mx-auto mt-4 flex mb-10 border-2 border-blue-800\">\n//           <div\n//             onClick={() => setActiveTab(\"emi\")}\n//             className={`w-1/2 text-center py-3 font-semibold text-lg cursor-pointer border-r border-blue-800 ${\n//               isEMI\n//                 ? \"bg-[#00479C] text-white\"\n//                 : \"bg-[#F3F8FF] text-[#00479C] border-blue-800\"\n//             }`}\n//           >\n//             User EMI Summary\n//           </div>\n//           <div\n//             onClick={() => setActiveTab(\"kyc\")}\n//             className={`w-1/2 text-center py-3 font-semibold text-lg cursor-pointer ${\n//               !isEMI\n//                 ? \"bg-[#00479C] text-white\"\n//                 : \"bg-[#F3F8FF] text-[#00479C] border-blue-800\"\n//             }`}\n//           >\n//             KYC Approval\n//           </div>\n//         </div>\n\n//         {/* Card */}\n//         <div className=\"p-4 w-[80%] mx-auto bg-white h-[600px] rounded-xl shadow-lg overflow-auto\">\n//           {/* Filters */}\n//           <div className=\"flex justify-between mb-4\">\n//             <input\n//               type=\"text\"\n//               placeholder=\"Search By User ID / Name / Phone\"\n//               className=\"border px-4 py-2 rounded-md w-[300px]\"\n//               value={search}\n//               onChange={(e) => setSearch(e.target.value)}\n//             />\n//             <div className=\"flex gap-2\">\n//               <button\n//                 onClick={() => {\n//                   setCsvModalOpen(true);\n//                   setType(\"emi\");\n//                 }}\n//                 className=\"w-30 bg-[#044b99] rounded text-white cursor-pointer hover:bg-white border-1 hover:border-[#044b99] hover:text-[#044b99] transition\"\n//               >\n//                 Insert EMI&apos;s\n//               </button>\n//               <button\n//                 onClick={handleDelete}\n//                 className=\"w-30 bg-[#044b99] rounded text-white cursor-pointer hover:bg-white border-1 hover:border-[#044b99] hover:text-[#044b99] transition\"\n//               >\n//                 Delete Users\n//               </button>\n//               <button\n//                 onClick={() => {\n//                   setCsvModalOpen(true);\n//                   setType(\"user\");\n//                 }}\n//                 className=\"w-30 bg-[#044b99] rounded text-white cursor-pointer hover:bg-white border-1 hover:border-[#044b99] hover:text-[#044b99] transition\"\n//               >\n//                 Add Users\n//               </button>\n\n//               <select\n//                 className=\"border px-4 py-2 rounded-md\"\n//                 value={statusFilter}\n//                 onChange={(e) => setStatusFilter(e.target.value)}\n//               >\n//                 <option value=\"\">Status</option>\n//                 <option value=\"pending\">Pending</option>\n//                 <option value=\"approve\">Approved</option>\n//               </select>\n\n//               <select\n//                 className=\"border px-4 py-2 rounded-md\"\n//                 value={genderFilter}\n//                 onChange={(e) => setGenderFilter(e.target.value)}\n//               >\n//                 <option value=\"\">Gender</option>\n//                 <option value=\"male\">Male</option>\n//                 <option value=\"female\">Female</option>\n//               </select>\n//             </div>\n//           </div>\n\n//           {/* EMI Table */}\n//           {isEMI ? (\n//             <table className=\"w-full text-sm border text-center\">\n//               <thead className=\"bg-gray-100\">\n//                 <tr className=\"text-center\">\n//                   <th className=\"p-3\">\n//                     <input\n//                       type=\"checkbox\"\n//                       onChange={handleSelectAll}\n//                       checked={\n//                         selectedUsers.length ===\n//                           filteredEmiUsers.filter((u) => u?.id || u?.phone)\n//                             .length && filteredEmiUsers.length > 0\n//                       }\n//                     />\n//                   </th>\n//                   <th className=\"p-3\">User ID</th>\n//                   <th className=\"p-3\">DRI User</th>\n//                   <th className=\"p-3\">Gender</th>\n//                   <th className=\"p-3\">User Mob No.</th>\n//                   <th className=\"p-3\">EMI Progress</th>\n//                   <th className=\"p-3\">Status</th>\n//                   <th className=\"p-3 text-center\">Actions</th>\n//                 </tr>\n//               </thead>\n//               <tbody>\n//                 {filteredEmiUsers.length === 0 ? (\n//                   <tr>\n//                     <td colSpan={9} className=\"p-4 text-center\">\n//                       No Users Found\n//                     </td>\n//                   </tr>\n//                 ) : (\n//                   filteredEmiUsers.map((user, idx) => (\n//                     <tr key={idx} className=\"border-t text-center\">\n//                       <td>\n//                         <input\n//                           type=\"checkbox\"\n//                           checked={selectedUsers.includes(\n//                             user?.id || user?.phone\n//                           )}\n//                           onChange={() => handleSelectOne(user)}\n//                         />\n//                       </td>\n//                       <td className=\"p-3\">{user?.id}</td>\n//                       <td className=\"p-3 flex items-center gap-3\">\n//                         {user?.name}\n//                       </td>\n//                       <td>{toTitleCase(user?.gender)}</td>\n\n//                       <td className=\"p-3\">{user?.phone}</td>\n//                       <td className=\"p-3\">\n//                         {user?.emiPay}/{user?.totalEmi}\n//                       </td>\n//                       <td className=\"p-3\">\n//                         <span\n//                           className={`inline-flex items-center gap-2 ${\n//                             user.status?.toLowerCase() === \"paid\"\n//                               ? \"text-green-600\"\n//                               : user.status?.toLowerCase() === \"pending\"\n//                               ? \"text-red-600\"\n//                               : \"text-blue-600\"\n//                           }`}\n//                         >\n//                           <span\n//                             className={`h-2 w-2 rounded-full ${\n//                               user.status?.toLowerCase() === \"paid\"\n//                                 ? \"bg-green-500\"\n//                                 : user.status?.toLowerCase() === \"pending\"\n//                                 ? \"bg-red-500\"\n//                                 : \"bg-blue-500\"\n//                             }`}\n//                           ></span>\n//                           {user.status}\n//                         </span>\n//                       </td>\n//                       <td className=\"p-3 flex gap-3 justify-center\">\n//                         {selectedUsers.length === 1 &&\n//                         selectedUsers.includes(user?.id || user?.phone) ? (\n//                           // ✅ Update button\n//                           <button\n//                             className=\"bg-[#044B99] text-white px-3 py-1 rounded\"\n//                             onClick={() => {\n//                               setUpdateUser(user); // update modal user\n//                               setUpdateModalOpen(true); // open modal\n//                             }}\n//                           >\n//                             Update\n//                           </button>\n//                         ) : (\n//                           // ✅ Default Actions\n//                           <>\n//                             <button\n//                               onClick={() =>\n//                                 openModal({\n//                                   view: \"upload\",\n//                                   phone: user?.phone,\n//                                 })\n//                               }\n//                               className=\"bg-[#044B99] text-white px-3 py-1 rounded\"\n//                             >\n//                               Upload File\n//                             </button>\n//                             <button\n//                               onClick={() =>\n//                                 handleShow({\n//                                   phone: user?.phone,\n//                                   id: user?.kyc?.user_id,\n//                                 })\n//                               }\n//                               className=\"bg-[#044B99] text-white px-3 py-1 rounded\"\n//                             >\n//                               Manual EMI\n//                             </button>\n//                             <button\n//                               onClick={() =>\n//                                 openModal({ view: \"view\", phone: user?.phone })\n//                               }\n//                               className=\"font-semibold px-3 py-1 rounded\"\n//                             >\n//                               View\n//                             </button>\n//                           </>\n//                         )}\n//                       </td>\n//                     </tr>\n//                   ))\n//                 )}\n//               </tbody>\n//             </table>\n//           ) : (\n//             /* KYC Table */\n//             <table className=\"w-full text-sm text-left border\">\n//               <thead className=\"bg-gray-100\">\n//                 <tr className=\"text-center\">\n//                   <th className=\"p-3\">DRI User</th>\n//                   <th className=\"p-3\">Gender</th>\n//                   <th className=\"p-3\">Joining Date</th>\n//                   <th className=\"p-3\">User Mob No.</th>\n//                   <th className=\"p-3\">Status</th>\n//                   <th className=\"p-3\">Actions</th>\n//                 </tr>\n//               </thead>\n//               <tbody>\n//                 {filteredKycUsers.length === 0 ? (\n//                   <tr>\n//                     <td colSpan={6} className=\"p-4 text-center\">\n//                       No Users Found\n//                     </td>\n//                   </tr>\n//                 ) : (\n//                   filteredKycUsers.map((user, idx) => (\n//                     <tr key={idx} className=\"border-t text-center\">\n//                       {console.log(\"user\", user)}\n//                       <td className=\"p-3 flex items-center justify-center gap-3\">\n//                         <div className=\"font-medium\">{user?.name}</div>\n//                       </td>\n//                       <td>{toTitleCase(user?.gender)}</td>\n//                       <td className=\"p-3\">\n//                         {user?.date || formatDate(user?.joinDate)}\n//                       </td>\n//                       <td className=\"p-3\">{user?.user_id?.phone}</td>\n//                       <td className=\"p-3\">\n//                         <span\n//                           className={`inline-flex items-center gap-2 ${\n//                             user.status?.toLowerCase() === \"approve\"\n//                               ? \"text-green-600\"\n//                               : \"text-red-600\"\n//                           }`}\n//                         >\n//                           <span\n//                             className={`h-2 w-2 rounded-full ${\n//                               user.status?.toLowerCase() === \"approve\"\n//                                 ? \"bg-green-500\"\n//                                 : \"bg-red-500\"\n//                             }`}\n//                           ></span>\n//                           {user.status}\n//                         </span>\n//                       </td>\n//                       <td className=\"p-3\">\n//                         <button\n//                           onClick={() => {\n//                             setSelectedUser(user);\n//                             setReviewModalOpen(true);\n//                           }}\n//                           className=\"bg-[#044B99] text-white px-4 py-1 rounded-lg\"\n//                         >\n//                           Review & Assign\n//                         </button>\n//                       </td>\n//                     </tr>\n//                   ))\n//                 )}\n//               </tbody>\n//             </table>\n//           )}\n//         </div>\n//       </div>\n\n//       {/* Modals */}\n//       <UploadEMIModal\n//         isOpen={isModalOpen}\n//         onClose={() => setIsModalOpen(false)}\n//         mode={modalMode}\n//         refreshFun={handleRefresh}\n//       />\n//       <ReviewAssignModal\n//         isOpen={reviewModalOpen}\n//         onClose={() => setReviewModalOpen(false)}\n//         userData={selectedUser}\n//       />\n//       <PayToDri\n//         show={show}\n//         phone={selectedPhone}\n//         handleClose={() => {\n//           handleClose();\n//           getAllDriUers();\n//           GetAllKycUser();\n//         }}\n//       />\n//       <UploadCSVModal\n//         isOpen={csvModalOpen}\n//         onClose={() => {\n//           setCsvModalOpen(false);\n//           getAllDriUers();\n//           GetAllKycUser();\n//         }}\n//         types={type}\n//       />\n//       {updateModalOpen && (\n//         <UpdateProfile\n//           isOpen={updateModalOpen}\n//           onClose={() => setUpdateModalOpen(false)}\n//           userData={updateUser}\n//         />\n//       )}\n//     </div>\n//   );\n// }\n\n\"use client\";\n\nimport { useState, useEffect } from \"react\";\nimport Header from \"../components/Header\";\nimport UploadEMIModal from \"../components/UploadEMIModal\";\nimport { API_BASE_URL } from \"@/url/BaseURL\";\nimport { ApiRute } from \"@/url/ApiRoute\";\nimport ReviewAssignModal from \"../components/ReviewAssignModal\";\nimport PayToDri from \"../components/PaytoDri\";\nimport UploadCSVModal from \"../components/uploadUsersFromCSV\";\nimport { toTitleCase } from \"@/utlis/string\";\nimport toast from \"react-hot-toast\";\nimport { getStroage } from \"@/url/storage\";\nimport UpdateProfile from \"../components/UpdateProfile\";\n\nfunction formatDate(date) {\n  const dateArr = date?.split(\"-\");\n  const dateTime = dateArr[dateArr?.length - 1];\n  const day = dateTime?.split(\"T\")[0];\n  const year = dateArr[0];\n  const month = dateArr[1];\n  return `${day}/${month}/${year}`;\n}\n\nexport default function DashboardPage() {\n  const [activeTab, setActiveTab] = useState(\"emi\");\n  const [statusFilter, setStatusFilter] = useState(\"\");\n  const [genderFilter, setGenderFilter] = useState(\"\");\n  const [keycUsers, setKycUser] = useState([]);\n  const [emiUsers, setEmiUsers] = useState([]);\n  const [search, setSearch] = useState(\"\");\n\n  const [selectedUsers, setSelectedUsers] = useState([]);\n  const [userIds, setUserIds] = useState([]);\n  const [phones, setPhones] = useState([]);\n\n  const [isModalOpen, setIsModalOpen] = useState(false);\n  const [modalMode, setModalMode] = useState(\"upload\");\n  const [show, setShow] = useState(false);\n  const [selectedPhone, setPhone] = useState(0);\n  const [reviewModalOpen, setReviewModalOpen] = useState(false);\n  const [selectedUser, setSelectedUser] = useState(null);\n  const [csvModalOpen, setCsvModalOpen] = useState(false);\n  const [updateModalOpen, setUpdateModalOpen] = useState(false);\n  const [updateUser, setUpdateUser] = useState(null);\n  const [type, setType] = useState(\"\");\n  const [refresh, setRefresh] = useState(false);\n\n  const isEMI = activeTab === \"emi\";\n\n  useEffect(() => {\n    fetchAllUsers();\n  }, [refresh]);\n\n  const fetchAllUsers = async () => {\n    await GetAllKycUser();\n    await getAllDriUers();\n  };\n\n  const GetAllKycUser = async () => {\n    const res = await fetch(`${API_BASE_URL}${ApiRute.kyc.get}`);\n    const result = await res.json();\n    setKycUser(result?.data || []);\n  };\n\n  const getAllDriUers = async () => {\n    const res = await fetch(`${API_BASE_URL}${ApiRute.driUser.getAll}`);\n    const result = await res.json();\n    if (result?.success) setEmiUsers(result?.data || []);\n  };\n\n  const openModal = (mode) => {\n    setModalMode(mode);\n    setIsModalOpen(true);\n  };\n\n  const handleShow = (data) => {\n    setPhone(data?.phone);\n    setShow(true);\n  };\n\n  const handleClose = () => setShow(false);\n\n  const filteredEmiUsers = emiUsers.filter(\n    (user) =>\n      user?.id?.toString().includes(search) ||\n      user?.name?.toLowerCase().includes(search.toLowerCase()) ||\n      user?.phone?.toString().includes(search)\n  );\n\n  const filteredKycUsers = keycUsers.filter(\n    (user) =>\n      (!statusFilter ||\n        user.status?.toLowerCase() === statusFilter.toLowerCase()) &&\n      (!genderFilter ||\n        user.gender?.toLowerCase() === genderFilter.toLowerCase()) &&\n      (user?.id?.toString().includes(search) ||\n        user?.name?.toLowerCase().includes(search.toLowerCase()) ||\n        user?.kyc?.user_id?.toString().includes(search))\n  );\n\n  // ✅ Select All\n  const handleSelectAll = () => {\n    const usersToSelect = isEMI ? filteredEmiUsers : filteredKycUsers;\n\n    const allUserIds = [];\n    const allPhones = [];\n\n    usersToSelect.forEach((user) => {\n      if (user?.phone) allPhones.push(user.phone);\n      if (user?.kyc?.user_id) allUserIds.push(user.kyc.user_id);\n    });\n\n    const allSelectedCount = allUserIds.length + allPhones.length;\n\n    // Toggle: if all are already selected, unselect all\n    if (selectedUsers.length === allSelectedCount) {\n      setSelectedUsers([]);\n      setUserIds([]);\n      setPhones([]);\n    } else {\n      setSelectedUsers([...allUserIds, ...allPhones]);\n      setUserIds(allUserIds);\n      setPhones(allPhones);\n    }\n  };\n  // ✅ Select One\n  const handleSelectOne = (user) => {\n    const idForDelete = user?.kyc?.user_id;\n    const phone = user?.phone;\n\n    const idOrPhone = idForDelete || phone;\n\n    setSelectedUsers((prev) =>\n      prev.includes(idOrPhone)\n        ? prev.filter((u) => u !== idOrPhone)\n        : [...prev, idOrPhone]\n    );\n\n    if (idForDelete) {\n      setUserIds((prev) =>\n        prev.includes(idForDelete)\n          ? prev.filter((u) => u !== idForDelete)\n          : [...prev, idForDelete]\n      );\n    }\n    if (phone) {\n      setPhones((prev) =>\n        prev.includes(phone)\n          ? prev.filter((p) => p !== phone)\n          : [...prev, phone]\n      );\n    }\n  };\n\n  // ✅ Delete\n  const handleDelete = async () => {\n    if (!selectedUsers.length) {\n      toast.error(\"No users selected\");\n      return;\n    }\n    try {\n      const res = await fetch(\n        `${API_BASE_URL}${ApiRute.driUser.permanentDelete}`,\n        {\n          method: \"DELETE\",\n          headers: {\n            \"content-type\": \"application/json\",\n            authorization: `Bearer ${getStroage().token}`,\n          },\n          body: JSON.stringify({ userIds, phones }), // only user_id and phone\n        }\n      );\n      const result = await res.json();\n      if (result?.success) {\n        toast.success(result?.message);\n        setSelectedUsers([]);\n        setUserIds([]);\n        setPhones([]);\n        fetchAllUsers();\n        handleRefresh();\n      } else {\n        toast.error(result?.message);\n      }\n    } catch (error) {\n      console.error(error);\n      toast.error(\"Something went wrong!\");\n    }\n  };\n\n  const handleRefresh = () => setRefresh((prev) => !prev);\n\n  return (\n    <div>\n      <Header />\n\n      <div className=\"min-h-screen p-4 w-full mx-auto\">\n        {/* Tabs */}\n        <div className=\"w-full mx-auto mt-4 flex mb-10 border-2 border-blue-800\">\n          <div\n            onClick={() => setActiveTab(\"emi\")}\n            className={`w-1/2 text-center py-3 font-semibold text-lg cursor-pointer border-r border-blue-800 ${\n              isEMI\n                ? \"bg-[#00479C] text-white\"\n                : \"bg-[#F3F8FF] text-[#00479C] border-blue-800\"\n            }`}\n          >\n            User EMI Summary\n          </div>\n          <div\n            onClick={() => setActiveTab(\"kyc\")}\n            className={`w-1/2 text-center py-3 font-semibold text-lg cursor-pointer ${\n              !isEMI\n                ? \"bg-[#00479C] text-white\"\n                : \"bg-[#F3F8FF] text-[#00479C] border-blue-800\"\n            }`}\n          >\n            KYC Approval\n          </div>\n        </div>\n\n        {/* Filters & Actions */}\n        <div className=\"flex justify-between mb-4\">\n          <input\n            type=\"text\"\n            placeholder=\"Search By User ID / Name / Phone\"\n            className=\"border px-4 py-2 rounded-md w-[300px]\"\n            value={search}\n            onChange={(e) => setSearch(e.target.value)}\n          />\n          <div className=\"flex gap-2\">\n            <button\n              onClick={() => {\n                setCsvModalOpen(true);\n                setType(\"emi\");\n              }}\n              className=\"w-30 bg-[#044b99] rounded text-white cursor-pointer hover:bg-white border-1 hover:border-[#044b99] hover:text-[#044b99] transition\"\n            >\n              Insert EMI&apos;s\n            </button>\n            <button\n              onClick={handleDelete}\n              className=\"w-30 bg-[#044b99] rounded text-white cursor-pointer hover:bg-white border-1 hover:border-[#044b99] hover:text-[#044b99] transition\"\n            >\n              Delete Users\n            </button>\n            <button\n              onClick={() => {\n                setCsvModalOpen(true);\n                setType(\"user\");\n              }}\n              className=\"w-30 bg-[#044b99] rounded text-white cursor-pointer hover:bg-white border-1 hover:border-[#044b99] hover:text-[#044b99] transition\"\n            >\n              Add Users\n            </button>\n\n            <select\n              className=\"border px-4 py-2 rounded-md\"\n              value={statusFilter}\n              onChange={(e) => setStatusFilter(e.target.value)}\n            >\n              <option value=\"\">Status</option>\n              <option value=\"pending\">Pending</option>\n              <option value=\"approve\">Approved</option>\n            </select>\n\n            <select\n              className=\"border px-4 py-2 rounded-md\"\n              value={genderFilter}\n              onChange={(e) => setGenderFilter(e.target.value)}\n            >\n              <option value=\"\">Gender</option>\n              <option value=\"male\">Male</option>\n              <option value=\"female\">Female</option>\n            </select>\n          </div>\n        </div>\n\n        {/* Table */}\n        {isEMI ? (\n          <table className=\"w-full text-sm border text-center\">\n            <thead className=\"bg-gray-100\">\n              <tr className=\"text-center\">\n                <th className=\"p-3\">\n                  <input\n                    type=\"checkbox\"\n                    onChange={handleSelectAll}\n                    checked={\n                      selectedUsers.length ===\n                        filteredEmiUsers.filter(\n                          (u) => u?.phone || u?.kyc?.user_id\n                        ).length && filteredEmiUsers.length > 0\n                    }\n                  />\n                </th>\n                <th className=\"p-3\">User ID</th>\n                <th className=\"p-3\">DRI User</th>\n                <th className=\"p-3\">Gender</th>\n                <th className=\"p-3\">User Mob No.</th>\n                <th className=\"p-3\">EMI Progress</th>\n                <th className=\"p-3\">Status</th>\n                <th className=\"p-3 text-center\">Actions</th>\n              </tr>\n            </thead>\n            <tbody>\n              {filteredEmiUsers.length === 0 ? (\n                <tr>\n                  <td colSpan={9} className=\"p-4 text-center\">\n                    No Users Found\n                  </td>\n                </tr>\n              ) : (\n                filteredEmiUsers.map((user, idx) => (\n                  <tr key={idx} className=\"border-t text-center\">\n                    <td>\n                      <input\n                        type=\"checkbox\"\n                        checked={selectedUsers.includes(\n                          user?.kyc?.user_id || user?.phone\n                        )}\n                        onChange={() => handleSelectOne(user)}\n                      />\n                    </td>\n                    <td className=\"p-3\">{user?.id}</td>\n                    <td className=\"p-3 flex items-center gap-3\">\n                      {user?.name}\n                    </td>\n                    <td>{toTitleCase(user?.gender)}</td>\n                    <td className=\"p-3\">{user?.phone}</td>\n                    <td className=\"p-3\">\n                      {user?.emiPay}/{user?.totalEmi}\n                    </td>\n                    <td className=\"p-3\">\n                      <span\n                        className={`inline-flex items-center gap-2 ${\n                          user.status?.toLowerCase() === \"paid\"\n                            ? \"text-green-600\"\n                            : user.status?.toLowerCase() === \"pending\"\n                            ? \"text-red-600\"\n                            : \"text-blue-600\"\n                        }`}\n                      >\n                        <span\n                          className={`h-2 w-2 rounded-full ${\n                            user.status?.toLowerCase() === \"paid\"\n                              ? \"bg-green-500\"\n                              : user.status?.toLowerCase() === \"pending\"\n                              ? \"bg-red-500\"\n                              : \"bg-blue-500\"\n                          }`}\n                        ></span>\n                        {user.status}\n                      </span>\n                    </td>\n                    <td className=\"p-3 flex gap-3 justify-center\">\n                      {selectedUsers.length === 1 &&\n                      selectedUsers.includes(\n                        user?.kyc?.user_id || user?.phone\n                      ) ? (\n                        <button\n                          className=\"bg-[#044B99] text-white px-3 py-1 rounded\"\n                          onClick={() => {\n                            setUpdateUser(user);\n                            setUpdateModalOpen(true);\n                          }}\n                        >\n                          Update\n                        </button>\n                      ) : (\n                        <>\n                          <button\n                            onClick={() =>\n                              openModal({ view: \"upload\", phone: user?.phone })\n                            }\n                            className=\"bg-[#044B99] text-white px-3 py-1 rounded\"\n                          >\n                            Upload File\n                          </button>\n                          <button\n                            onClick={() =>\n                              handleShow({\n                                phone: user?.phone,\n                                id: user?.kyc?.user_id,\n                              })\n                            }\n                            className=\"bg-[#044B99] text-white px-3 py-1 rounded\"\n                          >\n                            Manual EMI\n                          </button>\n                          <button\n                            onClick={() =>\n                              openModal({ view: \"view\", phone: user?.phone })\n                            }\n                            className=\"font-semibold px-3 py-1 rounded\"\n                          >\n                            View\n                          </button>\n                        </>\n                      )}\n                    </td>\n                  </tr>\n                ))\n              )}\n            </tbody>\n          </table>\n        ) : (\n          <table className=\"w-full text-sm text-left border\">\n            <thead className=\"bg-gray-100\">\n              <tr className=\"text-center\">\n                <th className=\"p-3\">DRI User</th>\n                <th className=\"p-3\">Gender</th>\n                <th className=\"p-3\">Joining Date</th>\n                <th className=\"p-3\">User Mob No.</th>\n                <th className=\"p-3\">Status</th>\n                <th className=\"p-3\">Actions</th>\n              </tr>\n            </thead>\n            <tbody>\n              {filteredKycUsers.length === 0 ? (\n                <tr>\n                  <td colSpan={6} className=\"p-4 text-center\">\n                    No Users Found\n                  </td>\n                </tr>\n              ) : (\n                filteredKycUsers.map((user, idx) => (\n                  <tr key={idx} className=\"border-t text-center\">\n                    <td className=\"p-3 flex items-center justify-center gap-3\">\n                      <div className=\"font-medium\">{user?.name}</div>\n                    </td>\n                    <td>{toTitleCase(user?.gender)}</td>\n                    <td className=\"p-3\">\n                      {user?.date || formatDate(user?.joinDate)}\n                    </td>\n                    <td className=\"p-3\">\n                      {user?.kyc?.user_id?.phone || user?.phone}\n                    </td>\n                    <td className=\"p-3\">\n                      <span\n                        className={`inline-flex items-center gap-2 ${\n                          user.status?.toLowerCase() === \"approve\"\n                            ? \"text-green-600\"\n                            : \"text-red-600\"\n                        }`}\n                      >\n                        <span\n                          className={`h-2 w-2 rounded-full ${\n                            user.status?.toLowerCase() === \"approve\"\n                              ? \"bg-green-500\"\n                              : \"bg-red-500\"\n                          }`}\n                        ></span>\n                        {user.status}\n                      </span>\n                    </td>\n                    <td className=\"p-3\">\n                      <button\n                        onClick={() => {\n                          setSelectedUser(user);\n                          setReviewModalOpen(true);\n                        }}\n                        className=\"bg-[#044B99] text-white px-4 py-1 rounded-lg\"\n                      >\n                        Review & Assign\n                      </button>\n                    </td>\n                  </tr>\n                ))\n              )}\n            </tbody>\n          </table>\n        )}\n      </div>\n\n      {/* Modals */}\n      <UploadEMIModal\n        isOpen={isModalOpen}\n        onClose={() => setIsModalOpen(false)}\n        mode={modalMode}\n        refreshFun={handleRefresh}\n      />\n      <ReviewAssignModal\n        isOpen={reviewModalOpen}\n        onClose={() => setReviewModalOpen(false)}\n        userData={selectedUser}\n      />\n      <PayToDri\n        show={show}\n        phone={selectedPhone}\n        handleClose={() => {\n          handleClose();\n          fetchAllUsers();\n        }}\n      />\n      <UploadCSVModal\n        isOpen={csvModalOpen}\n        onClose={() => {\n          setCsvModalOpen(false);\n          fetchAllUsers();\n        }}\n        types={type}\n      />\n      {updateModalOpen && (\n        <UpdateProfile\n          isOpen={updateModalOpen}\n          onClose={() => setUpdateModalOpen(false)}\n          userData={updateUser}\n        />\n      )}\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}